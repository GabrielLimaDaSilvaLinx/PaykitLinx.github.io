{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Introdu\u00e7\u00e3o","text":""},{"location":"#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este documento tem por objetivo descrever como o sistema D-TEF interage com os sistemas de automa\u00e7\u00e3o, de forma a que os respons\u00e1veis pelos mesmos possam fazer as adapta\u00e7\u00f5es necess\u00e1rias para viabilizar a execu\u00e7\u00e3o de transa\u00e7\u00f5es de transfer\u00eancia eletr\u00f4nica de fundos (TEF). O sistema D-TEF \u00e9 um conjunto de utilit\u00e1rios e bibliotecas que capacitam os estabelecimentos comerciais, que possuem equipamentos adequados, a efetuar transa\u00e7\u00f5es de TEF. Usando a modalidade Troca de Arquivos, onde se requer liga\u00e7\u00e3o permanente entre o estabelecimento comercial e as institui\u00e7\u00f5es financeiras, o sistema D-TEF viabiliza, entre outros servi\u00e7os, pagamentos de compras atrav\u00e9s de cart\u00f5es de cr\u00e9dito e cart\u00f5es de d\u00e9bito e verifica\u00e7\u00e3o de idoneidade de clientes atrav\u00e9s de consulta a institui\u00e7\u00f5es de prote\u00e7\u00e3o ao cr\u00e9dito (SERASA, Associa\u00e7\u00e3o Comercial, Teledata, CDL). O m\u00f3dulo principal do sistema D-TEF \u00e9 executado como servi\u00e7o do Windows (2003/2008/2012). Opera em conjunto com o sistema de automa\u00e7\u00e3o comercial, interagindo com este atrav\u00e9s de duas formas distintas: Atrav\u00e9s de uma DLL ( DPOSDRV.DLL ), onde o sistema de automa\u00e7\u00e3o comercial realiza a comunica\u00e7\u00e3o com o D-TEF por meio de chamadas diretas de fun\u00e7\u00e3o; Atrav\u00e9s de troca de arquivos, onde as informa\u00e7\u00f5es das transa\u00e7\u00f5es s\u00e3o passadas por meio de arquivos com conte\u00fado e formatos espec\u00edficos para cada opera\u00e7\u00e3o. As duas formas de comunica\u00e7\u00e3o s\u00e3o equivalentes em funcionalidade. A escolha por uma ou por outra forma fica a crit\u00e9rio do desenvolvedor do software de automa\u00e7\u00e3o comercial.</p>"},{"location":"#convencoes-utilizadas-neste-manual","title":"Conven\u00e7\u00f5es utilizadas neste Manual","text":"<p>A descri\u00e7\u00e3o dos par\u00e2metros de fun\u00e7\u00f5es e campos de registros apresentados neste manual segue a conven\u00e7\u00e3o da tabela a seguir.</p> # Descri\u00e7\u00e3o Observa\u00e7\u00e3o <code>A</code> campo alfanum\u00e9rico completado com espa\u00e7os \u00e0 direita e preenchidocom espa\u00e7os, quando n\u00e3o informado <code>H</code> campo hexadecimal campo bin\u00e1rio <code>N</code> campo num\u00e9rico completado com zeros \u00e0 esquerda e preenchidocom zeros, quando n\u00e3o informado <code>I</code> valor inteiro retorno ou par\u00e2metro de fun\u00e7\u00e3o de valor inteiro (integer ) <code>P</code> ponteiro para caracter ponteiro para um array de caracteres (PChar) como par\u00e2metro de fun\u00e7\u00e3o"},{"location":"pages/FAQ/","title":"FAQ","text":""},{"location":"pages/FAQ/#historico-de-revisao","title":"Historico de revis\u00e3o","text":"<p>Abaixo voc\u00ea pode encontrar uma lista das perguntas mais comuns realizadas ao nosso time de homologa\u00e7\u00e3o.</p>"},{"location":"pages/FAQ/#1-esta-apresentando-erro-ao-baixar-certificado","title":"1. Est\u00e1 apresentando erro ao baixar certificado.","text":"<p>Executar a aplica\u00e7\u00e3o ClientCertificado.exe como administrador e verificar se o endere\u00e7o est\u00e1 correto.</p> <p>https://tef.linxsaas.com.br/certificados/Gerenciador_Certificado.cgi</p>"},{"location":"pages/FAQ/#2-ao-tentar-efetuar-a-transacao-esta-retornando-a-mensagem-t19-loja-nao-cadastrada","title":"2. Ao tentar efetuar a transa\u00e7\u00e3o est\u00e1 retornando a mensagem T19-Loja n\u00e3o cadastrada.","text":"<p>Verificar configura\u00e7\u00e3o dos dados da Loja, Empresa, CNPJ e endere\u00e7o de comunica\u00e7\u00e3o com o D-TEF que devem estar de acordo com os dados passados informados na libera\u00e7\u00e3o do ambiente.</p>"},{"location":"pages/FAQ/#3-quais-transacoes-devo-desenvolver","title":"3. Quais transa\u00e7\u00f5es devo desenvolver?","text":"<p>As transa\u00e7\u00f5es b\u00e1sicas s\u00e3o Cr\u00e9dito, D\u00e9bito, Cancelamento e Reimpress\u00e3o. As demais devem ser avaliadas de acordo com os estabelecimentos que atendem,</p>"},{"location":"pages/FAQ/#4-podemos-efetuar-transacoes-digitadas","title":"4. Podemos efetuar transa\u00e7\u00f5es digitadas?","text":"<p>Somente as transa\u00e7\u00f5es de Cr\u00e9dito podem ser digitadas para as transa\u00e7\u00f5es de D\u00e9bito, Voucher ou Frota h\u00e1 necessidade de pin pad.</p>"},{"location":"pages/FAQ/#5-a-aplicacao-esta-apresentando-erro-ao-chamar-as-funcoes-tef","title":"5. A aplica\u00e7\u00e3o est\u00e1 apresentando erro ao chamar as fun\u00e7\u00f5es TEF","text":"<p>Verificar se existe o arquivo DPOSDRV.dll em outro local na m\u00e1quina que n\u00e3o seja no diret\u00f3rio BIN do client D-POS. Se houver ela deve ser deletada.</p>"},{"location":"pages/FAQ/#6-o-cartao-que-possuo-nao-esta-passando","title":"6. O cart\u00e3o que possuo n\u00e3o est\u00e1 passando","text":"<p>Tentar com outro cart\u00e3o e se ainda houver problemas entrar em contato para alteramos a inicializa\u00e7\u00e3o do simulador.</p>"},{"location":"pages/FAQ/#7-o-cupom-tef-nao-esta-sendo-gravado","title":"7. O cupom TEF n\u00e3o est\u00e1 sendo gravado.","text":"<p>Verificar se est\u00e1 efetuando a confirma\u00e7\u00e3o e finaliza\u00e7\u00e3o da transa\u00e7\u00e3o antes de capturar o cupom para impress\u00e3o.</p>"},{"location":"pages/FAQ/#8-as-funcoes-inicalizapos-e-finalizapos-devem-ser-executadas","title":"8. As fun\u00e7\u00f5es InicalizaPOS e FinalizaPOS devem ser executadas?","text":"<p>Sim, elas devem ser executadas sempre ao abrir e fechar a aplica\u00e7\u00e3o do PDV. Essas fun\u00e7\u00f5es n\u00e3o tem rela\u00e7\u00e3o com abertura ou fechamento de caixa, seria uma abertura de terminal.</p>"},{"location":"pages/FAQ/#9-como-sabemos-que-a-transacao-foi-aprovada-ou-negada","title":"9. Como sabemos que a transa\u00e7\u00e3o foi aprovada ou negada?","text":"<p>A fun\u00e7\u00e3o ir\u00e1 retornar 11 para as transa\u00e7\u00f5es negadas e 00 para as transa\u00e7\u00f5es aprovadas retornando o cupom TEF para impress\u00e3o.</p>"},{"location":"pages/FAQ/#10-quando-a-confirmacao-da-transacao-tef-deve-ser-efetuada","title":"10. Quando a confirma\u00e7\u00e3o da transa\u00e7\u00e3o TEF deve ser efetuada?","text":"<p>A confirma\u00e7\u00e3o pode ser realizada assim que a mesma for aprovada, pode ser antes ou depois da emiss\u00e3o do documento fiscal, dependendo de como cada automa\u00e7\u00e3o trabalha. Se houver algum problema na impress\u00e3o a reimpress\u00e3o do cupom TEF pode ser efetuada.</p>"},{"location":"pages/FAQ/#11-a-transacao-de-cancelamento-esta-ficando-pendente","title":"11. A transa\u00e7\u00e3o de cancelamento est\u00e1 ficando pendente.","text":"<p>Verificar se a confirma\u00e7\u00e3o e finaliza\u00e7\u00e3o est\u00e3o sendo enviadas. Para essa transa\u00e7\u00e3o poder\u00e1 utilizar a ConfirmaCartaoCredito e FinalizaTransacao.</p>"},{"location":"pages/FAQ/#12-como-e-realizada-a-confirmacao-das-transacoes-de-multiplos-cartoes","title":"12. Como \u00e9 realizada a confirma\u00e7\u00e3o das transa\u00e7\u00f5es de m\u00faltiplos cart\u00f5es?","text":"<p>A automa\u00e7\u00e3o deve efetuar as transa\u00e7\u00f5es e somente ao final do pagamento deve enviar as confirma\u00e7\u00f5es e a finaliza\u00e7\u00e3o das mesmas. Exemplo:</p> <p>TransacaoCredito</p> <p>TransacaoCredito</p> <p>ConfirmaCartaoCredito</p> <p>ConfirmaCartaoCredito</p> <p>FinalizaTransacao</p>"},{"location":"pages/FAQ/#13-como-e-realizada-a-confirmacao-das-transacoes-com-multiplos-cartoes-na-troca-de-arquivos","title":"13. Como \u00e9 realizada a confirma\u00e7\u00e3o das transa\u00e7\u00f5es com m\u00faltiplos cart\u00f5es na troca de arquivos?","text":"<p>A confirma\u00e7\u00e3o pode ser realizada a cada transa\u00e7\u00e3o efetuada ou confirmar ao final dos pagamentos. Para a segunda op\u00e7\u00e3o na solicita\u00e7\u00e3o da transa\u00e7\u00e3o deve-se enviar no campo 001-000 o n\u00famero 999 antes do c\u00f3digo da transa\u00e7\u00e3o. Na \u00faltima transa\u00e7\u00e3o n\u00e3o deve conter esse 999, O mesmo deve ser feito nas confirma\u00e7\u00f5es.</p> <p>Se a transa\u00e7\u00e3o for confirmada uma a uma quando houver a necessidade de desist\u00eancia da venda por exemplo a transa\u00e7\u00e3o de cancelamento deve ser chamada para cancelar a transa\u00e7\u00e3o.</p>"},{"location":"pages/FAQ/#14-como-identificar-a-via-do-cliente-e-estabelecimento-para-efetuar-o-corte-do-cupom-na-impressora","title":"14. Como identificar a via do cliente e estabelecimento para efetuar o corte do cupom na impressora?","text":"<p>A \u00faltima linha do cupom TEF sempre vai ser a NSU D-TEF ent\u00e3o quando a aplica\u00e7\u00e3o efetuar a leitura dessa linha saber\u00e1 que \u00e9 o final do comprovante e assim poder\u00e1 efetuar o corte.</p>"},{"location":"pages/IntegracaoAPIDesktop/","title":"Integra\u00e7\u00e3o via API Desktop","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/IntegracaoAPIDesktop/#introducao","title":"Introdu\u00e7\u00e3o","text":""},{"location":"pages/IntegracaoAPIDesktop/#fluxo-exemplo-para-integracao-por-funcoes","title":"Fluxo exemplo para Integra\u00e7\u00e3o por Fun\u00e7\u00f5es","text":""},{"location":"pages/IntegracaoAPIDesktop/#comunicacao-client-tef-com-o-sistema-de-automacao","title":"Comunica\u00e7\u00e3o Client TEF com o Sistema de Automa\u00e7\u00e3o","text":""},{"location":"pages/IntegracaoAPIDesktop/#fluxo-de-confirmacao-e-desfazimento","title":"Fluxo de confirma\u00e7\u00e3o e desfazimento","text":""},{"location":"pages/SPLITPagamento/","title":"SPLIT Pagamento","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/Apendice/Bandeiras/","title":"Bandeiras","text":""},{"location":"pages/Apendice/Bandeiras/#codigo-das-bandeiras-do-tef-linx","title":"C\u00f3digo das bandeiras do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das bandeiras utilizadas no TEF Linx.</p> C\u00f3digo Nome 0001 Visa 0002 Mastercard 0003 American Express 0004 Visa Vale 0005 Hipercard 0006 Diners 0007 Fininvest 0008 JCB 0009 Aura 0010 Sodexho 0011 Goodcard 0012 Sorocred 0013 Cardban 0014 Policard 0015 Cabal 0016 Ticket 0017 Dacasa 0018 TIPCard 0019 Banescard 0020 OndeCard 0021 Banrisul 0022 Banese 0023 Elo 0024 Refeisul 0025 Sicredi 0026 CooperCard 0027 Brasil Conv\u00eanios 0028 Fan Card 0029 Senff 0030 Graalcard 0031 PortalCard 0032 ValeCard 0033 SMC 0034 Cred-System Mais 0035 Verocheque 0036 Bonus CBA 0037 Sapore 0038 Bancred Card 0039 Elo Voucher 0040 Planvale 0041 Banquet 0042 Planinvesti 0043 Praticard 0044 Unik 0045 Verde Card 0046 BRCard 0047 PLENOCard 0048 Redeclass 0049 Basecard 0050 Calcard 0051 Minascred 0052 FlashCard 0053 Simcred 0054 Credipar 0055 Agiplan 0056 Auto Expresso 0057 Zaffari 0058 Gax 0059 Avenida 0060 Qualidade 0061 PersonalCard 0062 CentralCard 0063 GreenCard 0064 Nutricash 0065 GlobalCard 0066 Simers 0067 DMCard 0068 UseCred 0069 Borba Card 0070 NelyCard 0071 CrediShop 0072 Comprocard 0073 Cobal 0074 Esplanada 0075 Credz 0076 AzulCard 0077 Globocard 0078 Banpara 0079 ForthBrasil 0080 Softway 0081 Tricard 0082 ECX Card 0083 BrasilCard 0084 Credialimenta\u00e7\u00e3o 0085 Redemed 0086 Nutricard 0087 Discover 0088 Nalin 0089 MoveisCard 0090 Gyn Card 0091 Giracard 0092 Aceito 0093 Avista 0094 Ciclum 0095 Libercard 0096 Aesp 0097 Super Beal 0098 BNB Club 0099 Rodobens 0100 Mettacard 0101 Condor Card 0102 Vale Mais 0103 VR 0104 Queiroz Premium 0105 CPF 0106 Novo Card 0107 SinTram 0108 BigCard 0109 Ascard 0110 Kalicard 0111 Hiper 0112 Private 0113 Sysdata 0114 GoiasCard 0115 Sollus 0116 Grand Card 0117 Control Life 0118 Gold X 0119 Sued Card 0120 Sj Card 0121 ABC Cart\u00f5es 0122 Biq 0123 Obo\u00e9 Card 0124 Redecompras 0125 Sodexo HP 0126 Regicred 0127 Credshirmer 0128 GFCard 0129 PagCard 0130 RedeUze 0131 StepCard 0132 KalicardConvenios 0133 Ecopag 0134 Accredito 0135 Biz 0136 Lagoa Cred 0137 Expansiva 0138 Abrapetite 0139 Credpar 0140 CTF-BR 0141 Redecon 0142 FitCard 0143 WIZEO 0144 Ticket Log 0145 Credinova 0146 MaxisCard 0147 VegasCard 0148 Util Card 0149 PGCard 0150 MGCard 0151 Bracov 0152 LE CARD 0153 Paracatu Card 0154 FOX 0155 Vecell 0156 Alelo Flex Card 0157 Neus 0158 Starkcard 0159 FacilCard 0160 SafeCard 0161 South America 0162 RotaCard 0163 PagSimples 0164 FlexFrota 0165 FleetCard 0166 Epay Gift 0167 TecBiz 0168 Cooperativa Global 0169 Iti 0170 AddmealConvenio 0171 AudaxConvenio 0172 AutemcardConvenio 0173 CredtodosPrivate 0174 CroscardConvenio 0175 Drogabella 0176 Flexocard 0177 Kredilig 0178 LivreConvenio 0179 LivrePrivate 0180 ProcardConvenio 0181 ProcardPrivate 0182 RomCard 0183 Simec 0184 Eucard 0185 NGV 0186 Maxxvan 0187 BEN 0188 CabalVoucher 0189 TruckPag 0190 Mercado Pago 0191 GoldiCard 0192 CTF 0193 RealCard 0194 BraxCard 0195 Servir Card 0196 Ame Digital 0197 Samsung 0198 Valeshop 0199 SQCF 0200 Amplacard 0201 PicPay 0202 Conta Linx 0203 Convenios Card 0204 Symac Card 0205 Multimais 0206 Rede Farmes 0207 BANQI 0208 Ifood 0209 Ipiranga 0210 Magalu 0211 Merci 0212 Pagbank 0213 Rappi 0214 SafraPay 0215 System Farma 0216 Elo Beneficio 0217 Plus Frota 0218 Trio Card 0219 EuroKartensysteme 0220 Supcard 0221 Pix 0222 Festcard 0223 Pitcard 0224 Sigacred 0226 Omni 0227 Asmube Cash 0228 FlexiCard 0229 FlamCard 0230 008Cards 0231 Emanuelle PE 0232 Taco 0233 Cartao Bem Barato 0234 Algorix 0235 SiapCard 0236 Coopelife 0237 MGCard 0238 Boa Convenios 0239 Ascipam 0240 CredFacil 0241 QCard 0242 UpCard 0243 Multvale 0244 Trustcard 0245 Obencard"},{"location":"pages/Apendice/Contatos/","title":"Contatos","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/Apendice/ExemplosDeCodigo/","title":"Exemplos de c\u00f3digo","text":""},{"location":"pages/Apendice/ExemplosDeCodigo/#exemplos-de-codigo","title":"Exemplos de c\u00f3digo","text":"<p>Para acessar os exemplos de integra\u00e7\u00e3o disponiveis acesse nosso Github aqui!</p>"},{"location":"pages/Apendice/ManualIntegracaoPDF/","title":"Manual Integra\u00e7\u00e3o PDF","text":""},{"location":"pages/Apendice/ManualIntegracaoPDF/#manual-integracao-pdf","title":"Manual Integra\u00e7\u00e3o PDF","text":"<p>Manual PDF DPOS8</p> <p>Manual PDF Paykit</p>"},{"location":"pages/Apendice/MapaDeTerminais/","title":"Mapa de terminais homologados","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/Apendice/Operadoras/","title":"Operadoras","text":""},{"location":"pages/Apendice/Operadoras/#codigo-das-operadoras-do-tef-linx","title":"C\u00f3digo das operadoras do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das operadoras utilizadas no TEF Linx.</p> C\u00f3digo Nome 0001 ABCCartoes 0002 ABNAmroBank 0003 Abrapetite 0004 Alianca 0005 AmazonCard 0006 AmericaDoSul 0007 Ascard 0008 Aura 0009 AuraCetelem 0010 AuraRedecard 0011 AutDirCracha 0012 AutorizadorChequeDirecao 0013 BancoCacique 0014 BancoDoBrasil 0015 BancodoNordeste 0016 BancoGE 0017 BancoIBI 0018 BancoMercantilDoBrasil 0019 BancoOB 0020 BancoPortugues 0021 BancoProsper 0022 BancoRural 0023 Bandeirantes 0024 Baneb 0025 Banerj_Itau 0026 Banese 0027 Banespa 0028 Banestado 0029 Banestado_ou_Diners 0030 Banestes 0031 Banestik 0032 Banorte 0033 Banquet 0034 Banricompras 0035 BASA 0036 BaseCard 0037 Bea 0038 Bec 0039 Beg 0040 Bem 0041 Bemge 0042 Besc 0043 BFB_Itau 0044 Bonus 0045 Boston 0046 BPNCrediStar 0047 Bradesco 0048 BrasilConv 0049 BRB 0050 BRCard 0051 Cabal 0052 CaixaEcEstRioGrandeSul 0053 CaixaEconomicaFederal 0054 CarrefourAura 0055 CartaoBozano 0056 CartaoEsplanada 0057 CartaoLosango 0058 CartaoOtoch 0059 CartFrota 0060 CDC_Citibank 0061 CDC_Fenicia 0062 CDC_Itau 0063 Citibank 0064 Credialimentacao 0065 Credireal 0066 Credix 0067 CredMais 0068 CredSystem 0069 CredSystemTalisma 0070 Crefisul 0071 Diners 0072 Evangelico 0073 Expansiva 0074 ExpansivaAvista 0075 FAI_Itau 0076 FederalInvest 0077 FIC_Itau 0078 Fininvest 0079 FininvestAndreazza 0080 FininvestBigBom 0081 FininvestCasaAvenida 0082 FininvestSonda 0083 FininvestVisionPlus 0084 FortBrasil 0085 Aura 0086 Banquet 0087 Cabal 0088 Drogabel 0089 Goodcard 0090 Planinvesti 0091 Praticard 0092 RedeClass 0093 Sonae 0094 Sorocred 0095 SupCaju 0096 Unik 0097 VerdeCard 0098 GlobalCard 0099 Goodcard 0100 GreenCard 0101 Hipercard 0102 HipercardAssociados 0103 HSBC 0104 IncentiveHouse 0105 Intellisys 0106 Itau 0107 ItauPrivateLabel 0108 LemonBank 0109 Losango 0110 LosangoOutrasEmpresas 0111 Maestro 0112 MaestroC 0113 Mastercard 0114 Mercantil_do_Brasil 0115 Meridional 0116 Multicompra 0117 NossaCaixa 0118 NossaCaixaGold 0119 NossaCaixaInternacional 0120 NossaCaixaNacional 0121 NossaCaixaNossoBanco 0122 NossaCaixaPlatinum 0123 NossaCaixaUniversitario 0124 NutriCash 0125 Panamericano 0126 Personal 0127 Planinvesti 0128 Planvale 0129 Policard 0130 PortalCard 0131 PortalCardFrota 0132 PortalCardIdeal 0133 PortalCardRanchoAlim 0134 PortalCardRanchoConv 0135 Praticard 0136 PrivateAle 0137 PrivateDirecaoCondor 0138 PrivateIpiranga 0139 RanchoAlim 0140 RanchoConv 0141 RedeShop 0142 BanriCardAlimentacao 0143 Resomaq 0144 ResomaqBiq 0145 Safra 0146 Santander 0147 Sapore 0148 SenffNet 0149 Simers 0150 SmartShop 0151 Sodexo 0152 SodexoPremium 0153 SodexoVR 0154 SodexoSaude 0155 Softway 0156 SoftwayAdmiral 0157 SoftwayBrombatti 0158 SoftwayCaseli 0159 SoftwayContinental 0160 SoftwayDalila 0161 SoftwayDavi 0162 SoftwayFachini 0163 SoftwayFarmaciaEsperanca 0164 SoftwayFlach 0165 SoftwayForthBrasil 0166 SoftwayGabriela 0167 SoftwayGaedicke 0168 SoftwayKarla 0169 SoftwayKastelao 0170 SoftwayKellermann 0171 SoftwayLiderItaim 0172 SoftwayLopesValim 0173 SoftwayLunardi 0174 SoftwayManaira 0175 SoftwayMontico 0176 SoftwayNovaPatricia 0177 SoftwayPagPoko 0178 SoftwayPatricia 0179 SoftwayPedralli 0180 SoftwayPortaPrata 0181 SoftwayPromocional 0182 SoftwaySaoMateus 0183 SoftwaySchiochet 0184 SoftwaySchoka 0185 SoftwaySchwalm 0186 SoftwaySupCarajas 0187 SoftwaySuperBras 0188 SoftwaySuperIko 0189 SoftwaySupFernandes 0190 SoftwaySupMaia 0191 SoftwaySupSerido 0192 SoftwaySupSJ 0193 SoftwayValeGrande 0194 SoftwayVigano 0195 Sorocred 0196 SpecialCard 0197 Sudameris 0198 SuperCard 0199 Sysdata 0200 TelecomNet 0201 TelenetAscard 0202 TelenetBancred 0203 TelenetBrasilConvenios 0204 TelenetCartFrota 0205 TelenetCooperCard 0206 TelenetCredito 0207 TelenetMundialCard 0208 TelenetNutricash 0209 TelenetPersonalCard 0210 TelenetValecash 0211 TelenetVicard 0212 TelenetVoucher 0213 Ticket 0214 TicketAlimentacao 0215 TicketAlimentacaoPlus 0216 TicketCar 0217 TicketCar 0218 TicketConvenio 0219 TicketParc 0220 TicketPlus 0221 TicketRestaurante 0222 TivitBancoGE 0223 TivitBradesco 0224 TivitPanamericano 0225 TopPremium 0226 Unibanco 0227 UpSight 0228 ValeCard 0229 ValeCred 0230 Valetik 0231 VeroCheque 0232 VicsAvant 0233 VisaCredito 0234 VisaElectron 0235 Alelo 0236 WorkerCard 0237 Zogbi 0238 Amex 0239 PLENOCard 0240 Cresol 0241 Centralcard 0242 Onecard 0243 OnecardAlimentacao 0244 Guanabara 0245 Maxicartao 0246 Sesimax 0247 Sicredi 0248 BanriCardCombustivel 0249 BanriCardCartaoPresente 0250 Dacasa 0251 TIPCard 0252 Banescard 0253 EloIbi 0254 EloBB 0255 EloBradesco 0256 EloCaixa 0257 HSBCMastercard 0258 CooperCard 0259 EssoSantanderVisa 0260 EssoSantanderMastercard 0261 FanCard 0262 Graalcard 0263 SMC 0264 UnibancoVisa 0265 BancredCard 0266 AuraCondor 0267 EloAlimentacao 0268 EloRefeicao 0269 MarabrazPrivate 0270 Calcard 0271 Minascred 0272 Simcred 0273 Credipar 0274 Agiplan 0275 AutoExpresso 0276 Zaffari 0277 Gax 0278 Avenida 0279 FininvestMastercard 0280 Qualidade 0281 AleloAlimentacao 0282 AleloRefeicao 0283 TicketCultura 0284 DMCard 0285 Usecred 0286 BorbaCard 0287 NelyCard 0288 CrediShop 0289 Comprocard 0290 Cobal 0291 AzulCard 0292 Globocard 0293 Banpara 0294 EloCredito 0295 SoftwaySilvestre 0296 SoftwaySupercop 0297 SoftwayBomVizinho 0298 SoftwayFelipeCamarao 0299 SoftwaySupPaulista 0300 SoftwaySupSantos 0301 SoftwaySupEldorado 0302 SoftwaySupGringo 0303 SoftwaySupSaoFrancisco 0304 SoftwaySupNovaVida 0305 SoftwayMaxAuvergne 0306 SoftwayMercantilPopular 0307 Tricard 0308 ECXCard 0309 ECXCardFrota 0310 ECXCardPBM 0311 BrasilCardConvenio 0312 BrasilCardAlimentacao 0313 BrasilCardRefeicao 0314 BrasilCardFrota 0315 Redemed 0316 SafraVisa 0317 Nutricard 0318 Discover 0319 Nalin 0320 CaixaMoveisCard 0321 GynCard 0322 Giracard 0323 FlexCarAlelo 0324 Aceito 0325 EloDebito 0326 Credz 0327 Ciclum 0328 Libercard 0329 AespConvenio 0330 SuperBeal 0331 BNBClub 0332 JCB 0333 Rodobens 0334 MettaCard 0335 ValeMais 0336 VRRefeicao 0337 VRAlimentacao 0338 VRCultura 0339 VRAuto 0340 QueirozPremium 0341 CPF 0342 BrasilCard 0343 NovoCard 0344 SinTram 0345 BigCard 0346 Kalicard 0347 Hiper 0348 GoiasCard 0349 Sollus 0350 Gift Pass 0351 TelenetGrandCard 0352 TelenetControlLife 0353 TelenetGoldX 0354 TelenetSuedCard 0355 TelenetBnbClube 0356 TelenetSjCard 0357 KalicardAlimentacao 0358 KalicardConvenio 0359 ComunixRegicred 0360 Credshirmer 0361 GFCard 0362 PagCard 0363 RedeUze 0364 StepCard 0365 AleloCultura 0366 MasterMinhaCasaMelhor 0367 AleloAuto 0368 Ecopag 0369 Accredito 0370 BIZ 0371 ACG 0372 LagoaCredCard 0373 AVista 0374 Private 0375 CabalVoucher 0376 SodexoAlimentacao 0377 SodexoRefeicao 0378 SodexoCombustivel 0379 Redecon 0380 BaneseCard 0381 GreenCardAlimentacao 0382 GreenCardRefeicao 0383 GreenCardFrota 0384 WIZEO 0385 FitCard 0386 Ticket Log 0387 Credinova 0388 MaxisCard 0389 VegasCard 0390 Util Card 0391 PGCard 0392 MGCard 0393 Bracov 0394 LE CARD 0395 Paracatu 0396 FOX 0397 Vecell 0398 Neus 0399 StarkCard 0400 FacilCard 0401 SafeCard 0402 South America 0403 RotaCard 0404 PagSimples 0405 FlexFrota 0406 FleetCard 0407 Epay Gift 0408 TecBiz 0409 CooperativaGlobal 0410 RedeCompras 0411 AddmealConvenio 0412 AudaxConvenio 0413 AutemcardConvenio 0414 CredtodosPrivate 0415 CroscardConvenio 0416 Drogabella 0417 Flexocard 0418 Kredilig 0419 LivreConvenio 0420 LivrePrivate 0421 ProcardConvenio 0422 ProcardPrivate 0423 RomCard 0424 Simec 0425 Eucard 0426 NGV 0427 MaxxcardBeneficios 0428 BENRefeicao 0429 TruckPag 0430 GoldiCard 0431 CTF 0432 BENAlimentacao 0433 RealCard 0434 BraxCard 0435 ServirCard 0436 Samsung 0437 Valeshop 0438 SQCF 0439 Amplacard 0440 NutricashFrota 0441 MastercardAlimentacao 0442 MastercardRefeicao 0443 Convenios Card 0444 SymacCard 0445 Multimais 0446 Rede Farmes 0447 ComunixSystemFarma 0448 EloBeneficio 0449 Sodexo Cultura Pass 0450 Plus Frota 0451 Trio Card 0452 EuroKartensysteme 0453 Supcard 0454 Festcard 0455 AleloMobile 0456 Pitcard 0457 SigaCred 0459 Omni 0460 Asmube Cash 0461 FlexiCard 0462 FlamCard 0463 008Cards 0464 Emanuelle PE 0465 Cartao Taco 0466 Cartao Bem Barato 0467 Algorix 0468 Alelo Flexcard 0469 SiapCard 0470 Coopelife 0471 MGCard 0472 Boa Convenios 0473 Ascipam 0474 CredFacil 0475 QCard 0476 UpCard 0477 Multvale 0478 Trustcard 0479 Obencard 0480 ComunixConfarma 0481 MoreiraCard 0482 Accords Cards 0483 Bn Card 0484 B4 Card 0485 BoldCard 0486 Ser Card 0487 Farma Brito 0488 Go Card 0489 Kbank 0490 Kinfuku 0491 Le Card S.A. 0492 Martins Card 0493 Mercantil Card 0495 Mury Cartoes 0496 RV Cards 0497 Sertao Card 0499 UsaCard 0500 WebCard 0501 4S Sistemas 0502 FacilPraPagar 0503 Esposende 0504 SoluCard 0505 SysproCard"},{"location":"pages/Apendice/RedesAutorizadasDTEF8/","title":"Redes Autorizadoras D-TEF 8","text":""},{"location":"pages/Apendice/RedesAutorizadasDTEF8/#codigo-das-redes-do-tef-linx","title":"C\u00f3digo das redes do TEF Linx","text":"<p>Nesta p\u00e1gina est\u00e1 descrito os c\u00f3digos das redes utilizadas no TEF Linx.</p> C\u00f3digo Nome 01 Cielo 02 D-TEF 5 03 Nexxera 04 CooperCard 05 Vida Link 06 Obo\u00e9 07 Redecard 08 PrevSa\u00fade 09 Dacasa 10 Comunix 11 EDM 12 Paggo 13 IBI Gen 14 Credi-Shop 15 Sicredi 16 Credmais 17 Amex 18 Tecban 19 Validata 20 Ultragaz 21 Fan Card 22 GetNet 23 Banrisul 24 One Card 25 IBI 26 GetNet LAC 27 Banescard 28 Neus 29 Central Card 30 Orbitall 31 Aura 32 Hipercard 33 UseCred 34 ComproCard 35 Ita\u00fa 36 Bradesco 37 Serasa 38 Special Card 39 ACSP 40 Teledata 41 Tivit 42 CDL Rio 43 Bozano 44 Fininvest 45 Qualycard 46 Dire\u00e7\u00e3o 47 Multicheque 48 Poupcard 49 Sorocred 50 Chq Card\u00e1pio 51 Vale Refei\u00e7\u00e3o 52 SPC Brasil 53 SPC Poa 54 Losango 55 Zogbi 56 SPC Londrina 57 ACC Card 58 PortalCard 59 Corres Banc\u00e1rio 60 Resomaq 61 Softway 62 Intellisys 63 Banpar\u00e1 64 Evang\u00e9lico 65 Vale Card 66 Worker Card 67 Banese 68 PamCard 69 Telenet 70 Private Dire\u00e7\u00e3o 71 Senffnet 72 ChequePre 73 PBM ePharma 74 PBM GetNet 75 PBM SevenPDV 76 PBM Funcional 77 Sysdata 78 ACPR 79 Policard 80 Expansiva 81 Credsystem 82 SmartShop 83 TelecomNet 84 CrediAliment 85 CheckExpress 86 WAPPA 87 Simers 88 Aut Dir Crach\u00e1 89 UpSight 90 Tend\u00eancia 91 Autorizador POS 92 Accor 93 Cartesys 94 RV 95 Comunix Visa 96 DMCard 97 3ia 98 FirstData 99 SMC 100 Febraban 101 Siga Cred 102 Guedes Card 103 BR Premmia 104 Trel 105 epay 106 ICI 107 Netpoints 108 Algorix 109 Borba Card 110 Givex 111 Elavon 112 OrgCard 113 CSU 114 ECX Card 115 Brasil Card 116 Nalin 117 Libercard 118 Smart.Net 119 Mettacard 120 Rodobens 121 Global Payments 122 Sollus 123 Now Prepay 126 Nutricash 127 Stone 128 Ecopag 129 Cabal 130 Tribanco 131 Biz 136 Sipag"},{"location":"pages/Apendice/TiposDeRegistrosECodigosDeTransacoes/","title":"Tipos de Registros e C\u00f3digos de Transa\u00e7\u00f5es","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/Changelog/HistoricoDeRevisao/","title":"Historico de revis\u00e3o","text":""},{"location":"pages/Changelog/HistoricoDeRevisao/#historico-de-revisao","title":"Historico de revis\u00e3o","text":"<p>Historico de revis\u00e3o das informa\u00e7\u00f5es do DevCenter</p>"},{"location":"pages/Changelog/HistoricoDeRevisao/#03102023","title":"03/10/2023","text":"<p>Autores: Gabriel Lima e Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Documentando o modo de integra\u00e7\u00e3o via gerenciador padr\u00e3o.</li> <li>Reorganiza\u00e7\u00e3o de alguns itens e ajustes na formata\u00e7\u00e3o do documento</li> </ol>"},{"location":"pages/Changelog/HistoricoDeRevisao/#12092023","title":"12/09/2023","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Adicionando informa\u00e7\u00f5es na p\u00e1gina <code>Configura\u00e7\u00e3o Paykit</code> para documentar o Paykit Embarcado, e adi\u00e7\u00e3o das tabelas de Operadoras, Bandeiras e Redes TEF</li> </ol>"},{"location":"pages/Changelog/HistoricoDeRevisao/#16082023","title":"16/08/2023","text":"<p>Autores: Juan Cardoso</p> <p>Detalhes:</p> <ol> <li>Primeira vers\u00e3o de produ\u00e7\u00e3o do documento, documenta\u00e7\u00e3o do FAQ e criando links para o Github do Paykit em Vers\u00f5es Certificadas, Manual de Integra\u00e7\u00e3o PDF e Exemplos de c\u00f3digo.</li> </ol>"},{"location":"pages/Changelog/HistoricoDeRevisao/#15082023","title":"15/08/2023","text":"<p>Autores: Gabriel Lima</p> <p>Detalhes: </p> <ol> <li>Montando a p\u00e1gina\u00e7\u00e3o inicial do DevCenter e reorganizando partes j\u00e1 documentadas previamente com base no PDF de integra\u00e7\u00e3o.</li> </ol>"},{"location":"pages/Changelog/VersoesCertificadas/","title":"Vers\u00f5es Certificadas","text":""},{"location":"pages/Changelog/VersoesCertificadas/#download-instalador-e-release-notes","title":"Download Instalador e Release Notes","text":"<p>Para verificar o release notes das vers\u00f5es do paykit e realizar o download dos instaladores clique aqui!</p>"},{"location":"pages/GerenciadorPadrao/Ambiente/","title":"Ambiente","text":""},{"location":"pages/GerenciadorPadrao/Ambiente/#instalacao-standalone","title":"Instala\u00e7\u00e3o Standalone","text":"<p>A Troca de arquivos foi desenhada para funcionar no modelo standalone, ou seja, onde todos os componentes requeridos devem estar instalados no mesmo device (disco C:). As fun\u00e7\u00f5es TEF somente podem ser executadas atrav\u00e9s de um equipamento que possua o PinPad Seguro, um modem pr\u00f3prio, linha telef\u00f4nica dispon\u00edvel e a Troca de arquivos completa instalada no disco r\u00edgido.</p>"},{"location":"pages/GerenciadorPadrao/Ambiente/#perifericos-recomendados","title":"Perif\u00e9ricos recomendados","text":""},{"location":"pages/GerenciadorPadrao/Ambiente/#impressora","title":"Impressora","text":"<p>Poder\u00e1 ser utilizada qualquer impressora homologada pelo Aplicativo de Automa\u00e7\u00e3o Comercial, visto que o gerenciamento da impress\u00e3o \u00e9 realizada pela mesma.</p>"},{"location":"pages/GerenciadorPadrao/Ambiente/#observacoes-importantes","title":"Observa\u00e7\u00f5es importantes","text":"<p>\u00c9 proibido o armazenamento da imagem de qualquer cupom TEF em qualquer parte do sistema ap\u00f3s a impress\u00e3o do mesmo.</p>"},{"location":"pages/GerenciadorPadrao/Ambiente/#informacoes-complementares","title":"Informa\u00e7\u00f5es Complementares","text":"<p>No caso de problemas ocorridos em qualquer procedimento citado neste documento, solicitamos que sejam revistas todas as configura\u00e7\u00f5es executadas e comparadas com os par\u00e2metros descritos neste manual; execute novamente as atividades ou troque os discos utilizados na instala\u00e7\u00e3o, caso necess\u00e1rio.</p> <p>Caso permane\u00e7a alguma d\u00favida, entre em contato com a LINX.</p>"},{"location":"pages/GerenciadorPadrao/Ambiente/#certificacao","title":"Certifica\u00e7\u00e3o","text":"<p>Para que sua Aplica\u00e7\u00e3o Comercial possa ser comercializada utilizando a Troca de arquivos, dever\u00e1 ocorrer um processo denominado certifica\u00e7\u00e3o no qual sua solu\u00e7\u00e3o ser\u00e1 avaliada quanto ao uso das fun\u00e7\u00f5es descritas neste manual. Para tanto, ap\u00f3s ter terminado todo o processo de ajuste de seu aplicativo, entre em contato com as Certificadoras (LINX).</p>"},{"location":"pages/GerenciadorPadrao/Componentes/","title":"Componentes","text":""},{"location":"pages/GerenciadorPadrao/Componentes/#automacao-comercial","title":"Automa\u00e7\u00e3o Comercial","text":""},{"location":"pages/GerenciadorPadrao/Componentes/#caracteristicas","title":"CARACTER\u00cdSTICAS","text":"<pre><code>\u2981 Pode ser desenvolvido para ambiente DOS ou Windows (16 ou 32 bits). \n\n\u2981 Composto de um ou mais m\u00f3dulos execut\u00e1veis\n\n\u2981 Gerencia perif\u00e9ricos da Automa\u00e7\u00e3o Comercial (exceto Pinpad)\n\nObs.: Pinpad = Teclado reduzido utilizado para leitura dos cart\u00f5es de cr\u00e9dito, \nd\u00e9bito e CDC, bem como a digita\u00e7\u00e3o da senha do cart\u00e3o. J\u00e1 vem preparado para \nleitura de Smart Card (cart\u00e3o com chip).\n</code></pre>"},{"location":"pages/GerenciadorPadrao/Componentes/#funcoes","title":"FUN\u00c7\u00d5ES","text":"<p>As fun\u00e7\u00f5es que poder\u00e3o ser executadas pela Automa\u00e7\u00e3o Comercial, integrada \u00e0 solu\u00e7\u00e3o de Troca de arquivos s\u00e3o os pagamentos das vendas com cart\u00f5es de cr\u00e9dito e de d\u00e9bito e as consultas/garantias de cheques, entre outros. Cada Rede possui um conjunto de transa\u00e7\u00f5es associadas \u00e0 estas fun\u00e7\u00f5es que ser\u00e3o tratadas pelo M\u00f3dulo TEF de cada uma, mantendo as particularidades de cada Rede. No entanto, devido a utiliza\u00e7\u00e3o do Gerenciador Padr\u00e3o, estas n\u00e3o interferem no processo de integra\u00e7\u00e3o para o software de Automa\u00e7\u00e3o Comercial.</p>"},{"location":"pages/GerenciadorPadrao/Componentes/#gerenciador-padrao","title":"Gerenciador Padr\u00e3o","text":"<p>M\u00f3dulo respons\u00e1vel pelo direcionamento da transa\u00e7\u00e3o para os respectivos M\u00f3dulos TEF (American Express, Redecard e Cielo). Efetua o tratamento das atividades TEF, permitindo que a Automa\u00e7\u00e3o Comercial interaja com as administradoras de cart\u00e3o de cr\u00e9dito e de d\u00e9bito, de forma simples e eficiente.</p>"},{"location":"pages/GerenciadorPadrao/Componentes/#modulo-tef","title":"M\u00f3dulo TEF","text":"<p>Softwares que efetuam a interface com o usu\u00e1rio para coleta dos dados da transa\u00e7\u00e3o a ser realizada e comunica\u00e7\u00e3o com as administradoras de cart\u00e3o para cumprimento da tarefa solicitada.</p>"},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/","title":"Especifica\u00e7\u00e3o Troca de Arquivos","text":""},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#identificacao-da-automacao-comercial","title":"Identifica\u00e7\u00e3o da Automa\u00e7\u00e3o Comercial","text":"<p>A Automa\u00e7\u00e3o Comercial deve obrigatoriamente preencher em todos os arquivos de solicita\u00e7\u00e3o os campos 716000 e 701-000, informando respectivamente a raz\u00e3o social da empresa respons\u00e1vel pelo desenvolvimento da Automa\u00e7\u00e3o Comercial e o nome e a vers\u00e3o da aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial.</p> Exemplo <pre><code>    701-000 = KiWi v1, 14, 0, 0 \n    716-000 = SETIS AUTOMACAO E SISTEMAS LTDA.\n</code></pre> <p>Importante: n\u00e3o h\u00e1 uma nomenclatura espec\u00edfica exigida para o campo 701-000, por\u00e9m:</p> <pre><code>\u2981 Deve incluir o nome completo da aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial;\n\u2981 Deve incluir a informa\u00e7\u00e3o de vers\u00e3o completa da Automa\u00e7\u00e3o Comercial;\n\u2981 A informa\u00e7\u00e3o de vers\u00e3o deve identificar sem ambiguidade o execut\u00e1vel/bin\u00e1rio \n(ou conjunto de execut\u00e1veis/bin\u00e1rios) que comp\u00f5e(m) a Automa\u00e7\u00e3o Comercial.\n</code></pre>"},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#impressao-de-vias-diferenciadas","title":"Impress\u00e3o de vias diferenciadas","text":"<p>O TEF passa a poder gerar 4 vias do comprovante, abaixo descritas.</p> <pre><code>\u2981 Via completa (campos 028-000 e 029-xxx)\n</code></pre> <p>Esta via cont\u00e9m todas as informa\u00e7\u00f5es para ambos o Cliente e o Estabelecimento. \u00c9 tipicamente usado em impressoras com folha dupla, ou quando a rede adquirente n\u00e3o suporta os demais tipos de comprovante. Este \u00e9 o \u00fanico comprovante que \u00e9 obrigatoriamente gerado pelo TEF.</p> <pre><code>\u2981 Via diferenciada para o Estabelecimento (campos 714-000 e 715-xxx)\n</code></pre> <p>Esta via somente cont\u00e9m as informa\u00e7\u00f5es relevantes para o Estabelecimento. Este comprovante \u00e9 opcional, podendo ou n\u00e3o ser gerado pelo TEF. A Automa\u00e7\u00e3o Comercial deve preferencialmente emitir esta via do comprovante para o Estabelecimento, para n\u00e3o divulgar informa\u00e7\u00f5es somente relevantes para o Cliente (saldo do cart\u00e3o, informa\u00e7\u00f5es de pontua\u00e7\u00e3o/premia\u00e7\u00e3o, etc.).</p> <pre><code>\u2981 Via diferenciada para o Cliente (campos 712-000 e 713-xxx)\n</code></pre> <p>Esta via somente cont\u00e9m as informa\u00e7\u00f5es relevantes para o Cliente. Este comprovante \u00e9 opcional, podendo ou n\u00e3o ser emitido pelo TEF. A Automa\u00e7\u00e3o Comercial deve preferencialmente emitir esta via do comprovante para o Cliente, para reduzir o consumo de papel.</p> <pre><code>\u2981 Cupom reduzido (campos 710-000 e 711-xxx)\n</code></pre> <p>Esta via somente cont\u00e9m as informa\u00e7\u00f5es relevantes para o Cliente, excluindo informa\u00e7\u00f5es que j\u00e1 estejam presentes no cupom fiscal (nome, endere\u00e7o e CNPJ do Estabelecimento, data da transa\u00e7\u00e3o, etc.). Se poss\u00edvel, este comprovante de at\u00e9 5 linhas deve ser impresso pela Automa\u00e7\u00e3o Comercial dentro do cupom fiscal, n\u00e3o num cupom fiscal vinculado. Este comprovante \u00e9 opcional, podendo ou n\u00e3o ser emitido pelo TEF, e restrito a transa\u00e7\u00f5es de Venda. A Automa\u00e7\u00e3o Comercial deve preferencialmente emitir esta via do comprovante para o Cliente, para reduzir o consumo de papel.</p> <p>A Automa\u00e7\u00e3o Comercial deve utilizar o fluxo abaixo para determinar quais vias do comprovante ser\u00e3o impressas:</p> <p> </p> Fluxo de impress\u00e3o de comprovante"},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#valor-da-transacao-saque-e-desconto","title":"Valor da transa\u00e7\u00e3o, Saque e Desconto","text":"<p>Uma funcionalidade importante da plataforma Premia \u00e9 a possibilidade de ser concedido ao Cliente um pr\u00eamio monet\u00e1rio instant\u00e2neo no momento da transa\u00e7\u00e3o. Este pr\u00eamio se traduz por um desconto no valor da transa\u00e7\u00e3o, que deve ser registrado na Impressora Fiscal pela Automa\u00e7\u00e3o Comercial.</p> <p>Com isto, fazem-se necess\u00e1rios os seguintes controles adicionais:</p> <pre><code>\u2981 A Automa\u00e7\u00e3o Comercial deve indicar em todos os arquivos de solicita\u00e7\u00e3o atrav\u00e9s do \ncampo 706-000se suporta a funcionalidade de saque (valor 1), a funcionalidade de desconto \n(valor 2), ambas (valor 3) ou nenhuma (valor 0). Caso este campo n\u00e3o seja informado \n(vers\u00f5es anteriores da Automa\u00e7\u00e3o Comercial), o TEF assume o valor 0 (nenhuma das \nfuncionalidades \u00e9 suportada).\n\n\u2981 O campo 004-000 (moeda) \u00e9 obrigat\u00f3rio em todos os arquivos que possuam o campo \n003000 (valor da transa\u00e7\u00e3o).\n\n\u2981 O campo 707-000 indica o valor original da transa\u00e7\u00e3o (o valor do campo 003-000 informado \npela Automa\u00e7\u00e3o Comercial no arquivo de solicita\u00e7\u00e3o). Caso ausente, significa que o valor \nda transa\u00e7\u00e3o n\u00e3o foi alterado.\n\n\u2981 O campo 708-000 indica o valor do saque/troco. Caso ausente, significa que n\u00e3o houve \nsaque na transa\u00e7\u00e3o.\n\n\u2981 O campo 709-000 indica o valor do desconto. Caso ausente, significa que n\u00e3o houve \ndesconto na transa\u00e7\u00e3o.\n\n\u2981 O campo 003-000 indica o valor final da transa\u00e7\u00e3o, incluindo saque e desconto. Assim:\n\nValor total (003-000) = Valor original (707-000) + Valor do saque (708000) \u2013 Valor do \ndesconto (709-000)\n</code></pre>"},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#detalhamento-dos-campos","title":"Detalhamento dos campos","text":"<p>Esta se\u00e7\u00e3o lista apenas os campos mencionados neste documento. Demais campos pr\u00e9-existentes permanecem inalterados.</p> <p>Legenda para a coluna \u201cFormato\u201d:</p> <pre><code>\u2981 \u2018n\u2019 indica um campo contendo exclusivamente caracteres num\u00e9ricos;\n\n\u2981 \u2018a\u2019 indica um campo podendo conter qualquer caractere permitido, de acordo com \u201c6.1.\n\u202fFormato gen\u00e9rico\u201d;\n\n\u2981 \u2018a7\u2019 indica um campo de exatamente 7 caracteres;\n\n\u2981 \u2018a..5\u2019 indica um campo de 1 a 5 caracteres.\n</code></pre> C\u00f3digo Nome Formato Descri\u00e7\u00e3o 003-000 Valor total n..12 Valor total da opera\u00e7\u00e3o, em centavos da moeda informada no campo 004-000.No arquivo de resposta para transa\u00e7\u00f5es de venda, este campo indica o valor efetivamente debitado do Cliente e creditado para o Estabelecimento (desconsiderando taxas referentes ao uso da solu\u00e7\u00e3o, descontadas pela rede adquirente). 004-000 Moeda n1 0: Real1: D\u00f3lar americano 028-000 Tamanho via \u00fanica n..3 Quantidade de linhas da via \u00fanica do comprovante. 029-xxx Via \u00fanica do comprovante a..40 Linha da via \u00fanica do comprovante, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 028-000. 701-000 Vers\u00e3o da automa\u00e7\u00e3o a..40 Nome e vers\u00e3o da Automa\u00e7\u00e3o Comercial.Exemplo: SUPERVENDAS v1.01 706-000 Capacidades da automa\u00e7\u00e3o n1 Soma dos seguintes valores, identificando as funcionalidades suportadas pela Automa\u00e7\u00e3o Comercial:1: funcionalidade de saque (ver campo 708-000)2: funcionalidade de desconto (ver campo 709-000)Caso este campo n\u00e3o seja informado pela Automa\u00e7\u00e3o Comercial, considera-se que nenhuma das funcionalidades \u00e9 suportada. 707-000 Valor original n12 Valor original da transa\u00e7\u00e3o informado pela Automa\u00e7\u00e3o Comercial no campo 003000 do arquivo de solicita\u00e7\u00e3o, em centavos da moeda identificada no campo 004-000.Este campo \u00e9 informado pelo TEF caso seja diferente do valor final da transa\u00e7\u00e3o informado no campo 003-000 do arquivo de resposta, sempre respeitando a regra abaixo:Valor total (003-000) = Valor original (707-000) + Valor do saque (708000) \u2013 Valor do desconto (709-000) 708-000 Valor do saque n12 Valor de retirada em dinheiro (saque no cart\u00e3o) realizada em conjunto com a transa\u00e7\u00e3o de venda.Este valor \u00e9 acrescido ao valor original da transa\u00e7\u00e3o, e deve ser registrado na Impressora Fiscal como \u201ctroco\u201d. 709-000 Valor do desconto n12 Valor do desconto concedido ao Cliente pela rede adquirente ou pelo Emissor para uma transa\u00e7\u00e3o de venda.Este valor \u00e9 retirado do valor original da transa\u00e7\u00e3o, e deve ser registrado na Impressora Fiscal como \u201cdesconto\u201d. 710-000 Tamanho cupom reduzido n..3 Quantidade de linhas do cupom reduzido. 711-xxx Cupom reduzido a..40 Linha do cupom reduzido, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 710-000. 712-000 Tamanho via Cliente n..3 Quantidade de linhas da via diferenciada do comprovante destinada ao Cliente. 713-xxx Via Cliente do comprovante a..40 Linha da via do Cliente, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 712-000. 714-000 Tamanho via Estabelecimento n..3 Quantidade de linhas da via diferenciada do comprovante destinada ao Estabelecimento. 715-xxx Via Estabelecimento do comprovante a..40 Linha da via do Estabelecimento, entre aspas duplas.xxx indica o n\u00famero da linha, de 001 at\u00e9 a quantidade total de linhas indicada pelo campo 714-000. 716-000 Empresa da Automa\u00e7\u00e3o a..40 Raz\u00e3o social da empresa respons\u00e1vel pelo desenvolvimento da aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial.Exemplo: KND SISTEMAS LTDA."},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#presenca-dos-campos","title":"Presen\u00e7a dos Campos","text":"<pre><code>\u2981 \u2018M\u2019 indica que a presen\u00e7a do campo \u00e9 obrigat\u00f3ria;\n\n\u2981 \u2018O\u2019 indica que a presen\u00e7a do campo \u00e9 opcional;\n\n\u2981 \u2018E\u2019 indica que o campo \u00e9 ecoado (id\u00eantico ao arquivo de solicita\u00e7\u00e3o);\n\n\u2981 \u2018C1\u2019 indica que o campo est\u00e1 presente caso o campo anterior seja diferente \nde zero (tamanho do comprovante);\n\nA aus\u00eancia de caractere em uma coluna indica que o campo n\u00e3o \u00e9 esperado.\n</code></pre>"},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#arquivo-de-solicitacao-reqintpos001","title":"Arquivo de solicita\u00e7\u00e3o (Req\\intpos.001)","text":"C\u00f3digo Nome ATV CRT ADM CNC CHQ CNF NCN 003-000 Valor total M M M 004-000 Moeda M M M 701-000 Vers\u00e3o da Automa\u00e7\u00e3o M M M M 706-000 Capacidades da Automa\u00e7\u00e3o M M M M 716-000 Empresa da Automa\u00e7\u00e3o M M M M"},{"location":"pages/GerenciadorPadrao/EspecificacaoTrocaDeArquivos/#arquivo-de-resposta-respintpos001","title":"Arquivo de resposta (Resp\\intpos.001)","text":"C\u00f3digo Nome CRT ADM CNC CHQ 003-000 Valor Total M O M M 004-000 Moeda M O M M 707-000 Valor Original O O O 708-000 Valor do Saque O O O 709-000 Valor do Desconto O O O 710-000 Tamanho cupom reduzido O O O O 711-xxx Cupom reduzido C1 C1 C1 C1 712-000 Tamanho via Cliente O O O O 713-xxx Via Cliente do comprovante C1 C1 C1 C1 714-000 Tamanho via Estabelecimento O O O O 715-xxx Via Estabelecimento do comprovante C1 C1 C1 C1"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/","title":"Layout de Mensagens de Comunica\u00e7\u00e3o","text":""},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>As descri\u00e7\u00f5es aqui apresentadas exibem o formato que devem ter as mensagens geradas pela Automa\u00e7\u00e3o Comercial e o formato da mensagem de retorno gerada pelo Gerenciador Padr\u00e3o, com a confirma\u00e7\u00e3o ou n\u00e3o da transa\u00e7\u00e3o.</p> <p>As mensagens ser\u00e3o transferidas por meio de arquivo tipo texto onde cada linha cont\u00e9m um tipo de informa\u00e7\u00e3o. As linhas possuem formato padr\u00e3o e tamanho vari\u00e1vel, utilizando conceito de palavra chave. O formato gen\u00e9rico \u00e9:</p> <pre><code>        AAA-BBBC=CDDDDDDD......DDDDDEF\n</code></pre> <p>Onde:</p> <pre><code>        A - Identifica\u00e7\u00e3o do tipo de informa\u00e7\u00e3o ou campo \n\n        B - N\u00ba de seq\u00fc\u00eancia complementar ao tipo de informa\u00e7\u00e3o ou campo \n\n        C - Posi\u00e7\u00e3o contendo espa\u00e7o ou branco \n\n        D - Informa\u00e7\u00e3o (sempre alinhada a esquerda, sem preenchimento de zeros ou espa\u00e7os) \n\n        E - Carriage Return (CR) =13 (segundo a tabela ASCII) \n\n        F - Line Feed (LF) = 10 (segundo a tabela ASCII) \n</code></pre> <p>Os tipos de opera\u00e7\u00f5es poss\u00edveis s\u00e3o:</p> Tipo de opera\u00e7\u00e3o Descri\u00e7\u00e3o ATV Verifica se o Gerenciador Padr\u00e3o est\u00e1 ativo ADM Permite o acionamento da Troca de arquivos  para execu\u00e7\u00e3o das fun\u00e7\u00f5es administrativas CHQ* Pedido de autoriza\u00e7\u00e3o para transa\u00e7\u00e3o por meio de cheque CRT Pedido de autoriza\u00e7\u00e3o para transa\u00e7\u00e3o por meio de cart\u00e3o CNC Cancelamento de venda efetuada por qualquer meio de pagamento CNF Confirma\u00e7\u00e3o da venda e impress\u00e3o de cupom NCN N\u00e3o confirma\u00e7\u00e3o da venda e/ou da impress\u00e3o. <p>Verifica\u00e7\u00e3o pela Automa\u00e7\u00e3o Comercial se o Gerenciador Padr\u00e3o est\u00e1 ativo deve ser feita atrav\u00e9s:</p> <ol> <li>Fun\u00e7\u00e3o  ATV:</li> </ol> <p>A Automa\u00e7\u00e3o Comercial envia as mensagens ao Gerenciador Padr\u00e3o conforme item 4.1.</p> <p>Se a Automa\u00e7\u00e3o Comercial receber em at\u00e9 7 segundos o arquivo C:\\TEF_DIAL\\RESP\\IntPos.Sts conforme item   4.2 significa que o Gerenciador Padr\u00e3o est\u00e1 ativo.</p> <ol> <li>Toda vez que o GP entrar no ar ir\u00e1 informar para a Automa\u00e7\u00e3o Comercial que est\u00e1 ativo atrav\u00e9s do arquivo Ativo.001 que ser\u00e1 gravado no diret\u00f3rio \\Tef_dial\\resp , com os campos:</li> </ol> <pre><code>            \u2018000-000 = TEF\u2019 \n            \u2018016-000 = DDMMHHMMSS\u2019 (Timestamp) \n            \u2018999-999 = 0\u2019\n</code></pre> <p>Se n\u00e3o existir este arquivo no diret\u00f3rio significa que o Gerenciador Padr\u00e3o n\u00e3o est\u00e1 ativo.</p> <p>O cancelamento de venda pode ser feito de duas formas:</p> <pre><code>\u2981 Pela opera\u00e7\u00e3o ADM, onde o Gerenciador Padr\u00e3o abre uma tela para a captura dos dados\nda transa\u00e7\u00e3o a ser cancelada. \n\n\u2981 Pela opera\u00e7\u00e3o CNC, onde o Aplicativo de Automa\u00e7\u00e3o Comercial captura os dados da \ntransa\u00e7\u00e3o a ser cancelada e as transfere para o Gerenciador Padr\u00e3o. \n</code></pre> <p>A seguir apresentamos os tipos de informa\u00e7\u00f5es (ou campos) que dever\u00e3o estar presentes nos arquivos enviados e recebidos pela Automa\u00e7\u00e3o Comercial. As informa\u00e7\u00f5es (ou campos) variam de acordo com o tipo de opera\u00e7\u00e3o e est\u00e3o assinalados com \u2018M\u2019 quando mandat\u00f3rios, \u2018O\u2019 quando opcionais e \u2018-\u2018 quando ausentes.</p> <p>Notar que o aplicativo de automa\u00e7\u00e3o deve estar preparado para receber e ignorar os tipos de registros que ele desconhe\u00e7a. Essa caracter\u00edstica \u00e9 importante para manter compatibilidade com vers\u00f5es futuras.</p> <p>Quando houver discrep\u00e2ncia entre o conte\u00fado do campo enviado pelo Aplicativo de Automa\u00e7\u00e3o Comercial e o recebido pelo Gerenciador Padr\u00e3o valer\u00e1 o do Gerenciador Padr\u00e3o.</p> <p>Legenda para as seguintes tabelas: <pre><code>         M = Mandat\u00f3rio     \n         O = Opcional        \n         E = Eco da Solicita\u00e7\u00e3o\n         A = Para transa\u00e7\u00e3o aprovada\n         - = Ausente/N\u00e3o\n</code></pre></p>"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#campos-presentes-nas-mensagens-geradas-pelo-aplicativo-de-automacao-comercial-solicitacoes-ctef_dialreqintpos001","title":"Campos presentes nas mensagens geradas pelo Aplicativo de Automa\u00e7\u00e3o Comercial - Solicita\u00e7\u00f5es (C:\\TEF_DIAL\\REQ\\IntPos.001)","text":"C\u00f3digo do Campo Tipo de Informa\u00e7\u00e3o ATV ADM CHQ CRT CNC CNF NCN PAG 000-000 HEADER M M M M M M M - 001-000 IDENTIFICA\u00c7\u00c3O M M M M M M M - 002-000 DOCUMENTO FISCAL VINCULADO - - O O O O O - 003-000 VALOR TOTAL - - M M M - - - 004-000 MOEDA - - - O - - - - 005-000 CMC-7 - - O - O(1) - - - 006-000 TIPO DE PESSOA - - O - O(1) - - - 007-000 DOCUMENTO DA PESSOA - - O - O(1) - - - 008-000 DATA DO CHEQUE - - O - O(1) - - - 010-000 NOME DA REDE - - - - M M M - 012-000 N\u00daMERO DA TRANSA\u00c7\u00c3O - NSU - - - - M M M - 022-000 DATA DA TRANSA\u00c7\u00c3O - COMPROVANTE - - - - M - - - 023-000 HORA DA TRANSA\u00c7\u00c3O - COMPROVANTE - - - - M - - - 027-000 FINALIZA\u00c7\u00c3O - - - - - M M - 033-000 BANCO - - O - O(1) - - - 034-000 AG\u00caNCIA - - O - O(1) - - - 035-000 AG\u00caNCIA - DC - - O - O(1) - - - 036-000 CONTA CORRENTE - - O - O(1) - - - 037-000 CONTA CORRENTE - DC - - O - O(1) - - - 038-000 N\u00daMERO DO CHEQUE - - O - O(1) - - - 039-000 N\u00daMERO DO CHEQUE - DC - - O - O(1) - - - 800-000 Indicador da opera\u00e7\u00e3o - OE O - O(1) - - OE 999-999 TRAILER - REGISTRO FINAL M M M M M M M - <p>Observa\u00e7\u00e3o: <pre><code>      (1)- somente existem para cancelamento de opera\u00e7\u00e3o com cheques.\n</code></pre></p>"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#campos-presentes-nas-mensagens-geradas-pelo-gerenciador-padrao-status-ctef_dialresp-intpossts","title":"Campos presentes nas mensagens geradas pelo Gerenciador Padr\u00e3o - Status (C:\\TEF_DIAL\\RESP \\IntPos.Sts)","text":"C\u00f3digo do Campo Tipo de Informa\u00e7\u00e3o ATV ADM CHQ CRT CNC CNF NCN 000-000 HEADER M M M M M M M 001-000 IDENTIFICA\u00c7\u00c3O M M M M M M M 999-999 TRAILER \u2013 REGISTRO FINAL M M M M M M M"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#campos-presentes-nas-mensagens-geradas-pelo-gerenciador-padrao-respostas-ctef_dialresp-intpos001","title":"Campos presentes nas mensagens geradas pelo Gerenciador Padr\u00e3o - Respostas (C:\\TEF_DIAL\\RESP \\IntPos.001)","text":"C\u00f3digo do Campo Tipo de Informa\u00e7\u00e3o ATV ADM CHQ CRT CNC PAG 000-000 HEADER - M M M M M 001-000 IDENTIFICA\u00c7\u00c3O - M M M M - 002-000 DOCUMENTO FISCAL VINCULADO - O O(3) O(3) O(3) - 003-000 VALOR TOTAL - O M M M - 004-000 MOEDA - O - M(3) M(3) - 005-000 CMC-7 - O M(3) - O(2) - 006-000 TIPO DE PESSOA - - M - - - 007-000 DOCUMENTO DA PESSOA - - M - - - 008-000 DATA DO CHEQUE - - M - - - 009-000 STATUS DA TRANSA\u00c7\u00c3O - M M M M - 010-000 NOME DA REDE - M M M M - 011-000 TIPO DA TRANSA\u00c7\u00c3O - M M M M - 012-000 N\u00daMERO DA TRANSA\u00c7\u00c3O - NSU - O M(1) M(1) M(1) - 013-000 C\u00d3DIGO DE AUTORIZA\u00c7\u00c3O DA TRANSA\u00c7\u00c3O - O O O O - 014-000 N\u00daMERO DO LOTE DA TRANSA\u00c7\u00c3O - O - O O - 015-000 TIMESTAMP DA TRANSA\u00c7\u00c3O - HOST - O M(1) M(1) M(1) - 016-000 TIMESTAMP DA TRANSA\u00c7\u00c3O - LOCAL - O O O O - 017-000 TIPO PARCELAMENTO - - - O - - 018-000 QUANTIDADE DE PARCELAS - - - O - - 019-yyy DATA VENCIMENTO DA PARCELA - - - O - - 020-yyy VALOR DA PARCELA - - - O - - 021-yyy N\u00daMERO DA TRANSA\u00c7\u00c3O \u2013 NSU DA PARCELA - - - O - - 022-000 DATA DA TRANSA\u00c7\u00c3O - COMPROVANTE - O O M(1) M(1) - 023-000 HORA DA TRANSA\u00c7\u00c3O - COMPROVANTE - O O M(1) M(1) - 024-000 DATA PR\u00c9-DATADO - - - O - - 025-000 N\u00daMERO DA TRANSA\u00c7\u00c3O CANCELADA - NSU - O - - M - 026-000 TIMESTAMP DA TRANSA\u00c7\u00c3O CANCELADA - O - - M - 027-000 FINALIZA\u00c7\u00c3O - O M(1) M(1) M(1) - 028-000 QUANTIDADE DE LINHAS DO COMPROVANTE (*) - M M M M - 029-yyy IMAGEM DE CADA LINHA DO COMPROVANTE - O O O O - 030-000 TEXTO ESPECIAL OPERADOR - O O O O - 031-000 TEXTO ESPECIAL CLIENTE - O O O O - 032-000 AUTENTICA\u00c7\u00c3O - - O - - - 033-000 BANCO - O M(4) - O - 034-000 AG\u00caNCIA - O M(4) - O - 035-000 AG\u00caNCIA - DC - O O - O - 036-000 CONTA CORRENTE - O M(4) - O - 037-000 CONTA CORRENTE - DC - O O - O - 038-000 N\u00daMERO DO CHEQUE - O O(4) - O - 039-000 N\u00daMERO DO CHEQUE - DC - O O - O - 040-000 NOME DA ADMINISTRADORA - O O O O - 709-000 VALOR DE DESCONTO (DEVE SER RESGISTRADO COMO \u201cDESCONTO\u201d NA ECF) - - - - - - 801-000 LOG DA TRANSA\u00c7\u00c3O APROVADA - - - - - - 803-000 LOG ESTENDIDO DA TRANSA\u00c7\u00c3O APROVADA - - - - - - 999-999 TRAILER - REGISTRO FINAL - M M M M M <p>Observa\u00e7\u00e3o: <pre><code>      (1)- somente existem se a transa\u00e7\u00e3o foi aprovada. \n\n      (2)- devolve, opcionalmente, qual o cheque foi cancelado, desde que o \n      M\u00f3dulo TEF permita cancelamentos. \n\n      (3)- Somente estar\u00e3o preenchidos se a informa\u00e7\u00e3o for preenchida no \n      arquivo de envio correspondente. \n\n      (4)- Somente estar\u00e3o preenchidos quando o campo CMC7 \u00e9 ausente.\n\n      (*) O campo 028-000 QUANTIDADE DE LINHAS DO COMPROVANTE est\u00e1 como obrigat\u00f3rio para\n      todas as opera\u00e7\u00f5es por uma medida de seguran\u00e7a para o Aplicativo de Automa\u00e7\u00e3o Comercial. O\n      Gerenciador Padr\u00e3o preencher\u00e1 este campo com zero \u201c0\u201d quando n\u00e3o houver comprovante.\n</code></pre></p>"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#descricao-dos-campos","title":"Descri\u00e7\u00e3o dos campos","text":"Campo Conte\u00fado / Descri\u00e7\u00e3o 000-000 HEADERFinalidade:Indica o in\u00edcio do arquivo e o tipo de opera\u00e7\u00e3o relacionada ao arquivo.Formato:Alfanum\u00e9rico de 3 bytes.Conte\u00fados v\u00e1lidos:ATV- Verifica se o Gerenciador Padr\u00e3o est\u00e1 ativoADM- AdministrativaCHQ- ChequeCRT- Cart\u00e3oCNC- CancelamentoCNF- Confirma\u00e7\u00e3o de finaliza\u00e7\u00e3o da venda e impress\u00e3o do cupomNCN- N\u00e3o confirma\u00e7\u00e3o de finaliza\u00e7\u00e3o da venda por desist\u00eancia do cliente ou erro na impress\u00e3o do cupom. 001-000 IDENTIFICA\u00c7\u00c3OFinalidade:Indica o n\u00famero de controle da solicita\u00e7\u00e3o que est\u00e1 sendo feita. Este n\u00famero \u00e9 gerado pelo aplicativo de automa\u00e7\u00e3o comercial, o qual dever\u00e1 colocar um conte\u00fado diferente a cada nova solicita\u00e7\u00e3o. Este mesmo conte\u00fado \u00e9 devolvido nos arquivos de resposta.Formato:Num\u00e9rico de at\u00e9 10 bytes. 002-000 DOCUMENTO FISCAL VINCULADOFinalidade:N\u00famero do documento fiscal vinculado \u00e0 forma de pagamento ou finaliza\u00e7\u00e3o.<code>Nota relativa a legisla\u00e7\u00e3o ECF \u201c\u2026A emiss\u00e3o do comprovante de pagamento de opera\u00e7\u00e3o ou presta\u00e7\u00e3o, efetuado  com cart\u00e3o de cr\u00e9dito ou d\u00e9bito autom\u00e1tico em conta corrente somente poder\u00e1 ser feita por meio de ECF, devendo o    comprovante estar vinculado ao documento fiscal emitido na opera\u00e7\u00e3o ou presta\u00e7\u00e3o respectiva, conforme disposto  em legisla\u00e7\u00e3o pertinente.\u201d.</code>Formato:Num\u00e9rico de at\u00e9 12 bytes. 003-000 VALOR TOTALFinalidade:Valor total desta forma de pagamento.Formato:Num\u00e9rico de at\u00e9 12 bytes, sendo duas casas decimais sem a virgula separadora 004-000 MOEDAFinalidade:Indica a moeda utilizada na opera\u00e7\u00e3oFormato:Num\u00e9rico de 1 byteConte\u00fados V\u00e1lidos:0 \u2013 para Real1 \u2013 para Dolar 005-000 CMC-7Finalidade:Cont\u00e9m os dados do cheque no mesmo formato obtido por uma leitura do CMC-7Formato:Alfanum\u00e9rico de at\u00e9 70 bytes. 006-000 TIPO DE PESSOAFinalidade:Indica o tipo de pessoa que esta sendo atendida na opera\u00e7\u00e3o.Formato:Alfanum\u00e9rico de 1 byteConte\u00fados V\u00e1lidos:F \u2013 para pessoa f\u00edsica \u2013 CPFJ \u2013 para pessoa jur\u00eddica - CNPJ 007-000 DOCUMENTO DA PESSOAFinalidade:Indica a pessoa que esta sendo atendida na opera\u00e7\u00e3o por meio do CNPJ ou CPF.Formato:Num\u00e9rico 16 bytes. 008-000 DATA DO CHEQUEFinalidade:Data de vencimento do ChequeFormato:Num\u00e9rico \u2013 DDMMAAAA 009-000 STATUS DA TRANSA\u00c7\u00c3OFinalidade:Indica se a transa\u00e7\u00e3o foi aprovada ou recusada e qual o motivo da recusa.Formato:Alfanum\u00e9rico de at\u00e9 3 bytes.Conte\u00fados V\u00e1lidos:0 \u2013 para transa\u00e7\u00e3o aprovadaOutro valor \u2013 transa\u00e7\u00e3o negada 010-000 NOME DA REDEFinalidade:Nome da rede que tratou a transa\u00e7\u00e3oFormato:Alfanum\u00e9rico de at\u00e9 8 bytesConte\u00fados V\u00e1lidos:AMEXREDECARDCIELO 011-000 TIPO DA TRANSA\u00c7\u00c3OFinalidade:C\u00f3digo identificando o tipo da transa\u00e7\u00e3o executadaFormato:Num\u00e9rico de at\u00e9 2 bytes.Conte\u00fados V\u00e1lidos:00 - Administrativas \u2013 Outras (Reimpress\u00e3o, Inicia\u00e7\u00e3o de Terminal etc.)01 - Administrativa \u2013 Fechamento/Transmiss\u00e3o de Lote10- Cart\u00e3o de Cr\u00e9dito \u00e0 Vista11- Cart\u00e3o de Cr\u00e9dito Parcelado pelo Estabelecimento12- Cart\u00e3o de Cr\u00e9dito Parcelado pela Administradora13- Pr\u00e9-Autoriza\u00e7\u00e3o com Cart\u00e3o de Cr\u00e9dito20- Cart\u00e3o de D\u00e9bito \u00e0 Vista21- Cart\u00e3o de D\u00e9bito Pr\u00e9-Datado22- Cart\u00e3o de D\u00e9bito Parcelada23- Cart\u00e3o de D\u00e9bito \u00e0 Vista For\u00e7ada24- Cart\u00e3o de D\u00e9bito Pr\u00e9-Datado For\u00e7ada25- Cart\u00e3o de D\u00e9bito Pr\u00e9-Datado sem Garantia30- Outros Cart\u00f5es40- CDC41- Consulta CDC50- Conv\u00eanio60- Voucher70- Consulta Cheque71- Garantia de Cheque99-OutrasObs.: No cancelamento de venda feito atrav\u00e9s da opera\u00e7\u00e3o ADM (Administrativa) este campo conter\u00e1 o tipo da transa\u00e7\u00e3o de  venda que foi cancelada.Exemplos de HEADER como \"ADM\":Exemplo 01: 011-000 = 00(Administrativas: Reimpress\u00e3o, Inicia\u00e7\u00e3o de Terminal etc.)Exemplo 02: 011-000 = 01(Administrativa: Fechamento/Transmiss\u00e3o de Lote)Exemplo 03: 011-000 = 10(Cancelamento de Cart\u00e3o de Cr\u00e9dito, qualquer que tenha sido a modalidade: \u00e0 Vista, Parcelado pelo Estabelecimento ou pela Administradora)Exemplo 04: 011-000 = 20(Cancelamento de Cart\u00e3o de D\u00e9bito, qualquer que tenha sido a modalidade: \u00e0 Vista, Pr\u00e9-Datado, Parcelado etc.)Exemplo 05: 011-000 = 71(Cancelamento de Garantia de Cheque) 012-000 N\u00daMERO DA TRANSA\u00c7\u00c3O - NSUFinalidade:Indica o n\u00famero de seq\u00fc\u00eancia (NSU \u2013 N\u00famero Sequencial \u00danico) da transa\u00e7\u00e3o atribu\u00eddo pelo Host (Sistema das Redes de Cart\u00e3o que recebe e trata as solicita\u00e7\u00f5es das transa\u00e7\u00f5es TEF).Quando este campo \u00e9 enviado do Gerenciador Padr\u00e3o para o Aplicativo de Automa\u00e7\u00e3o Comercial, ele representa o NSU do Host estabelecido para a transa\u00e7\u00e3o.Quando este campo \u00e9 enviado do Aplicativo de Automa\u00e7\u00e3o Comercial para o Gerenciador Padr\u00e3o, ele representa o NSU da transa\u00e7\u00e3o a ser tratada (cancelada, confirmada etc.)Formato: Num\u00e9rico de at\u00e9 12 bytes. 013-000 C\u00d3DIGO DE AUTORIZA\u00c7\u00c3O DA TRANSA\u00c7\u00c3OFinalidade:Indica o n\u00famero de autoriza\u00e7\u00e3o da transa\u00e7\u00e3o atribu\u00edda pelo Host.Cada transa\u00e7\u00e3o TEF possui um n\u00famero de autoriza\u00e7\u00e3o.Formato: Num\u00e9rico de at\u00e9 6 bytes. 014-000 N\u00daMERO DO LOTE DA TRANSA\u00c7\u00c3OFinalidade:Indica o n\u00famero de lote da transa\u00e7\u00e3oFormato: Num\u00e9rico de at\u00e9 10 bytes. 015-000 TIMESTAMP DA TRANSA\u00c7\u00c3O HOSTFinalidade:Indica a  data e hora da transa\u00e7\u00e3o no Host.Formato: Num\u00e9rico \u2013 DDMMHHMMSS 016-000 TIMESTAMP DA TRANSA\u00c7\u00c3O LOCALFinalidade:Indica a  data e hora da transa\u00e7\u00e3o no ponto de venda.Formato: Num\u00e9rico \u2013 DDMMHHMMSS 017-000 TIPO PARCELAMENTOFinalidade:Indica o tipo de parcelamento aplicado \u00e0 opera\u00e7\u00e3oFormato: Indica o tipo de parcelamento aplicado \u00e0 opera\u00e7\u00e3oNum\u00e9rico de 1 byteConte\u00fados V\u00e1lidos:0 \u2013 parcelado estabelecimento1 \u2013 parcelado administradora 018-000 QUANTIDADE DE PARCELASFinalidade:Indica o n\u00famero de parcelas no caso de transa\u00e7\u00f5es Parceladas (Cr\u00e9dito ou D\u00e9bito).Formato: Num\u00e9rico de at\u00e9 2 bytes. 019-yyy DATA VENCIMENTO DA PARCELAFinalidade:Indica a data em que foi agendada a parcela (yyy). A parcela \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a 001, 002, \u2026 respectivamente para cada uma das parcelas definidas no campo QUANTIDADE DE PARCELAS.Formato: Num\u00e9rico - DDMMAAAA 020-yyy VALOR DA PARCELAFinalidade:Indica o valor da parcela (yyy). A parcela \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a 001, 002, \u2026 respectivamente para cada uma das parcelas definidas no campo QUANTIDADE DE PARCELAS.Formato:Num\u00e9rico de at\u00e9 12 bytes, sendo duas casas decimais sem a v\u00edrgula separadora. 021-yyy N\u00daMERO DA TRANSA\u00c7\u00c3O \u2013 NSU DA PARCELAFinalidade:Indica o NSU da parcela (yyy). A parcela \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a 001, 002, \u2026 respectivamente para cada uma das parcelas definidas no campo QUANTIDADE DE PARCELAS.Formato: Num\u00e9rico de at\u00e9 12 bytes. 022-000 DATA DA TRANSA\u00c7\u00c3O - COMPROVANTEFinalidade:Indica a  hora da transa\u00e7\u00e3oFormato:Num\u00e9rico \u2013 HHMMSS 023-000 HORA DA TRANSA\u00c7\u00c3O - COMPROVANTE Finalidade:Indica a  hora da transa\u00e7\u00e3oFormato: Num\u00e9rico \u2013 HHMMSS 024-000 DATA PR\u00c9-DATADOFinalidade:Cont\u00e9m data de agendamento para pr\u00e9-datado.Formato:Num\u00e9rico \u2013 DDMMAAAA 025-000 N\u00daMERO DA TRANSA\u00c7\u00c3O CANCELADA - NSUFinalidade:N\u00famero de sequ\u00eancia (NSU) da transa\u00e7\u00e3o cancelada.Formato:N\u00famero de sequ\u00eancia (NSU) da transa\u00e7\u00e3o cancelada.Num\u00e9rico de at\u00e9 12 bytes. 026-000 TIMESTAMP DA TRANSA\u00c7\u00c3O CANCELADA - HOSTFinalidade:Cont\u00e9m a data e hora da transa\u00e7\u00e3o cancelada no Host.Formato: Num\u00e9rico - DDMMHHMMSS 027-000 FINALIZA\u00c7\u00c3OFinalidade:Dados recebidos do M\u00f3dulo TEF que executou a transa\u00e7\u00e3o e que devem ser devolvidos no comando de finaliza\u00e7\u00e3o de uma venda.Formato:Alfanum\u00e9rico de at\u00e9 30 bytes. 028-000 QUANTIDADE DE LINHAS DO COMPROVANTEFinalidade:Indica a quantidade de linhas do comprovante. Quando n\u00e3o h\u00e1 comprovante o campo deve conter zero.Formato:Num\u00e9rico de at\u00e9 3 bytes 029-yyy IMAGEM DE CADA LINHA DO COMPROVANTEFinalidade:Apresenta a imagem a ser impressa de cada uma das linhas do comprovante. A linha de impress\u00e3o \u00e9 indicada pelos tr\u00eas caracteres (yyy) do campo correspondente, onde yyy ser\u00e1 igual a  001, 002, ... respectivamente para cada uma das linhas definidas no campo QUANTIDADE DE LINHAS DO COMPROVANTE.Formato:Alfanum\u00e9rico de at\u00e9 40 bytes. 030-000 TEXTO ESPECIAL OPERADOR Finalidade:Texto que, quando presente, deve ser apresentado pelo aplicativo de Automa\u00e7\u00e3o Comercial ao operador.Formato:Alfanum\u00e9rico de at\u00e9 40 bytes. 031-000 TEXTO ESPECIAL CLIENTEFinalidade:Texto que, quando presente, deve ser apresentado pelo aplicativo de Automa\u00e7\u00e3o Comercial ao cliente.Formato:Alfanum\u00e9rico de at\u00e9 40 bytes. 032-000 AUTENTICA\u00c7\u00c3OFinalidade:Mensagem de autentica\u00e7\u00e3o a ser impressa no cheque.Mensagem de autentica\u00e7\u00e3o a ser impressa no chequeFormato: Alfanum\u00e9rico de at\u00e9 20 bytes. 033-000 BANCOFinalidade:C\u00f3digo do Banco no padr\u00e3o do Banco CentralFormato:Alfanum\u00e9rico de at\u00e9 4 bytes. 034-000 AG\u00caNCIAFinalidade:C\u00f3digo da ag\u00eancia do chequeFormato:Alfanum\u00e9rico de at\u00e9 20 bytes. 035-000 AG\u00caNCIA - DCFinalidade:D\u00edgito de controle da ag\u00eancia do chequeFormato:Alfanum\u00e9rico de at\u00e9 2 bytes. 036-000 CONTA CORRENTEFinalidade:C\u00f3digo da conta corrente do chequeFormato:Alfanum\u00e9rico de at\u00e9 20 bytes. 037-000 CONTA CORRENTE - DCFinalidade:D\u00edgito de controle da conta corrente do chequeFormato:Alfanum\u00e9rico de at\u00e9 2 bytes. 038-000 N\u00daMERO DO CHEQUEFinalidade:N\u00famero do chequeFormato:Alfanum\u00e9rico de at\u00e9 20 bytes. 039-000 N\u00daMERO DO CHEQUE - DCFinalidade:D\u00edgito de controle do N\u00famero do chequeFormato:Alfanum\u00e9rico de at\u00e9 2 bytes. 040-000 NOME DA ADMINISTRADORAFinalidade:Identifica a Administradora do Cart\u00e3o utilizado.Formato:Alfanum\u00e9rico de at\u00e9 12 bytes.Conte\u00fados V\u00e1lidos: CIELOAMEXMASTERCARDetc. 709-000 Valor de desconto concedido pela rede administradora que deve registrado na ECF como \u201cdesconto\u201d no cupom fiscal 800-000 Identifica qual opera\u00e7\u00e3o CRT ou ADM deve ser realizada\u2981 001-Cancelamento\u2981 002-Reimpress\u00e3o\u2981 003-Consulta Saldo\u2981 004-Consulta Parcelas\u2981 005-Serasa [REDECARD]\u2981 006-Pr\u00e9-Autoriza\u00e7\u00e3o\u2981 007-Pagamentos [VISANET]\u2981 008-Teste Rede Ativa\u2981 009-Recarga Celular\u2981 010-Resumo Vendas [REDECARD]\u2981 011-Pagamento Fatura\u2981 012-Cadastro Programa\u2981 013-Ac\u00famulo De Pontos\u2981 014-Resgate De Pontos\u2981 015-Estorno De Pontos\u2981 016-Correspondente Banc\u00e1rio (Menu)\u2981 036-Transa\u00e7\u00e3o de Cr\u00e9dito\u2981 037-Transa\u00e7\u00e3o de D\u00e9bito\u2981 038-Transa\u00e7\u00e3o Voucher\u2981 039-Transa\u00e7\u00e3o Private Label\u2981 045-Transa\u00e7\u00e3o Frota 046-Transa\u00e7\u00e3o Credi\u00e1rio\u2981 061-Transa\u00e7\u00e3o ValeG\u00e1s 062-Transa\u00e7\u00e3o D\u00e9bito Qualidade\u2981 063-Transa\u00e7\u00e3o D\u00e9bito MettaCard\u2981 101-CB (Inicializa\u00e7\u00e3o de Equipamento)\u2981 102-CB (Finaliza\u00e7\u00e3o de Equipamento)\u2981 103-CB (Pagamento de Conta)\u2981 104-CB (Cancelamento de Pagamento)\u2981 105-CB (Resumo de Pagamentos)\u2981 106-CB (Reimpress\u00e3o de Comprovante)\u2981 107-CB (Configura\u00e7\u00f5es) 801-000 Dados da transa\u00e7\u00e3o de acordo com a opera\u00e7\u00e3o realizada. Algumas transa\u00e7\u00f5es n\u00e3o possuem log, nestes casos, este campo n\u00e3o ser\u00e1 retornado. Normalmente este campo ser\u00e1 gerado para as transa\u00e7\u00f5es que realizam movimenta\u00e7\u00e3o financeira. O layout dos dados est\u00e3o descritos no cap\u00edtulo \u201cLog das Transa\u00e7\u00f5es\u201d deste manual. J\u00e1 o layout das opera\u00e7\u00f5es CB encontram-se no manual \u201cIntegra\u00e7\u00e3oCB.doc\u201d. 802-000 \u2981 0-Normal\u2981 1-Promocional 803-000 Dados estendidos da transa\u00e7\u00e3o, de acordo com o item \u201c2.3.17 \u2013 Registro de Log Estendido\u201d deste documento. 999-999 Finalidade:Indica fim do arquivo.Formato:Num\u00e9rico de 1 byte \u2013 Constante zero"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#exemplo-de-uma-venda-com-cartao-de-credito","title":"Exemplo de uma venda com cart\u00e3o de cr\u00e9dito","text":"<p>Arquivo de solicita\u00e7\u00e3o da compra (C:\\TEF_DIAL\\REQ\\IntPos.001)</p> Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/venda p/cart\u00e3o 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 002-000 = 123456 N\u00famero do documento fiscal vinculado 003-000 = 150000 Valor total da transa\u00e7\u00e3o (R$1.500,00) 999-999 = 0 Registro final do arquivo"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#arquivo-de-informacao-que-a-funcao-esta-sendo-executada-ctef_dialresp-intpossts","title":"Arquivo de informa\u00e7\u00e3o que a fun\u00e7\u00e3o est\u00e1 sendo executada (C:\\TEF_DIAL\\RESP \\IntPos.Sts)","text":"Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/venda p/cart\u00e3o 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 999-999 = 0 Registro final do arquivo"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#arquivo-de-resposta-ctef_dialresp-intpos001","title":"Arquivo de resposta (C:\\TEF_DIAL\\RESP \\IntPos.001)","text":"Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/venda p/cart\u00e3o 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 002-000 = 123456 N\u00famero do documento fiscal vinculado 003-000 = 150000 Valor total da transa\u00e7\u00e3o (R$1.500,00) 004-000 = 1 Moeda = real 009-000 = 0 Status da transa\u00e7\u00e3o = OK 010-000 = Nome da Rede Nome da Rede 011-000 = 10 Tipo da Transa\u00e7\u00e3o = Cart\u00e3o de Cr\u00e9dito \u00e0 Vista 012-000 = 123456789000 N\u00famero da NSU 013-000 = 123456 C\u00f3digo de Autoriza\u00e7\u00e3o da Transa\u00e7\u00e3o 014-000 = 1234567890 N\u00famero do Lote da Transa\u00e7\u00e3o 015-000 = DDMMHHMMSS Data e a Hora da Transa\u00e7\u00e3o (Host) 016-000 = DDMMHHMMSS Data e Hora da Transa\u00e7\u00e3o local  (ponto de venda) 022-000 = DDMMAAAA Data da Transa\u00e7\u00e3o - Comprovante 023-000 = HHMMSS Hora da Transa\u00e7\u00e3o - Comprovante 027-000 = 123XXYTZAAABC Finaliza\u00e7\u00e3o 028-000 = 20 Quant. de linhas do comprovante = 20 029-001 = \u201c     Rede X\u201d Imagem do comprovante  \u2013 linha 01 029-002 = \u201c Loja X\u201d Imagem do comprovante  \u2013 linha 02 029-003 = \u201c Rua X\u201d Imagem do comprovante  \u2013 linha 03 029-004 = \u201cTERM.666666\u201d Imagem do comprovante  \u2013 linha 04 029-005 = \u201cADM. X\u201d Imagem do comprovante  \u2013 linha 05 . Imagem do comprovante  \u2013 linha .. . Imagem do comprovante  \u2013 linha .. . Imagem do comprovante  \u2013 linha .. 029-017 = \"\" Imagem do comprovante  \u2013 linha 17 029-018 = \"\" Imagem do comprovante  \u2013 linha 18 029-019 = \u201cASSINATURA\u201d Imagem do comprovante  \u2013 linha 19 029-020 = \u201cCLIENTE X\u201d Imagem do comprovante  \u2013 linha 20 040-000 = \u201cADM. X\u201d Administradora do Cart\u00e3o 999-999 = 0 Registro final do arquivo <pre><code>   Nota: Somente ser\u00e1 disponibilizada uma c\u00f3pia do comprovante, \n   ficando a cargo da Aplica\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial a emiss\u00e3o \n   da quantidade de vias necess\u00e1rias, em fun\u00e7\u00e3o do tipo de impressora \n   dispon\u00edvel. Dever\u00e3o haver ao menos duas \"vias\", uma para o cliente \n   e outra para o estabelecimento.\n</code></pre>"},{"location":"pages/GerenciadorPadrao/LayoutMensagensComunicacao/#arquivo-de-confirmacao-ctef_dialreqintpos001","title":"Arquivo de confirma\u00e7\u00e3o (C:\\TEF_DIAL\\REQ\\IntPos.001)","text":"Imagem do arquivo Coment\u00e1rios 000-000 = CRT Header p/ confirma\u00e7\u00e3o de finaliza\u00e7\u00e3o da venda e impress\u00e3o do cupom 001-000 = 1 Identifica\u00e7\u00e3o da solicita\u00e7\u00e3o 002-000 = 123456 N\u00famero do documento fiscal vinculado 010-000 = Rede X Rede respons\u00e1vel pela autoriza\u00e7\u00e3o 012-000 = 123456789000 N\u00famero da Transa\u00e7\u00e3o NSU 027-000 = 123XXYTZAAABC Finaliza\u00e7\u00e3o 999-999 = 0 Registro final do arquivo"},{"location":"pages/GerenciadorPadrao/OutrasConsideracoesTrocaDeArquivos/","title":"Outras considera\u00e7\u00f5es Troca de Arquivos","text":""},{"location":"pages/GerenciadorPadrao/OutrasConsideracoesTrocaDeArquivos/#outras-consideracoes","title":"Outras considera\u00e7\u00f5es","text":"<pre><code>\u2981 Apesar de serem neste momento somente requeridos pela rede CIELO, os tratamentos \ndescritos neste documento n\u00e3o devem ser restritos \u00e0 rede CIELO ou a determinada \nsolu\u00e7\u00e3o de TEF. Os tratamentos aqui especificados permitem total compatibilidade com \nsolu\u00e7\u00f5es de TEF que n\u00e3o suportam as novas funcionalidades.\n\n\u2981 Caso o arquivo de resposta contenha campos desconhecidos pela Automa\u00e7\u00e3o Comercial, esta \ndeve ignor\u00e1-los sem acusar erro. Isto permite que informa\u00e7\u00f5es adicionais sejam futuramente \nretornadas pelo aplicativo de TEF, mantendo compatibilidade com vers\u00f5es de Automa\u00e7\u00e3o Comercial \nanteriores \u00e0 nova especifica\u00e7\u00e3o.\n</code></pre> Exemplo de arquivo de retorno <pre><code>000-000 = CRT\n001-000 = 618538554\n002-000 = 223546\n003-000 = 10800 \n004-000 = 0 \n009-000 = 0 \n010-000 = NOVAREDE \n011-000 = 20 \n012-000 = 12282005821 \n013-000 = 005045 \n015-000 = 0906122820 \n016-000 = 0906122820 \n022-000 = 09062012 \n023-000 = 122820 \n027-000 = 12060912282012282005821\n028-000 = 19\n029-001 = \"      *** DEMONSTRACAO  PAY&amp;GO ***\"\n029-002 = \"           COMPROVANTE DE TEF\"\n029-003 = \"    \"\n029-004 = \"    ESTABELECIMENTO DE TESTE\"\n029-005 = \"    823982346832235/03876463\"\n029-006 = \"    \"\n029-007 = \"    09/06/2012              12:28:20\"\n029-008 = \"    REF.FISCAL:618538554\"\n029-009 = \"    DOC:020778        AUTORIZ:005045\"\n029-010 = \"    REF.HOST:12282005821\"\n029-011 = \"    \"\n029-012 = \"    DEMOCARD        ************1111\"\n029-013 = \"    VENDA DEBITO A VISTA\"\n029-014 = \"    VALOR FINAL: R$ 108,00\"\n029-015 = \"    VALOR ORIGINAL: R$ 120,00\"\n029-016 = \"    DESCONTO: R$ 12,00\"\n029-017 = \"    \"\n029-018 = \"    TRANSACAO AUTORIZADA MEDIANTE\"\n029-019 = \"        USO DA SENHA PESSOAL.\"\n030-000 = AUTORIZADA 005045\n040-000 = DEMOCARD\n707-000 = 12000\n709-000 = 1200\n710-000 = 5\n711-001 = \"DEMOCARD                ************1111\"\n711-002 = \"POS:03876463  DOC:020778  AUTORIZ:005045\"\n711-003 = \"VENDA DEBITO A VISTA\" \n711-004 = \"VALOR FINAL: R$ 108,00\" \n711-005 = \"DESCONTO: R$ 12,00\"\n712-000 = 17\n713-001 = \"      *** DEMONSTRACAO  PAY&amp;GO ***\"\n713-002 = \"           COMPROVANTE DE TEF\"\n713-003 = \"              VIA: CLIENTE\"\n713-004 = \"    \" \n713-005 = \"    ESTABELECIMENTO DE TESTE\" \n713-006 = \"    823982346832235/03876463\" \n713-007 = \"    \" \n713-008 = \"    09/06/2012              12:28:20\" \n713-009 = \"    REF.FISCAL:618538554\" \n713-010 = \"    DOC:020778        AUTORIZ:005045\"\n713-011 = \"    REF.HOST:12282005821\"\n713-012 = \"    \"\n713-013 = \"    DEMOCARD        ************1111\"\n713-014 = \"    VENDA DEBITO A VISTA\"\n713-015 = \"    VALOR FINAL: R$ 108,00\"\n713-016 = \"    VALOR ORIGINAL: R$ 120,00\"\n713-017 = \"    DESCONTO: R$ 12,00\"\n714-000 = 20\n715-001 = \"      *** DEMONSTRACAO  PAY&amp;GO ***\"\n715-002 = \"           COMPROVANTE DE TEF\"\n715-003 = \"          VIA: ESTABELECIMENTO\"\n715-004 = \"    \"\n715-005 = \"    ESTABELECIMENTO DE TESTE\"\n715-006 = \"    823982346832235/03876463\"\n715-007 = \"    \"\n715-008 = \"    09/06/2012              12:28:20\"\n715-009 = \"    REF.FISCAL:618538554\"\n715-010 = \"    DOC:020778        AUTORIZ:005045\"\n715-011 = \"    REF.HOST:12282005821\"\n715-012 = \"    \"\n715-013 = \"    DEMOCARD        ************1111\"\n715-014 = \"    VENDA DEBITO A VISTA\"\n715-015 = \"    VALOR FINAL: R$ 108,00\"\n715-016 = \"    VALOR ORIGINAL: R$ 120,00\"\n715-017 = \"    DESCONTO: R$ 12,00\"\n715-018 = \"    \"\n715-019 = \"    TRANSACAO AUTORIZADA MEDIANTE\"\n715-020 = \"        USO DA SENHA PESSOAL.\"\n718-000 = DEMO\n719-000 = ESTAB 42\n999-999 = 0\n</code></pre>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/","title":"Configura\u00e7\u00e3o Paykit","text":""},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configuracoes-paykit","title":"Configura\u00e7\u00f5es Paykit","text":"<p>Nesta p\u00e1gina estar\u00e1 disposto os m\u00e9todos os quais s\u00e3o possiveis utilizar para que a automa\u00e7\u00e3o fa\u00e7a a configura\u00e7\u00e3o do Paykit de forma program\u00e1tica. A obrigatoriedade de implementa\u00e7\u00e3o desses m\u00e9todos ir\u00e1 variar de acordo com o modelo de integra\u00e7\u00e3o escolhido pela sua automa\u00e7\u00e3o. Consulte a se\u00e7\u00e3o: Modelos de Integra\u00e7\u00e3o</p>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-cnpj-do-estabelecimento","title":"Configura CNPJ do Estabelecimento","text":"<p>Para configurar o CNPJ da empresa de forma program\u00e1tica execute a funcionalidade abaixo:</p> <pre><code> int ConfiguraCNPJEstabelecimento(char *pCNPJEstabelecimento);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pCNPJEstabelecimento 14 N Ponteiro que cont\u00e9m o n\u00famero do CNPJ para ser utilizado na configura\u00e7\u00e3o."},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-empresa-loja-e-pdv","title":"Configura Empresa, Loja e PDV","text":"<p>Para configurar de forma program\u00e1tica o PDV, com n\u00famero da empresa, loja e n\u00famero de PDV integrar com o m\u00e9todo abaixo:</p> <pre><code> int ConfiguraEmpresaLojaPDV(char *pNumeroEmpresa, char *pNumeroLoja, char *pNumeroPDV);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pNumeroEmpresa 4 N Ponteiro que cont\u00e9m o n\u00famero da Empresa para ser utilizado na configura\u00e7\u00e3o. pNumeroLoja 4 N Ponteiro que cont\u00e9m o n\u00famero da Loja para ser utilizado na configura\u00e7\u00e3o. pNumeroPDV 4 N Ponteiro que cont\u00e9m o n\u00famero do PDV para ser utilizado na configura\u00e7\u00e3o."},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#configura-comunicacao-tef","title":"Configura Comunica\u00e7\u00e3o TEF","text":"<p>Para realizar a configura\u00e7\u00e3o de comunica\u00e7\u00e3o com D-TEF de forma program\u00e1tica integrar com a aseguinte funcionalidade:</p> <p><pre><code> int ConfiguraComunicacaoDTEF(char *pConfiguracaoIpPortaSsl);\n</code></pre> o par\u00e2metro pConfiguracaoIpPortaSsl recebe as informa\u00e7\u00f5es no formato: </p> <pre><code>IP1:Porta1:SSL1;IP2:Porta2:SSL2;...;IPn:Portan:SSLn`\n</code></pre> <p>Sendo <code>;</code> o separador para caso seja passado mais de um servidor, <code>SSL</code> indica se \u00e9 utilizada uma comunica\u00e7\u00e3o via TLS, op\u00e7\u00f5es possiveis: 1 para habilitar a comunica\u00e7\u00e3o via TLS e 0 para desabilitar.</p> <p>Exemplo da formata\u00e7\u00e3o dos dados informando mais de um servidor TEF: </p> <pre><code>linxTEF.com.br:9999:1;linxTEF.com.br:9998:1;linxTEF.com.br:9997:0;linxTEF.com.br:9996:0\n</code></pre>"},{"location":"pages/InformacoesGerais/ConfiguracaoPaykit/#busca-certificado","title":"Busca Certificado","text":"<p>Esta transa\u00e7\u00e3o permite realizar o download do certificado de comunica\u00e7\u00e3o com o DTEF de forma program\u00e1tica. Os par\u00e2metros est\u00e3o abaixo caracterizados para a fun\u00e7\u00e3o BuscaCertificado.</p> <pre><code>  int BuscaCertificado(char *pURL, char *pPathCertificado);\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o pURL A Url de onde ser\u00e1 feito o download do certificado, caso o ponteiro informado seja nulo ser\u00e1 utilizado o valor default. pPathCertificado A Path absoluto indicando onde dever\u00e1 armazenado o certificado 02 I Retorno:  \u2022 [00] Opera\u00e7\u00e3o executada com sucesso  \u2022 [11] Erro ao processar a solicita\u00e7\u00e3o <p>Essa chamada deve ser feita ap\u00f3s ter sido configurado os dados de CNPJ, empresa, loja e pdv, caso contr\u00e1rio retornar\u00e1 uma sinaliza\u00e7\u00e3o de erro.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/","title":"Informa\u00e7\u00f5es Comuns","text":""},{"location":"pages/InformacoesGerais/InformacoesComuns/#informacoes-comuns","title":"Informa\u00e7\u00f5es Comuns","text":""},{"location":"pages/InformacoesGerais/InformacoesComuns/#transacoes","title":"Transa\u00e7\u00f5es","text":"<p>Todos os campos num\u00e9ricos informados devem ser completados com zeros \u00e0 esquerda e, quando n\u00e3o informados, preenchidos com zeros. Os campos alfanum\u00e9ricos devem ser completados com espa\u00e7os \u00e0 direita e, quando n\u00e3o informados, preenchidos com espa\u00e7os.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#resposta-das-funcoes","title":"Resposta das Fun\u00e7\u00f5es","text":"<p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 preenchido o campo NumeroControle e ser\u00e1 devolvido o Status, indicando o resultado da transa\u00e7\u00e3o.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado.</p> <p>Caso a transa\u00e7\u00e3o seja autorizada, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons um arquivo contendo o comprovante da opera\u00e7\u00e3o a ser impresso pela automa\u00e7\u00e3o. O nome desse arquivo tem o formato NNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado.</p> <p>Se a rede autorizadora permitir e se estiver configurada no D-TEF a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado.</p> <p>O PDV dever\u00e1 verificar a exist\u00eancia do arquivo com o comprovante reduzido ap\u00f3s a aprova\u00e7\u00e3o da transa\u00e7\u00e3o. Se o arquivo com o comprovante reduzido estiver dispon\u00edvel, o PDV dever\u00e1 imprimir no cupom fiscal e em seguida realizar a confirma\u00e7\u00e3o do mesmo, antes da impress\u00e3o do comprovante normal. Se o comprovante reduzido n\u00e3o estiver dispon\u00edvel, a confirma\u00e7\u00e3o dever\u00e1 ser realizada ap\u00f3s a impress\u00e3o do comprovante normal.</p> <p>Ao final da venda, tanto no caso do comprovante reduzido como no comprovante normal, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao.</p>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#definicao-da-diretiva_callback","title":"Defini\u00e7\u00e3o da DIRETIVA_CALLBACK","text":"<p>A macro DIRETIVA_CALLBACK \u00e9 uma diretiva de pr\u00e9-processamento usada para definir a conven\u00e7\u00e3o de chamada de fun\u00e7\u00e3o em diferentes ambientes de compila\u00e7\u00e3o. Ela nos permite adaptar nosso c\u00f3digo para funcionar corretamente em diferentes sistemas operacionais e compiladores. A conven\u00e7\u00e3o de chamada de fun\u00e7\u00e3o define como os par\u00e2metros s\u00e3o passados para a fun\u00e7\u00e3o e como os valores de retorno s\u00e3o retornados para o chamador.</p> <pre><code>#if(_MSC_VER)\n#define DIRETIVA_CALLBACK __stdcall\n#else\n#define DIRETIVA_CALLBACK\n#endif\n</code></pre>"},{"location":"pages/InformacoesGerais/InformacoesComuns/#parametros-opcionais","title":"Par\u00e2metros opcionais","text":"<p>Caso o sistema de automa\u00e7\u00e3o n\u00e3o possua estas informa\u00e7\u00f5es, devem ser preenchidos com zeros ou espa\u00e7os, conforme o tipo do campo.</p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/","title":"Utiliza\u00e7\u00e3o Paykit","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#inicializacao-do-sistema-d-tef-modulo-d-pos","title":"Inicializa\u00e7\u00e3o do Sistema D-TEF M\u00f3dulo D-POS","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#identificacao-automacao-comercial","title":"Identificacao Automa\u00e7\u00e3o Comercial","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#funcao-para-configuracao-do-modo-de-desfazimento-da-transacao","title":"Fun\u00e7\u00e3o para Configura\u00e7\u00e3o do Modo de Desfazimento da Transa\u00e7\u00e3o","text":""},{"location":"pages/InformacoesGerais/UtilizacaoPaykit/#finalizacao-do-sistema-d-tef-modulo-d-pos","title":"Finaliza\u00e7\u00e3o do Sistema D-TEF M\u00f3dulo D-POS","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/","title":"Callbacks","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/IntegracaoSemTelas/Callbacks/#display-terminal","title":"Display Terminal","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#display-erro","title":"Display Erro","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagem","title":"Mensagem","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#beep","title":"Beep","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-cartao","title":"Entra Cart\u00e3o","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-barras","title":"Entra C\u00f3digo de Barras","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-barras-lido","title":"Entra C\u00f3digo de Barras Lido","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-data-de-validade","title":"Entra Data de Validade","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-data","title":"Entra Data","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-codigo-de-seguranca","title":"Entra C\u00f3digo de Seguran\u00e7a","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-opcao","title":"Seleciona Op\u00e7\u00e3o","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-valor","title":"Entra Valor","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-numero","title":"Entra N\u00famero","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-string","title":"Entra String","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagemadicional","title":"MensagemAdicional","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#imagem-adicional","title":"Imagem Adicional","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#consulta-avs","title":"Consulta AVS","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#mensagem-alerta","title":"Mensagem Alerta","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#preview-comprovante","title":"Preview Comprovante","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#operacao-cancelada","title":"Opera\u00e7\u00e3o Cancelada","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#seta-operacao-cancelada","title":"Seta Opera\u00e7\u00e3o Cancelada","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#processa-mensagens","title":"Processa Mensagens","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-planos","title":"Seleciona Planos","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#seleciona-planos-ex","title":"Seleciona Planos EX","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#entra-valor-especial","title":"Entra Valor Especial","text":""},{"location":"pages/IntegracaoSemTelas/Callbacks/#comandos","title":"Comandos","text":""},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":""},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/#funcoes-exportadas-para-registrar-as-funcoes-de-callback","title":"Fun\u00e7\u00f5es exportadas para registrar as fun\u00e7\u00f5es de Callback","text":"<p>Para que o client tenha conhecimento das fun\u00e7\u00f5es da automa\u00e7\u00e3o que ele ir\u00e1 executar, essas fun\u00e7\u00f5es devem ser registradas. Seguem as fun\u00e7\u00f5es disponibilizadas na DLL DPOSDRV.DLL para esse fim (a declara\u00e7\u00e3o est\u00e1 na linguagem C).</p> <pre><code>__stdcall void RegPDVDisplayTerminal(pCallBackDisplayTerminal); __stdcall void RegPDVDisplayErro(pCallBackDisplayErro); __stdcall void RegPDVMensagem(pCallBackMensagem); __stdcall void RegPDVBeep(pCallBackBeep); __stdcall void RegPDVSolicitaConfirmacao(pCallBackSolicitaConfirmacao); __stdcall void RegPDVEntraCartao(pCallBackEntraCartao); __stdcall void RegPDVEntraDataValidade(pCallBackEntraDataValidade); __stdcall void RegPDVEntraData(pCallBackEntraData); __stdcall void RegPDVEntraCodigoSeguranca(pCallBackEntraCodigoSeguranca); __stdcall void RegPDVSelecionaOpcao(pCallBackSelecionaOpcao); __stdcall void RegPDVEntraValor(pCallBackEntraValor); __stdcall void RegPDVEntraNumero(pCallBackEntraNumero); __stdcall void RegPDVOperacaoCancelada(pCallBackOperacaoCancelada); __stdcall void RegPDVSetaOperacaoCancelada(pCallBackSetaOperacaoCancelada);\n__stdcall void RegPDVProcessaMensagens(pCallBackProcessaMensagens); __stdcall void RegPDVEntraString(pCallBackEntraString); __stdcall void RegPDVConsultaAVS(pCallBackConsultaAVS); __stdcall void RegPDVMensagemAdicional(pCallBackMensagemAdicional); __stdcall void RegPDVImagemAdicional(pCallBackImagemAdicional);} __stdcall void RegPDVEntraCodigoBarras(pCallBackEntraCodigoBarras); __stdcall void RegPDVEntraCodigoBarrasLido(pCallBackEntraCodigoBarrasLido);\n__stdcall void RegPDVMensagemAlerta(pCallBackMensagemAlerta); __stdcall void RegPDVPreviewComprovante(pCallBackPreviewComprovante); __stdcall void RegPDVSelecionaPlanos(pCallBackSelecionaPlanos); __stdcall void RegPDVSelecionaPlanosEx(pCallBackSelecionaPlanosEx); __stdcall void RegPDVEntraValorEspecial(pCallBackEntraValorEspecial); __stdcall void RegPDVComandos(pCallBackComandos); </code></pre>"},{"location":"pages/IntegracaoSemTelas/FuncoesExportadasParaRegistrarCallback/#declaracao-dos-parametros-das-funcoes","title":"Declara\u00e7\u00e3o dos par\u00e2metros das fun\u00e7\u00f5es","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/IntegracaoSemTelas/Introducao/","title":"Introdu\u00e7\u00e3o","text":""},{"location":"pages/IntegracaoSemTelas/Introducao/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este documento tem por objetivo descrever os procedimentos necess\u00e1rios para realizar as chamadas do client D-TEF sem a apresenta\u00e7\u00e3o das telas pr\u00e9-definidas do D-POS. Isto \u00e9 importante em situa\u00e7\u00f5es onde se deseja adequar visualmente as telas de coleta da transa\u00e7\u00e3o de TEF com o layout geral da automa\u00e7\u00e3o.</p> <p>N\u00e3o \u00e9 necess\u00e1rio que todas as fun\u00e7\u00f5es de coleta de tela sejam desenvolvidas. Se uma fun\u00e7\u00e3o for utilizada somente por uma transa\u00e7\u00e3o e esta n\u00e3o for implementada, ela pode ser desconsiderada. De forma geral, incluem-se neste caso:</p> <ul> <li>as fun\u00e7\u00f5es para coleta e tratamento de c\u00f3digo de barras de documentos</li> <li>coleta de dados da transa\u00e7\u00e3o de verifica\u00e7\u00e3o de endere\u00e7o (AVS)</li> <li>apresenta\u00e7\u00e3o do preview do comprovante (transa\u00e7\u00e3o de consulta CDC)</li> <li>sele\u00e7\u00e3o de planos de pagamento, para o caso de a automa\u00e7\u00e3o utilizar planos de pagamento</li> </ul>"},{"location":"pages/IntegracaoSemTelas/Introducao/#observacoes","title":"Observa\u00e7\u00f5es","text":"<p>A funcionalidade descrita neste documento est\u00e1 dispon\u00edvel apenas para o D-POS 8. Portanto, transa\u00e7\u00f5es de redes que trafegarem pelo D-TEF 5 dever\u00e3o continuar utilizando o D-POS 5. Como no modo de apresenta\u00e7\u00e3o externa de telas o D-POS 8 n\u00e3o chama automaticamente o D-POS 5, ser\u00e1 necess\u00e1rio fazer as chamadas ao D-POS 5 explicitamente.</p>"},{"location":"pages/IntegracaoSemTelas/Introducao/#utilizacao-das-telas-da-automacao","title":"Utiliza\u00e7\u00e3o das telas da automa\u00e7\u00e3o","text":"<p>Para que seja poss\u00edvel utilizar as telas da automa\u00e7\u00e3o em lugar das telas do D-POS ao realizar transa\u00e7\u00f5es com o Client, dever\u00e3o ser executados os seguintes procedimentos:</p> <ul> <li>desenvolver as fun\u00e7\u00f5es de callback que ser\u00e3o executadas pelo client no momento de interagir com o usu\u00e1rio;</li> <li>registrar as fun\u00e7\u00f5es da callback;</li> <li>chamar a fun\u00e7\u00e3o ConfiguraFluxoExternoDTEF5 do D-POS;</li> <li>executar as chamadas do Client conforme definido no documento de integra\u00e7\u00e3o, ou seja, executando as chamadas para as fun\u00e7\u00f5es TransacaoCartaoCredito, TransacaoCartaoDebito, ConfirmaCartao, FinalizaTransacao etc.</li> </ul>"},{"location":"pages/LayoutLogTransacoes/AcrescimoPreAutorizacao/","title":"Transa\u00e7\u00e3o Acr\u00e9scimo de Pr\u00e9-Autoriza\u00e7\u00e3o","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/AcumuloDePontosResgateDePontos/","title":"Transa\u00e7\u00e3o de Ac\u00famulo de Pontos/Resgate de Pontos","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/Cancelamento/","title":"Transa\u00e7\u00e3o de Cancelamento","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/CargaERecargaDeCartao/","title":"Transa\u00e7\u00e3o de Carga e Recarga de Cart\u00e3o (Pr\u00e9-Pago)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/CartaoCrediario/","title":"Transa\u00e7\u00e3o Cart\u00e3o Credi\u00e1rio","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/CartaoCredito/","title":"Transa\u00e7\u00e3o Cart\u00e3o de Cr\u00e9dito","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/CartaoDebito/","title":"Transa\u00e7\u00e3o Cart\u00e3o de D\u00e9bito","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/CartaoPrivateLabel/","title":"Transa\u00e7\u00e3o Cart\u00e3o Private Label","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/CartaoVoucher/","title":"Transa\u00e7\u00e3o Cart\u00e3o Voucher","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/Cheque/","title":"Transa\u00e7\u00e3o Cheque","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/ConfirmacaoPreAutorizacao/","title":"Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/Deposito/","title":"Transa\u00e7\u00e3o de Dep\u00f3sito","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/ErroTransacao/","title":"Erro da Transa\u00e7\u00e3o","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/Frota/","title":"Transa\u00e7\u00e3o de Frota","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/InicializacaoFinalizacao/","title":"Inicializa\u00e7\u00e3o/Finaliza\u00e7\u00e3o","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/LogAdicional/","title":"LOG Adicional","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/LogEstendido/","title":"LOG Estendido","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/PBM/","title":"Transa\u00e7\u00f5es PBM Pharmacy Benefit Management","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/PagamentoDeContasCielo/","title":"Transa\u00e7\u00e3o de Pagamento de Contas (Cielo)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/PagamentoDeContasCorban/","title":"Transa\u00e7\u00e3o de Pagamento de Contas (CORBAN)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/QRCode/","title":"Transa\u00e7\u00e3o QR Code","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/QuitacaoCartaFrete/","title":"Transa\u00e7\u00e3o Quita\u00e7\u00e3o de Carta Frete","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/RecargaDeCelular/","title":"Transa\u00e7\u00e3o de Recarga de Celular","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/Reinicio/","title":"Rein\u00edcio","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/Saque/","title":"Transa\u00e7\u00e3o de Saque","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/SaqueDomestico/","title":"Transa\u00e7\u00e3o de Saque Dom\u00e9stico","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/LayoutLogTransacoes/ValeGas/","title":"Transa\u00e7\u00e3o de Vale G\u00e1s","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesEspeciais/","title":"Transa\u00e7\u00f5es Especiais","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/","title":"Cart\u00e3o Pr\u00e9-Pago e Vale Presente","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#pagamento-cartao-presente","title":"Pagamento Cartao Presente","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#transacao-carga-cartao","title":"Transa\u00e7\u00e3o Carga Cartao","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CartaoPrePagoEValePresente/#transacao-recarga-cartao","title":"Transa\u00e7\u00e3o Recarga Cartao","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/","title":"Correspondente Banc\u00e1rio","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#inicializa-sessao-corban","title":"Inicializa Sess\u00e3o Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#finaliza-sessao-corban","title":"Finaliza Sess\u00e3o Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#consulta-parametros-corban","title":"Consulta Parametros Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#consulta-pagamento-corban","title":"Consulta Pagamento Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#pagamento-corban","title":"Pagamento Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#resumo-recebimentos-corban","title":"Resumo Recebimentos Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/CorrespondenteBancario/#dados-ultima-transacao-corban","title":"Dados Ultima Transacao Corban","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/","title":"Credi\u00e1rio","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#crediario","title":"Credi\u00e1rio","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCrediario(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#crediario-completa","title":"Credi\u00e1rio Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCrediarioCompleta(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pNumeroParcelas, char *pDataParcela1, char *pValorParcela1, char *pValorEntrada, char *pPermiteAlteracao,\nchar *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o credi\u00e1rio, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o credi\u00e1rio, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoCrediarioCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>NumeroParcelas (*)</p> <p>DataParcela1 (*)</p> <p>ValorParcela1 (*)</p> <p>ValorEntrada (*)</p> <p>PermiteAlteracao (*)</p> <p>Reservado (*)</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) DataParcela1 08N &lt;ddmmaaaa&gt; Data da parcela1 ValorParcela1 12N 10 inteiros, 2 decimais ValorEntrada 12N 10 inteiros, 2 decimais PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao)[ N ] N\u00e3o permite alterar valores informados Reservado 158A 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/Crediario/#simulacao-crediario","title":"Simula\u00e7\u00e3o Credi\u00e1rio","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSimulacaoCrediario(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>A fun\u00e7\u00e3o acima \u00e9 realizada atrav\u00e9s da chamada \u00e0s fun\u00e7\u00f5es TransacaoPreAutorizacaoCartaoCredito, TransacaoCancelamentoPagamento ou TransacaoCancelamentoPagamentoCompleta, TransacaoResumoVendas e TransacaoConsultaParcelas , TransacaoConsultaSaldo ou TransacaoConsultaSaldoCompleta, TransacaoSaque, TransacaoSaqueCompleta, TransacaoConsultaCadastroCPF, TransacaoSimulacaoCrediario, TransacaoDeposito, TransacaoSaqueTransferenciaDomestica, Simula\u00e7\u00e3o de Credi\u00e1rio.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Transa\u00e7\u00e3o autorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>** quantidade de dias do ano informado at\u00e9 a data atual</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/","title":"Define Par\u00e2metro de Transa\u00e7\u00e3o","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/#defineparametrotransacao","title":"DefineParametroTransacao","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/DefineParametroTransacao/#parametros-transacao","title":"Parametros Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/FuncoesAdministrativas/","title":"Fun\u00e7\u00f5es Administrativas","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/","title":"Outras Transa\u00e7\u00f5es","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-obtencao-de-informacoes-da-transacao-corrente","title":"Fun\u00e7\u00e3o para obten\u00e7\u00e3o de informa\u00e7\u00f5es da transa\u00e7\u00e3o corrente","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-pagamento-private-label-completa","title":"Transa\u00e7\u00e3o Pagamento Private Label Completa","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-private-label","title":"Consulta Private Label","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPrivateLabel(char *pValorTransacao, char *pNumeroCupom,\nchar *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-parcelas","title":"Consulta parcelas","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaParcelas(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-saldo","title":"Consulta Saldo","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaSaldo(char *pNumeroCupomVenda, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-saldo-completa","title":"Consulta Saldo Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaSaldoCompleta(char *pNumeroCupomVenda, char *pNumeroControle, char *pTipoCartao, char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-planos","title":"Consulta Planos","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPlanos(char *pValorTransacao, char *pNumeroControle, char *pReservado, char *pPlanos)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcao-para-consultar-status-das-transacoes-pela-automacao","title":"Fun\u00e7\u00e3o para consultar status das transa\u00e7\u00f5es pela automa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#saque","title":"Saque","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSaque(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#saque-completa","title":"Saque Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoSaqueCompleta(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pTipoTransacao, char *pPlanoPagamento, char *pNumeroParcelas, char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-de-primeira-compra","title":"Transa\u00e7\u00e3o de Primeira Compra","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#primeira-compra","title":"Primeira Compra","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#primeira-compra-completa","title":"Primeira Compra Completa","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#pre-autorizacao-credito","title":"Pr\u00e9 Autoriza\u00e7\u00e3o Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoCartaoCredito(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConfirmacaoPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#informacoes-debito-parcelado","title":"Informa\u00e7\u00f5es D\u00e9bito Parcelado","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#estatistica","title":"Estat\u00edstica","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoEstatistica(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-cadastro-cpf338-transacao-consulta-cadastro-cpf-completa","title":"Consulta Cadastro CPF(3.38. Transa\u00e7\u00e3o Consulta Cadastro CPF Completa)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoConsultaCadastroCPF(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pTipoOperacao, char *pDocEmissor, char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-atualizacao-de-parametros-do-cartao","title":"Transa\u00e7\u00e3o Atualiza\u00e7\u00e3o de Par\u00e2metros do Cart\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#resgate-de-premio","title":"Resgate de Pr\u00eamio","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacoes-de-pontos","title":"Transa\u00e7\u00f5es de Pontos","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#plataforma-promocional-cielo","title":"Plataforma Promocional CIELO","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacoes-pbm","title":"Transa\u00e7\u00f5es PBM","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM(char *pNumeroCupom, char *pQuantidadeRedes, char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM(char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, char *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos, char *pValorVista, char *pValorCartao, char *pCodigoCredenciado, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM(char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, char *pNSUConsulta, char *pDadosCRM, char *pTipoVenda, char *pValorVista, char *pValorCartao, char *pCodigoCredenciado, char *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, char *pNumeroControle, char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConfirmaVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoVendaPBM()\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM(char *pNumeroCupom, char *pRedePBM, char *pMatricula,\nchar *pDadosElegibilidade, char *pNumeroControle, char *pNumeroControleRede, char *pNomeCliente, char *pNomeMedico, char *pInformaDependente, char *pListaDependentes, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM(char *pNumeroCupom, char *pRedePBM, char *pAutorizacaoElegibilidade,\nchar *pDadosFarmaceutico, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pNumeroControle, char *pNumeroControleRede, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pNumeroCupom, char *pQuantidadeRedes, char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, char *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos, char *pValorVista, char *pValorCartao, char *pCodigoCredenciado, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, char *pNSUConsulta, char *pDadosCRM, char *pTipoVenda, char *pValorVista, char *pValorCartao, char *pCodigoCredenciado, char *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, char *pNumeroControle, char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAberturaVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pReservado, char *pPedirDadosComplementares, char *pDadosComplementares, char *pInfoDadosComplementares, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaProdutoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pMedicamento, char *pReservado, char *pPedirDadosComplementares, char *pDadosComplementares, char *pInfoDadosComplementares, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoFechamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pConfirmacao, char *pReservado, char *pAutorizacao, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pNumeroCupom, char *pRedePBM, char *pMatricula, char *pDadosElegibilidade, char *pNumeroControle, char *pNumeroControleRede, char *pNomeCliente, char *pNomeMedico, char *pInformaDependente, char *pListaDependentes, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pNumeroCupom, char *pRedePBM, char *pAutorizacaoElegibilidade, char *pDadosFarmaceutico, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pNumeroControle, char *pNumeroControleRede, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pMatricula, char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <p>As transa\u00e7\u00f5es com a rede \"PBM Funcional\", onde retorna os par\u00e2metros da rede \"DadosRedes=[49000PBM Funcional SS ]\", significa que a mesma necessita do \"C\u00f3digo de Autoriza\u00e7\u00e3o\u201d\" e \"N\u00famero do Cart\u00e3o\", conforme estrutura retornado neste par\u00e2metro.</p> <p>Ainda sobre a rede \u201cPBM Funcional\u201d, referente ao \"N\u00famero do Cart\u00e3o\", o mesmo deve ser solicitado ao operador \"campo com 17 d\u00edgitos\", e enviado no par\u00e2metro \" pTrilha2 \" contendo somente os 17 d\u00edgitos coletados pelo operador.</p> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Consulta das Redes Parametrizadas, de Consulta de Produtos, Transa\u00e7\u00e3o de Venda PBM, Confirma\u00e7\u00e3o de Venda PBM, Reimpress\u00e3o de Venda PBM e Cancelamento de Venda PBM s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es ConsultaParametrosPBM , ConsultaProdutosPBM , TransacaoVendaPBM , ConfirmaVendaPBM , TransacaoReimpressaoVendaPBM e TransacaoCancelamentoVendaPBM.</p> <p>O NumeroControle , inclu\u00eddo na resposta da fun\u00e7\u00e3o de consulta de produtos, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de venda este n\u00famero dever\u00e1 obrigatoriamente, ser utilizado, para informar o n\u00famero da consulta em que os produtos foram obtidos. No caso do NumeroControle obtido no retorno da fun\u00e7\u00e3o de venda, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o para efetivar a confirma\u00e7\u00e3o da venda.</p> <p>Ap\u00f3s a impress\u00e3o do comprovante pela automa\u00e7\u00e3o comercial, sendo esta com sucesso, deve-se realizar a confirma\u00e7\u00e3o da transa\u00e7\u00e3o atrav\u00e9s da fun\u00e7\u00e3o ConfirmaVendaPBM informando o n\u00famero do NSU da transa\u00e7\u00e3o que deseja confirmar. Em seguida, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao (ver item 3.1.3.11).</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoReimpressaoVendaPBM poder\u00e1 ser reimpresso o comprovante da \u00faltima venda PBM emitida com sucesso. Caso a fun\u00e7\u00e3o seja executada com sucesso, o arquivo ULTIMOPBM.PRN ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons.</p> <p>As fun\u00e7\u00f5es de Consulta de Par\u00e2metros e Consulta de Produtos devem ser acionadas antes de iniciar-se uma venda, pois ao efetuar a venda o operador dever\u00e1 optar por utilizar um produto da rede selecionada ou por um produto da pr\u00f3pria loja. Esta \u201csele\u00e7\u00e3o\u201d \u00e9 importante para determinar se o sistema de automa\u00e7\u00e3o comercial dever\u00e1 chamar a fun\u00e7\u00e3o de venda PBM ou n\u00e3o. No caso de efetuar uma venda PBM, todos os par\u00e2metros obtidos atrav\u00e9s da fun\u00e7\u00e3o de consulta PBM dever\u00e3o ser passados na fun\u00e7\u00e3o de venda, de acordo com a quantidade vendida. Estes dados dever\u00e3o estar coerentes com os dados da consulta, caso contr\u00e1rio, a venda corre o risco de n\u00e3o ser aprovada pela rede PBM selecionada.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoCancelamentoVendaPBM pode-se efetuar o cancelamento de uma venda PBM. O NumeroControle da venda a ser cancelada deve ser informado. Al\u00e9m disso, se a rede PBM exigir, poder\u00e1 ser necess\u00e1rio a leitura do cart\u00e3o do benefici\u00e1rio para efetuar o cancelamento.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01 P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroEmpresa 04 P 04 inteiros NumeroLoja 04 P 04 inteiros NumeroPDV 03 P 03 inteiros [001\u2026356] InfoDadosComplementares 64 A Informa\u00e7\u00e3o de coleta de campos opcionais da tela de abertura de venda PBM. Os par\u00e2metros dos 2 campos t\u00eam o seguinte formato:\u2022 TAAMMXX...XXTAAMMXX...XX\u2022 T : tipo do campo - N (num\u00e9rico), A (alfanum\u00e9rico) ou F (op\u00e7\u00e3o sim ou n\u00e3o - Y/N)\u2022 AA : tamanho m\u00ednimo do campo (1 at\u00e9 50)\u2022 MM : tamanho m\u00e1ximo do campo (1 at\u00e9 50)\u2022 X : nome do campo para apresenta\u00e7\u00e3o na tela (at\u00e9 20 bytes)Os dois campos s\u00e3o opcionais. Se nenhum campo estiver preenchido, n\u00e3o haver\u00e1 a coleta. Exemplo:\u2022 N0808CEP N1111CPF DO PORTADOR\u2022 Neste exemplo, haver\u00e1 a captura de 2 campos, sendo que o primeiro \u00e9 o CEP com 8 d\u00edgitos (N=num\u00e9rico) e o segundo o CPF com 11 d\u00edgitos. DadosComplementares 128A Dados complementares coletados conforme os campos da estrutura InfoDadosComplementares . No exemplo acima, os dados poderiam ficar:\u2022 08999999991199999999999, isto \u00e9, CEP 99999999 com 8 d\u00edgitos e CPF 99999999999 com 11 d\u00edgitos. PedirDadosComplementares 01 A Se a fun\u00e7\u00e3o retornar erro, analisar este campo para verificar se \u00e9 necess\u00e1rio coletar os dados complementares e chamar novamente a fun\u00e7\u00e3o.\u2022 [ S ] Coletar dados complementares\u2022 [ N ] N\u00e3o coletar dados complementares ValorTotalMedicamentos 12N Valor total dos medicamentos do cupom na venda ou valor total dos medicamentos retornados na consulta NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) QuantidadeRedes 02N Quantidade de redes cadastradas DadosRedesFormato:Numero[05]Nome[20]ColetaCartao[01]ColetaAutorizacao[01]Filler[13] 560P Par\u00e2metro que retorna os dados das redes cadastradas. Os campos ColetaCartao e ColetaAutorizacao indicam qual informa\u00e7\u00e3o deve ser coletada pelo sistema de automa\u00e7\u00e3o comercial. Podem ser retornados at\u00e9 14 redes no formato especificado Especifica\u00e7\u00e3o de alguns campos :Campo ColetaCartao = \u2022 [ S ] Coletar cart\u00e3o\u2022 [ N ] N\u00e3o coletar cart\u00e3oCampo ColetaAutorizacao =\u2022 [ S ] Coletar n\u00famero de autoriza\u00e7\u00e3o\u2022 [ N ] N\u00e3o coletar n\u00famero de autoriza\u00e7\u00e3o RedePBM 05N C\u00f3digo da rede PBM selecionada Trilha1 76A Trilha1 do cart\u00e3o Trilha2 37A Trilha2 do cart\u00e3o Digitado 01N \u2022 [ 0 ] Indica que a trilha2 do cart\u00e3o foi obtido atrav\u00e9s de leitura em pinpad criptografado\u2022 [ 1 ] Indica que a trilha2 do cart\u00e3o foi digitado Autoriza\u00e7\u00e3o 12N N\u00famero da autoriza\u00e7\u00e3o coletado pelo sistema de automa\u00e7\u00e3o NSUConsulta 06N N\u00famero de controle obtido na consulta de produtos DadosCRMFormato:CRM[12]UF_CRM[02] 14P Dados de identifica\u00e7\u00e3o do CRM consultado DadosElegibilidadeFormato:CodigoOperadorVita[09]PlanoSaude[06]NumeroDependente[02]TipoProfissional[01]UF_CRM_CRO[02]NumeroCRM_CRO[09]DataReceita[06]DescontoEmFolha[01] 30P Deve ser coletado pelo sistema de automa\u00e7\u00e3o os dados da estrutura.Especifica\u00e7\u00e3o de alguns campos :\u2022 Campo CodigoOperadorVita =\u2022 Campo PlanoSaude = C\u00f3digo do plano de sa\u00fade\u2022 Campo TipoProfissional = [ 0 ] CRM [ 1 ] CRO\u2022 Campo DescontoEmFolha = [ S ] Sim [ N ] N\u00e3o NomeCliente 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM NomeMedico 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM InformaDependente 01P \u2022 [ S ]Sim [ N ]N\u00e3oImportante : se a fun\u00e7\u00e3o retornar status 11, verificar se foi retornado \u201cS\u201d neste par\u00e2metro. Neste caso, chamar a fun\u00e7\u00e3o novamente informando o n\u00famero do dependente na estrutura do par\u00e2metro DadosElegibilidade ListaDependentesFormato:N\u00famero do dependente[02]Nome do dependente[40] 504P Lista de at\u00e9 12 registros AutorizacaoElegibilidade 12P Deve ser informado a Autoriza\u00e7\u00e3o retornada na transa\u00e7\u00e3o de elegibilidade DadosFarmaceuticoFormato:UF_CRF[02]NumeroCRF[12] 14P TipoVenda 01N \u2022 [ 0 ]Vista [ 1 ] Cart\u00e3o ValorVista 12N Valor a pagar \u00e0 vista para consulta e valor pago \u00e0 vista para a fun\u00e7\u00e3o de venda ValorCart\u00e3o 12N Valor a pagar com cart\u00e3o para consulta e valor pago com cart\u00e3o para a fun\u00e7\u00e3o de venda CodigoCredenciado 15N C\u00f3digo do credenciado RegraNegocio 08N C\u00f3digo da regra de neg\u00f3cio (ePharma) QuantidadeMedicamentos 02N Quantidade de medicamentos retornados no campoMedicamentos para a fun\u00e7\u00e3o de consulta e quantidade de medicamentos vendidos para a fun\u00e7\u00e3o de venda MedicamentosFormato:DataReceita[08]IDCRM_CRO[01]CRM[12]UF_CRM[02]TipoMedicamento[02]C\u00f3digo[13]Descri\u00e7\u00e3o[15]CondicaoVenda[01]PrecoMaxConsumidor[08]PrecoFabricaUnitario[08]PrecoUnitarioVendaCons[08]PrecoAquisicaoUnitario[08]PrecoRepasseVarejo[08]MotivoRejeicao[02]QtdReceitada[04]QtdAutorizadaSolicitada[04]Referencia[02]IndicadorVenda[01]TipoEmbalagem[01]Desconto[05]Controle[10]Reembolso[08]Comiss\u00e3o[05]UsoContinuo[01]Filler[05] *P Dados dos medicamentos fornecidos para o sistema de automa\u00e7\u00e3o na fun\u00e7\u00e3o de consulta e dados dos medicamentos vendidos da rede selecionada para a fun\u00e7\u00e3o de venda. Podem ser retornados (pela fun\u00e7\u00e3o de consulta) ou informados (para a fun\u00e7\u00e3o de venda) at\u00e9 o n\u00famero de medicamentos informado no campo QuantidadeMedicamentos.\u2022 * o tamanho deste buffer deve ser calculado da seguinte forma: QuantidadeMedicamentos * 142\u2022 142 = tamanho da estrutura de dados para um medicamentoEspecifica\u00e7\u00e3o de alguns campos :\u2022 Campo IDCRM_CRO = [ 0 ] CRM [ 1 ] CRO\u2022 Campo TipoMedicamento =\u2022 [ 01 ] Medicamento\u2022 [ 02 ] Manipula\u00e7\u00e3o\u2022 [ 03 ] Manip. Especial\u2022 [ 04 ] Perfumaria\u2022 Campo CondicaoVenda =\u2022 [ 0 ] obrigat\u00f3rio utilizar pre\u00e7o f\u00e1brica\u2022 [ 1 ] permite vender com pre\u00e7o inferior\u2022 Campo IndicadorVenda =\u2022 [ 0 ] produto venda cart\u00e3o\u2022 [ 1 ] produto venda vista\u2022 Campo TipoEmbalagem = unit\u00e1rio ou parcial\u2022 Campo Controle = campo para uso restrito\u2022 Campo UsoContinuo = [ S , N ]Observa\u00e7\u00f5es :\u2022 [ 1 ] os campos Reembolso e Comiss\u00e3o foram inclu\u00eddos poiss\u00e3o retornados pela VidaLink\u2022 [ 2 ] o campo UsoContinuo \u00e9 utilizado pela PreSaude\u2022 [ 3 ] no campo QtdAutorizadaSolicitada deve ser informado a quantidade solicitada para a PrevSaude ou quantidadeautorizada para as demais PBMs. Reservado 128P Campo reservadoTransacaoAberturaVendaPBM_TeleMarketing : esta fun\u00e7\u00e3o retornar\u00e1 neste par\u00e2metro o n\u00famero da autoriza\u00e7\u00e3o para esta transa\u00e7\u00e3o. Tamanho de 12 bytes. Confirmacao 01A Indica se a transa\u00e7\u00e3o de venda de produtos PBM deve ser confirmada ou n\u00e3o.\u2022 [ S ] Confirmar a opera\u00e7\u00e3o\u2022 [ N ] N\u00e3o confirmar a opera\u00e7\u00e3o NumeroControle 06 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede 12 N NSU da Rede Autorizadora (n\u00famero seq\u00fcencial \u00fanico retornado pela rede que aprovou a venda) MensagemOperador 64 P Mensagem retornada pelo D-TEF indicando o motivo da recusa da transa\u00e7\u00e3o. Deve ser apresentada ao operador quando a transa\u00e7\u00e3o for rejeitada 02 I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>Obs.: todos campos que cont\u00e9m diversos par\u00e2metros devem ser passados conforme seus respectivos tamanhos. Os campos num\u00e9ricos devem vir com zeros \u00e0 esquerda (sem ponto ou v\u00edrgula), enquanto que os alfanum\u00e9ricos devem vir com espa\u00e7os \u00e0 direita.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Apresentar ao usu\u00e1rio o conte\u00fado do campo MotivoRejeicao (retornado pela operadora). No campo MensagemOperador cont\u00e9m a mensagem retornada pelo D-TEF.</p> <p>Observa\u00e7\u00e3o : Para cada conjunto de chamadas as fun\u00e7\u00f5es de TeleMarketing ( ConsultaParametrosPBM_TeleMarketing , ConsultaProdutosPBM_TeleMarketing, TransacaoVendaPBM_TeleMarketing, TransacaoAberturaVendaPBM_Telemarketing, TransacaoVendaProdutoPBM_TeleMarketing, TransacaoFechamentoVendaPBM_TeleMarketing ) deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o D-TEF possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o para transa\u00e7\u00f5es de pr\u00e9-venda SevenPDV : a autoriza\u00e7\u00e3o das redes tratadas pela PBM SevenPDV deve seguir o seguinte fluxo de chamadas de fun\u00e7\u00f5es:</p> <p>TransacaoAberturaVendaPBM_TeleMarketing : fun\u00e7\u00e3o para abrir a venda. Se no retorno a fun\u00e7\u00e3o indicar que devem ser pedidos dados complementares, dever\u00e1 ser analisado o campo de retorno pInfoDadosComplementares para buscar a defini\u00e7\u00e3o dos campos a serem coletados. A seguir, a fun\u00e7\u00e3o TransacaoAberturaVendaPBM_TeleMarketing dever\u00e1 ser chamada novamente com a informa\u00e7\u00e3o dos dados complementares. Caso a tela de coleta dos dados complementares do portador for exibida mas o operador n\u00e3o entrou com os dados, a palavra VAZIO dever\u00e1 ser informada no campo pDadosComplementares .</p> <p>TransacaoVendaProdutoPBM_TeleMarketing : transa\u00e7\u00e3o para incluir o produto na autoriza\u00e7\u00e3o que est\u00e1 sendo feita simultaneamente \u00e0 venda. Na estrutura do medicamento, dever\u00e3o ser informados os campos Codigo , PrecoMaxConsumidor , PrecoUnitarioVendaCons , QuantidadeAutorizada e TipoEmbalagem. Os campos retornados na estrutura de medicamento s\u00e3o retornados os campos QuantidadeAutorizada , PrecoMaxConsumidor , PrecoUnitarioVendaCons , PrecoRepasseVarejo , Desconto e MotivoRejeicao.</p> <p>TransacaoFechamentoVendaPBM_TeleMarketing : fun\u00e7\u00e3o para finalizar a venda PBM. Se a venda foi finalizada com sucesso, dever\u00e1 passar o par\u00e2metro pConfirma\u00e7ao com o valor \"S\". Neste caso, ao final da execu\u00e7\u00e3o da fun\u00e7\u00e3o ser\u00e1 disponibilizado o comprovante da opera\u00e7\u00e3o para ser impresso. Se a venda n\u00e3o deve ser finalizada, passar no par\u00e2metro o valor \"N\".</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-cheque","title":"Transa\u00e7\u00e3o Cheque","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCheque(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle,\nchar *pQuantidadeCheques, char *pPeriodicidadeCheques, char *pDataPrimeiroCheque, char *pCarenciaPrimeiroCheque)\n</code></pre> <p>A solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cheque \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCheque , com a passagem dos seguintes par\u00e2metros opcionais:</p> <p>QuantidadeCheques</p> <p>PeriodicidadeCheques</p> <p>DataPrimeiroCheque</p> <p>CarenciaPrimeiroCheque</p> <p>Se for retornado um comprovante a ser impresso, a confirma\u00e7\u00e3o e a finaliza\u00e7\u00e3o da transa\u00e7\u00e3o ser\u00e3o necess\u00e1rias. Para saber se um comprovante foi retornado, ap\u00f3s a execu\u00e7\u00e3o com sucesso da fun\u00e7\u00e3o dever\u00e1 ser pesquisado no diret\u00f3rio de libera\u00e7\u00e3o de cupons o arquivo correspondente ao n\u00famero de controle retornado na fun\u00e7\u00e3o.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o PeriodicidadeCheques 03N Periodicidade, em dias, entre os cheques. [ 000 ] indica periodicidade vari\u00e1vel (livre) a ser coletada. DataPrimeiroCheque 08N Data do dep\u00f3sito do primeiro cheque, no formato &lt;ddmmaaaa&gt; CarenciaPrimeiroCheque 03N Car\u00eancia, em dias, para o dep\u00f3sito do primeiro cheque 02I [ 00 ] Transa\u00e7\u00e3o autorizada [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o e que os cheques envolvidos foram impressos com sucesso.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#cheque-completa","title":"Cheque Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoChequeCompleta(char *pValorTransacao, char *pNumeroCupomVenda, char *pNumeroControle, char *pQuantidadeCheques, char *pPeriodicidadeCheques, char *pDataPrimeiroCheque, char *pCarenciaPrimeiroCheque, char *pTipoDocumento, char *pNumeroDocumento, char *pQuantidadeCheques, char *pSequenciaCheque, char *pCamaraCompensacao, char *pNumeroBanco, char *pNumeroAgencia, char *pNumeroContaCorrente, char *pNumeroCheque, char *pDataDeposito, char *pValorCheque, char *pDataNascimentoCliente, char *pTelefoneCliente, char *pCMC7, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cheque, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cheque completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoChequeCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>QuantidadeCheques</p> <p>PeriodicidadeCheques</p> <p>DataPrimeiroCheque</p> <p>CarenciaPrimeiroCheque</p> <p>TipoDocumento</p> <p>NumeroDocumento</p> <p>QuantidadeCheques</p> <p>SequenciaCheque</p> <p>CamaraCompensacao</p> <p>NumeroBanco</p> <p>NumeroAgencia</p> <p>NumeroContaCorrente</p> <p>NumeroCheque</p> <p>DataDeposito</p> <p>ValorCheque</p> <p>DataNascimentoCliente</p> <p>TelefoneCliente</p> <p>CMC7</p> <p>PermiteAlteracao</p> <p>Reservado</p> <p>Se for retornado um comprovante a ser impresso, a confirma\u00e7\u00e3o e a finaliza\u00e7\u00e3o da transa\u00e7\u00e3o ser\u00e3o necess\u00e1rias. Para saber se um comprovante foi retornado, ap\u00f3s a execu\u00e7\u00e3o com sucesso da fun\u00e7\u00e3o dever\u00e1 ser pesquisado no diret\u00f3rio de libera\u00e7\u00e3o de cupons o arquivo correspondente ao n\u00famero de controle retornado na fun\u00e7\u00e3o.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o PeriodicidadeCheques 03N Periodicidade, em dias, entre os cheques. O valor [ 000 ] indica periodicidade vari\u00e1vel (livre) a ser coletada. DataPrimeiroCheque 08N Data do dep\u00f3sito do primeiro cheque, no formato &lt;ddmmaaaa&gt; CarenciaPrimeiroCheque 03N Car\u00eancia, em dias, para o dep\u00f3sito do primeiro cheque TipoDocumento 01N \u2022 [ 1 ] CPF\u2022 [ 2 ] CNPJ NumeroDocumento 14N CPF ou CNPJ QuantidadeCheques 02N Quantidade de cheques da transa\u00e7\u00e3o ( obrigat\u00f3rio para consulta de m\u00faltiplos cheques ) SequenciaCheque 02N N\u00famero de seq\u00fc\u00eancia do cheque ( obrigat\u00f3rio para consulta de m\u00faltiplos cheques ) CamaraCompensacao 03N C\u00e2mara de compensa\u00e7\u00e3o NumeroBanco 03N N\u00famero do banco NumeroAgencia 04N N\u00famero da agencia NumeroContaCorrente 10N N\u00famero da conta-corrente NumeroCheque 07N N\u00famero do cheque com D\u00edgito verificador DataDeposito 08N &lt;ddmmaaaa&gt; ValorCheque 12N 10 inteiros, 2 decimais DataNascimentoCliente 08N &lt;ddmmaaaa&gt; TelefoneCliente 12A Telefone somente com caracteres num\u00e9ricos CMC7 50A Conte\u00fado da trilha CMC-7 PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o Permite alterar valores informados Reservado 51A [ Especifica\u00e7\u00e3o ] [ 01..01 ] Reservado [ 02..13 ] Valor m\u00e1ximo permitido para a transa\u00e7\u00e3o [ 14..14 ] [ S ] Consultar Cheque [ N ] N\u00e3o consultar [ 15..15 ] D\u00edgito C1 do cheque coletado [ 16..16 ] D\u00edgito C2 do cheque coletado [ 17..17 ] D\u00edgito C3 do cheque coletado [ 18..23 ] Cliente Desde, no formato 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o e que os cheques envolvidos foram impressos com sucesso.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Habilitando a Consulta de M\u00faltiplos Cheques</p> <p>Para realizar a consulta de m\u00faltiplos cheques em uma mesma transa\u00e7\u00e3o com a rede verificadora, \u00e9 necess\u00e1rio que o D-POS esteja parametrizado para efetuar tal procedimento. Esta parametriza\u00e7\u00e3o deve ser realizada no D-TEF e \u00e9 armazenado no arquivo CHEQUE.TEF. Este arquivo dever\u00e1 ser copiado para o diret\u00f3rio do D-POS. Al\u00e9m disso, s\u00f3 \u00e9 permitido a consulta de m\u00faltiplos cheques para cheques da mesma conta. Se for realizado recebimentos de cheque de contas diferentes, ser\u00e1 enviado para a rede uma transa\u00e7\u00e3o de consulta para cada cheque, independente da parametriza\u00e7\u00e3o definida.</p> <p>Este tipo de consulta \u00e9 v\u00e1lido somente quando o automa\u00e7\u00e3o comercial realiza a consulta atrav\u00e9s da chamada da fun\u00e7\u00e3o TransacaoChequeCompleta informando os campos referentes \u00e0 seq\u00fc\u00eancia e a quantidade de cheques. A consulta do(s) cheque(s) ser\u00e1 enviada ao D-TEF ap\u00f3s a coleta do \u00faltimo cheque (campo pSequenciaCheque igual ao campo pQuantidadeCheques ). Para isto, o automa\u00e7\u00e3o comercial dever\u00e1 realizar uma chamada da fun\u00e7\u00e3o TransacaoChequeCompleta para cada cheque a ser processado, acumulando o campo pSequenciaCheque at\u00e9 atingir a quantidade de cheques informado (campo pQuantidadeCheques ).</p> <p>Observa\u00e7\u00e3o : a consulta de m\u00faltiplos cheques est\u00e1 limitado em 24 cheques na mesma transa\u00e7\u00e3o de consulta com a rede.</p> <p>Importante : esta funcionalidade depende da institui\u00e7\u00e3o verificadora cadastrada. Nem todas possuem este recurso. Portanto, deve-se consultar a rede se h\u00e1 disponibilidade deste servi\u00e7o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consultando-cheques-garantidos","title":"Consultando Cheques Garantidos","text":"<pre><code>int DIRETIVA_CALLBACK ConsultaChequesGarantidos(char *pTipoDocumento, char *pNumeroDocumento, char *pDataInicialConsulta, char *pDataFinalConsulta, char *pNumeroControle)\n</code></pre> <p>Para realizar a consulta dos cheques que foram garantidos pela rede autorizadora, deve-se realizar chamada \u00e0 fun\u00e7\u00e3o ConsultaChequesGarantidos . Esta fun\u00e7\u00e3o s\u00f3 est\u00e1 dispon\u00edvel caso a garantia de cheques esteja habilitada. Esta parametriza\u00e7\u00e3o deve ser realizada no D-TEF e \u00e9 armazenado no arquivo CHEQUE.TEF. Este arquivo dever\u00e1 ser copiado para o diret\u00f3rio do D-POS. A seguir, est\u00e3o detalhados os par\u00e2metros utilizados na chamada da fun\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o TipoDocumento 01N \u2022 [ 1 ] CPF\u2022 [ 2 ] CNPJ NumeroDocumento 14N CPF ou CNPJ NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) DataInicialConsulta 08N DDMMAAAA DataFinalConsulta 08N DDMMAAAA 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#especificacao-solicita-funcoes","title":"Especifica\u00e7\u00e3o Solicita Fun\u00e7\u00f5es","text":"<p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoCartao 01N Indica o tipo de cart\u00e3o que deseja consultar o saldo [ 1 ] Cr\u00e9dito [ 2 ] D\u00e9bito [ 3 ] Private [ 4 ] CPF (1) [ 5 ] CNPJ (\u00b9) TipoTransacao 01N \u2022 [ 0 ] Consulta Saque [ 1 ] Saque TipoOperacao 01N \u2022 [ 1 ] Nacional [ 2 ] Internacional DocEmissor 11A N\u00famero do Documento do Destinat\u00e1rio (CPF ou passaporte) DocDestinatario 11A N\u00famero do Documento do Destinat\u00e1rio (CPF ou passaporte) CodigoPIN 11A N\u00famero do Documento recebido via SMS PlanoPagamento 03N C\u00f3digo do plano de pagamento NumeroParcelas 02N N\u00famero de parcelas PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o \u2013 TransacaoCancelamentoPagamento ]\u2022 [ 1..1 ] Valor\u2022 - [ 0 ] indica cancelamento de pagamento feito com Cart\u00e3o;\u2022 - [ 1 ] indica cancelamento de pagamento feito com Crach\u00e1;\u2022 - [ 2 ] indica cancelamento de pagamento d\u00e9bito Wappa;\u2022 - [ 3 ] indica cancelamento de pagamento feito com cart\u00e3o Qualidade\u2022 - [ 4 ] indica cancelamento de pagamento feito com cart\u00e3o MettaCard\u2022 - [ 5 ] indica cancelamento de pagamento feito com cart\u00e3o Ecopag\u2022 - [ Q ] indica cancelamento de pagamento feito com QR Code\u2022 [ 2..9 ] Data da transa\u00e7\u00e3o a ser cancelada, no formato AAAAMMDD\u2022 [ Especifica\u00e7\u00e3o do Retorno ]\u2022 C\u00f3digo poss\u00edveis :\u2022 [ 01 ] Dados Venda Crach\u00e1\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto[Especifica\u00e7\u00e3o dos Dados \u2013 Opera\u00e7\u00e3o Saque]\u2022 [ 01 ] N\u00famero da Rede Autorizadora[ Especifica\u00e7\u00e3o dos Dados \u2013 Opera\u00e7\u00e3o Consulta Saldo ][ 01..01 ]Indicador de consulta com crach\u00e1\u2022 - [0] para consulta norma\u2022 - [1] para consulta com crach\u00e1\u2022 [ 02..15 ] CPF ou CNPJ do cliente (espa\u00e7os a direita se CPF) 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada Planos 1..999A [ Especifica\u00e7\u00e3o dos Dados \u2013 Consulta Planos ]\u2022 [ 01..008 ] Data Nascimento Portador do Cart\u00e3o(DDMMAAAA)\u2022 [ 09..058 ] NomePortador do Cart\u00e3o\u2022 [ 59..059 ] Fixo P-indicador de Consulta de Planos\u2022 [ 60..999 ] Planos (para cada c\u00f3digo de processamento o bloco abaixo se repetira)\u2022 [ N06 ] CodigoProcessamento\u2022 [ N05 ] DataPrimeiraParcela(AADDD ** )\u2022 [ N01 ] FlagJuros\u2022 [ N01 ] FlagPulaCicloOs campos descritos abaixo podem repetir para demonstrar a quantidade de parcelas do tipo de plano:\u2022 [ N02 ] NumeroDaParcela\u2022 [ N08 ] ValorPrimeiraParcela\u2022 [ N08 ] ValorDemaisParcelas\u2022 [ N05 ] TaxaJuros\u2022 [ N05 ] CETAnual\u2022 [ N01 ] \u201c;\u201d(FinalizadorDeCodigoProcessamento) <p>** quantidade de dias do ano informado at\u00e9 a data atual</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#funcoes-para-vale-gas","title":"Fun\u00e7\u00f5es para Vale G\u00e1s","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#transacao-vale-gas","title":"Transa\u00e7\u00e3o Vale G\u00e1s","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#consulta-tabelas-vale-gas","title":"Consulta Tabelas Vale G\u00e1s","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/OutrasTransacoes/#cancelamento-padrao","title":"Cancelamento Padr\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/PagamentoDeContasCielo/","title":"Pagamento de Contas (CIELO)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/PagamentoDeContasCielo/#pagamento-contas-cielo","title":"Pagamento Contas Cielo","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/","title":"Recarga de Celular","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#consulta-valores-prepago","title":"Consulta Valores PrePago","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/RecargaDeCelular/#recarga-celular","title":"Recarga Celular","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/TransacoesEspecificas/","title":"Transa\u00e7\u00f5es Espec\u00edficas (Redecard/Cielo/Banrisul/GetNet)","text":""},{"location":"pages/MetodosAPIDesktop/DemaisTransacoes/TransacoesEspecificas/#funcoes-especificas-especificacao-redecardcielobanrisulgetnet","title":"Fun\u00e7\u00f5es Espec\u00edficas (Espec\u00edfica\u00e7\u00e3o Redecard/Cielo/Banrisul/GetNet)","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoIATA(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSaqueRedecard(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK EstornoPreAutorizacaoRedecard(char *pValorTransacao, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSimulacaoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPagamentoPrivateLabel(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCompraSaqueCompleta(char *pValorCompra, char *pValorSaque, char *pNumeroCupom, char *pNumeroControle, char *pPermiteAlteracao)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCDC1MIN(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoSIMparcelado(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK IdentificacaoAutomacaoComercial(char *pNomeAutomacao, char *pVersaoAutomacao, char *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoInjecaoChaves(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAcrescimoPreAutorizacao(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConsultaPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Estorno de Pr\u00e9-Autoriza\u00e7\u00e3o de pagamento com Cart\u00e3o de Cr\u00e9dito, de Saque, de Pagamento com Cart\u00e3o de Cr\u00e9dito IATA e Cart\u00e3o Private Label s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es EstornoPreAutorizacaoRedecard , TransacaoSaqueRedecard , TransacaoCartaoCreditoIATA, TransacaoCartaoPrivateLabel , TransacaoCartaoCompraSaque, TransacaoCDC1MIN e TransacaoSIMparcelado.</p> <p>O NumeroControle , inclu\u00eddo na resposta, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de confirma\u00e7\u00e3o este n\u00famero ser\u00e1, obrigatoriamente, utilizado, tanto nas fun\u00e7\u00f5es de pagamento como na de Saque e Estorno.</p> <p>As fun\u00e7\u00f5es de Estorno e Saque devem ser disponibilizadas via \"menu\", ou seja, o PDV n\u00e3o pode estar efetuando uma venda (assim como as fun\u00e7\u00f5es de cancelamento de pagamento e reimpress\u00e3o). J\u00e1 as fun\u00e7\u00f5es de pagamento (Cart\u00e3o Cr\u00e9dito IATA e Private Label) devem estar disponibilizadas como formas de pagamento do PDV.</p> <p>As fun\u00e7\u00f5es TransacaoCDC1MIN e TransacaoSIMparcelado s\u00e3o espec\u00edficas da rede Banrisul.</p> <p>O PDV dever\u00e1 realizar, respectivamente, chamada \u00e0s fun\u00e7\u00f5es IdentificacaoAutomacaoComercial e TransacaoEstatistica toda a vez que for inicializado.</p> <p>A fun\u00e7\u00e3o TransacaoPagamentoPrivateLabel \u00e9 a transa\u00e7\u00e3o dispon\u00edvel para efetuar o pagamento de fatura de cart\u00f5es private.</p> <p>A fun\u00e7\u00e3o de Inje\u00e7\u00e3o de Chaves poder ser chamada ou executada automaticamente (no caso de executar uma transa\u00e7\u00e3o com a Redecard e existir chave DUKPT na tabela de criptografia da Redecard e o pinpad n\u00e3o possuir esta chave carregada).</p> <p>A fun\u00e7\u00e3o TransacaoAcrescimoPreAutorizacao realiza acr\u00e9scimo de valor na Pr\u00e9-Autoriza\u00e7\u00e3o (ou seja, altera\u00e7\u00e3o de valor em uma pr\u00e9-autoriza\u00e7\u00e3o existente, na qual se deseja aumentar seu valor) pode ser executada com a fun\u00e7\u00e3o TransacaoAcrescimoPreAutorizacao.</p> <p>Uma consulta de Pr\u00e9-Autoriza\u00e7\u00f5es pode ser executada com a fun\u00e7\u00e3o TransacaoConsultaPreAutorizacao.</p> <p>A defini\u00e7\u00e3o das campos das fun\u00e7\u00f5es est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N \u2022 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) NomeAutomacao 20A Identifica\u00e7\u00e3o da automa\u00e7\u00e3o comercial VersaoAutomacao 20A Vers\u00e3o da automa\u00e7\u00e3o comercial Reservado 256A Capacidades da automa\u00e7\u00e3o comercial:\u2022 [1..1] Tratamento plataforma promocional Cielo\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 preparada para tratar a plataforma promocional Cielo\u2022 [1]: automa\u00e7\u00e3o est\u00e1 preparada para tratar plataforma promocional Cielo\u2022 [2..2] Tratamento QR Code\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 preparada para transa\u00e7\u00e3o de QR Code\u2022 [1]: automa\u00e7\u00e3o est\u00e1 preparada para transa\u00e7\u00e3o QR Code\u2022 [3..3] Tratamento QR Code no cancelamento\u2022 [0]: automa\u00e7\u00e3o n\u00e3o est\u00e1 informando se o cancelamento pode ser com QR Code\u2022 [1]: automa\u00e7\u00e3o est\u00e1 indicando que o cancelamento \u00e9 de QR Code 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Quanto \u00e0 estrutura dos logs de retorno, cada transa\u00e7\u00e3o possui estrutura diferente:</p> <p>EstornoPreAutorizacaoRedecard : id\u00eantica ao layout de cancelamento de pagamento.</p> <p>TransacaoSaqueRedecard : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>TransacaoCartaoCreditoIATA : id\u00eantica ao layout de pagamento com cart\u00e3o de cr\u00e9dito.</p> <p>TransacaoCartaoPrivateLabel : layout do log do Cart\u00e3o Private Label.</p> <p>TransacaoCartaoCompraSaque : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>TransacaoCartaoCompraSaqueCompleta : n\u00e3o gera log de transa\u00e7\u00e3o.</p> <p>Fun\u00e7\u00f5es de Venda PBM ( Pharmacy Benefit Management )</p> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM(char *pNumeroCupom, char *pQuantidadeRedes,\nchar *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM(char *pNumeroCupom, char *pRedePBM, char *pTrilha1,\nchar *pTrilha2, char *pDigitado, char *pAutorizacao,\nchar *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos,\nchar *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\nchar *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM(char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao, char *pNSUConsulta, char *pDadosCRM, char *pTipoVenda,\nchar *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\nchar *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos,\nchar *pReservado, char *pNumeroControle, char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConfirmaVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoVendaPBM()\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM(char *pNumeroCupom, char *pRedePBM, char *pMatricula,\nchar *pDadosElegibilidade, char *pNumeroControle, char *pNumeroControleRede, char *pNomeCliente,\nchar *pNomeMedico, char *pInformaDependente, char *pListaDependentes, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM(char *pNumeroCupom, char *pRedePBM, char *pAutorizacaoElegibilidade, char *pDadosFarmaceutico,\nchar *pQuantidadeMedicamentos, char *pMedicamentos, char *pNumeroControle, char *pNumeroControleRede, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaParametrosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV,\nchar *pNumeroCupom, char *pQuantidadeRedes, char *pDadosRedes, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK ConsultaProdutosPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pAutorizacao,\nchar *pDadosCRM, char *pTipoVenda, char *pValorTotalMedicamentos, char *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\nchar *pQuantidadeMedicamentos, char *pMedicamentos,\nchar *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pValorTotalMedicamentos, char *pNumeroCupom, char *pRedePBM, char *pTrilha1, char *pTrilha2,\nchar *pDigitado, char *pAutorizacao, char *pNSUConsulta,\nchar *pDadosCRM, char *pTipoVenda, char *pValorVista, char *pValorCartao, char *pCodigoCredenciado,\nchar *pRegraNegocio, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pReservado, char *pNumeroControle, char *pNumeroControleRede, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pReservado, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoAberturaVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pReservado, char *pPedirDadosComplementares, char *pDadosComplementares, char *pInfoDadosComplementares, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoVendaProdutoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pMedicamento, char *pReservado, char *pPedirDadosComplementares, char *pDadosComplementares, char *pInfoDadosComplementares, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoFechamentoVendaPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pRedePBM, char *pTrilha1, char *pTrilha2, char *pDigitado, char *pConfirmacao, char *pReservado,\nchar *pAutorizacao, char *pNumeroControle, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoElegibilidadePBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV,\nchar *pNumeroCupom, char *pRedePBM, char *pMatricula, char *pDadosElegibilidade, char *pNumeroControle, char *pNumeroControleRede, char *pNomeCliente, char *pNomeMedico, char *pInformaDependente, char *pListaDependentes, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa, char *pMultiLoja,\nchar *pNumeroLoja, char *pNumeroPDV, char *pNumeroCupom, char *pRedePBM, char *pAutorizacaoElegibilidade, char *pDadosFarmaceutico, char *pQuantidadeMedicamentos, char *pMedicamentos, char *pNumeroControle, char *pNumeroControleRede, char *pReservado, char *pMensagemOperador)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPreAutorizacaoPBM_TeleMarketing(char *pNumeroEmpresa,\nchar *pMultiLoja, char *pNumeroLoja, char *pNumeroPDV, char *pMatricula, char *pReservado, char *pNumeroControle,\nchar *pMensagemOperador)\n</code></pre> <p>As transa\u00e7\u00f5es com a rede \"PBM Funcional\", onde retorna os par\u00e2metros da rede \"DadosRedes=[49000PBM Funcional SS ]\", significa que a mesma necessita do \"C\u00f3digo de Autoriza\u00e7\u00e3o\u201d\" e \"N\u00famero do Cart\u00e3o\", conforme estrutura retornado neste par\u00e2metro.</p> <p>Ainda sobre a rede \u201cPBM Funcional\u201d, referente ao \"N\u00famero do Cart\u00e3o\", o mesmo deve ser solicitado ao operador \"campo com 17 d\u00edgitos\", e enviado no par\u00e2metro \" pTrilha2 \" contendo somente os 17 d\u00edgitos coletados pelo operador.</p> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Consulta das Redes Parametrizadas, de Consulta de Produtos, Transa\u00e7\u00e3o de Venda PBM, Confirma\u00e7\u00e3o de Venda PBM, Reimpress\u00e3o de Venda PBM e Cancelamento de Venda PBM s\u00e3o realizadas atrav\u00e9s das chamadas \u00e0s fun\u00e7\u00f5es ConsultaParametrosPBM , ConsultaProdutosPBM , TransacaoVendaPBM , ConfirmaVendaPBM , TransacaoReimpressaoVendaPBM e TransacaoCancelamentoVendaPBM.</p> <p>O NumeroControle , inclu\u00eddo na resposta da fun\u00e7\u00e3o de consulta de produtos, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o, pois na fun\u00e7\u00e3o de venda este n\u00famero dever\u00e1 obrigatoriamente, ser utilizado, para informar o n\u00famero da consulta em que os produtos foram obtidos. No caso do NumeroControle obtido no retorno da fun\u00e7\u00e3o de venda, dever\u00e1 ser armazenado pelo sistema de automa\u00e7\u00e3o para efetivar a confirma\u00e7\u00e3o da venda.</p> <p>Ap\u00f3s a impress\u00e3o do comprovante pela automa\u00e7\u00e3o comercial, sendo esta com sucesso, deve-se realizar a confirma\u00e7\u00e3o da transa\u00e7\u00e3o atrav\u00e9s da fun\u00e7\u00e3o ConfirmaVendaPBM informando o n\u00famero do NSU da transa\u00e7\u00e3o que deseja confirmar. Em seguida, para encerrar a opera\u00e7\u00e3o deve ser chamada a fun\u00e7\u00e3o FinalizaTransacao (ver item 3.1.3.11).</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoReimpressaoVendaPBM poder\u00e1 ser reimpresso o comprovante da \u00faltima venda PBM emitida com sucesso. Caso a fun\u00e7\u00e3o seja executada com sucesso, o arquivo ULTIMOPBM.PRN ser\u00e1 disponibilizado no diret\u00f3rio parametrizado para os cupons.</p> <p>As fun\u00e7\u00f5es de Consulta de Par\u00e2metros e Consulta de Produtos devem ser acionadas antes de iniciar-se uma venda, pois ao efetuar a venda o operador dever\u00e1 optar por utilizar um produto da rede selecionada ou por um produto da pr\u00f3pria loja. Esta \u201csele\u00e7\u00e3o\u201d \u00e9 importante para determinar se o sistema de automa\u00e7\u00e3o comercial dever\u00e1 chamar a fun\u00e7\u00e3o de venda PBM ou n\u00e3o. No caso de efetuar uma venda PBM, todos os par\u00e2metros obtidos atrav\u00e9s da fun\u00e7\u00e3o de consulta PBM dever\u00e3o ser passados na fun\u00e7\u00e3o de venda, de acordo com a quantidade vendida. Estes dados dever\u00e3o estar coerentes com os dados da consulta, caso contr\u00e1rio, a venda corre o risco de n\u00e3o ser aprovada pela rede PBM selecionada.</p> <p>Atrav\u00e9s da fun\u00e7\u00e3o TransacaoCancelamentoVendaPBM pode-se efetuar o cancelamento de uma venda PBM. O NumeroControle da venda a ser cancelada deve ser informado. Al\u00e9m disso, se a rede PBM exigir, poder\u00e1 ser necess\u00e1rio a leitura do cart\u00e3o do benefici\u00e1rio para efetuar o cancelamento.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> <p>Continua na p\u00e1gina 43/33</p> Campo Tamanho Descri\u00e7\u00e3o MultiLoja 01 P 01 Caracter [\u2018S\u2019,\u2019N\u2019] NumeroEmpresa 04 P 04 inteiros NumeroLoja 04 P 04 inteiros NumeroPDV 03 P 03 inteiros [001\u2026356] InfoDadosComplementares 64 A Informa\u00e7\u00e3o de coleta de campos opcionais da tela de abertura de venda PBM. Os par\u00e2metros dos 2 campos t\u00eam o seguinte formato:\u2022 TAAMMXX...XXTAAMMXX...XX\u2022 T : tipo do campo - N (num\u00e9rico), A (alfanum\u00e9rico) ou F (op\u00e7\u00e3o sim ou n\u00e3o - Y/N)\u2022 AA : tamanho m\u00ednimo do campo (1 at\u00e9 50)\u2022 MM : tamanho m\u00e1ximo do campo (1 at\u00e9 50)\u2022 X : nome do campo para apresenta\u00e7\u00e3o na tela (at\u00e9 20 bytes)Os dois campos s\u00e3o opcionais. Se nenhum campo estiver preenchido, n\u00e3o haver\u00e1 a coleta. Exemplo:\u2022 N0808CEP N1111CPF DO PORTADOR\u2022 Neste exemplo, haver\u00e1 a captura de 2 campos, sendo que o primeiro \u00e9 o CEP com 8 d\u00edgitos (N=num\u00e9rico) e o segundo o CPF com 11 d\u00edgitos. DadosComplementares 128A Dados complementares coletados conforme os campos da estrutura InfoDadosComplementares . No exemplo acima, os dados poderiam ficar:\u2022 08999999991199999999999, isto \u00e9, CEP 99999999 com 8 d\u00edgitos e CPF 99999999999 com 11 d\u00edgitos. PedirDadosComplementares 01 A Se a fun\u00e7\u00e3o retornar erro, analisar este campo para verificar se \u00e9 necess\u00e1rio coletar os dados complementares e chamar novamente a fun\u00e7\u00e3o.\u2022 [ S ] Coletar dados complementares\u2022 [ N ] N\u00e3o coletar dados complementares ValorTotalMedicamentos 12N Valor total dos medicamentos do cupom na venda ou valor total dos medicamentos retornados na consulta NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) QuantidadeRedes 02N Quantidade de redes cadastradas DadosRedesFormato:Numero[05]Nome[20]ColetaCartao[01]ColetaAutorizacao[01]Filler[13] 560P Par\u00e2metro que retorna os dados das redes cadastradas. Os campos ColetaCartao e ColetaAutorizacao indicam qual informa\u00e7\u00e3o deve ser coletada pelo sistema de automa\u00e7\u00e3o comercial. Podem ser retornados at\u00e9 14 redes no formato especificado Especifica\u00e7\u00e3o de alguns campos :Campo ColetaCartao = \u2022 [ S ] Coletar cart\u00e3o\u2022 [ N ] N\u00e3o coletar cart\u00e3oCampo ColetaAutorizacao =\u2022 [ S ] Coletar n\u00famero de autoriza\u00e7\u00e3o\u2022 [ N ] N\u00e3o coletar n\u00famero de autoriza\u00e7\u00e3o RedePBM 05N C\u00f3digo da rede PBM selecionada Trilha1 76A Trilha1 do cart\u00e3o Trilha2 37A Trilha2 do cart\u00e3o Digitado 01N \u2022 [ 0 ] Indica que a trilha2 do cart\u00e3o foi obtido atrav\u00e9s de leitura em pinpad criptografado\u2022 [ 1 ] Indica que a trilha2 do cart\u00e3o foi digitado Autoriza\u00e7\u00e3o 12N N\u00famero da autoriza\u00e7\u00e3o coletado pelo sistema de automa\u00e7\u00e3o NSUConsulta 06N N\u00famero de controle obtido na consulta de produtos DadosCRMFormato:CRM[12]UF_CRM[02] 14P Dados de identifica\u00e7\u00e3o do CRM consultado DadosElegibilidadeFormato:CodigoOperadorVita[09]PlanoSaude[06]NumeroDependente[02]TipoProfissional[01]UF_CRM_CRO[02]NumeroCRM_CRO[09]DataReceita[06]DescontoEmFolha[01] 30P Deve ser coletado pelo sistema de automa\u00e7\u00e3o os dados da estrutura.Especifica\u00e7\u00e3o de alguns campos :\u2022 Campo CodigoOperadorVita =\u2022 Campo PlanoSaude = C\u00f3digo do plano de sa\u00fade\u2022 Campo TipoProfissional = [ 0 ] CRM [ 1 ] CRO\u2022 Campo DescontoEmFolha = [ S ] Sim [ N ] N\u00e3o NomeCliente 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM NomeMedico 40P Retornado pela fun\u00e7\u00e3o TransacaoElegibilidadePBM InformaDependente 01P \u2022 [ S ]Sim [ N ]N\u00e3oImportante : se a fun\u00e7\u00e3o retornar status 11, verificar se foi retornado \u201cS\u201d neste par\u00e2metro. Neste caso, chamar a fun\u00e7\u00e3o novamente informando o n\u00famero do dependente na estrutura do par\u00e2metro DadosElegibilidade ListaDependentesFormato:N\u00famero do dependente[02]Nome do dependente[40] 504P Lista de at\u00e9 12 registros AutorizacaoElegibilidade 12P Deve ser informado a Autoriza\u00e7\u00e3o retornada na transa\u00e7\u00e3o de elegibilidade DadosFarmaceuticoFormato:UF_CRF[02]NumeroCRF[12] 14P TipoVenda 01N \u2022 [ 0 ]Vista [ 1 ] Cart\u00e3o ValorVista 12N Valor a pagar \u00e0 vista para consulta e valor pago \u00e0 vista para a fun\u00e7\u00e3o de venda ValorCart\u00e3o 12N Valor a pagar com cart\u00e3o para consulta e valor pago com cart\u00e3o para a fun\u00e7\u00e3o de venda CodigoCredenciado 15N C\u00f3digo do credenciado RegraNegocio 08N C\u00f3digo da regra de neg\u00f3cio (ePharma) QuantidadeMedicamentos 02N Quantidade de medicamentos retornados no campoMedicamentos para a fun\u00e7\u00e3o de consulta e quantidade de medicamentos vendidos para a fun\u00e7\u00e3o de venda MedicamentosFormato:DataReceita[08]IDCRM_CRO[01]CRM[12]UF_CRM[02]TipoMedicamento[02]C\u00f3digo[13]Descri\u00e7\u00e3o[15]CondicaoVenda[01]PrecoMaxConsumidor[08]PrecoFabricaUnitario[08]PrecoUnitarioVendaCons[08]PrecoAquisicaoUnitario[08]PrecoRepasseVarejo[08]MotivoRejeicao[02]QtdReceitada[04]QtdAutorizadaSolicitada[04]Referencia[02]IndicadorVenda[01]TipoEmbalagem[01]Desconto[05]Controle[10]Reembolso[08]Comiss\u00e3o[05]UsoContinuo[01]Filler[05] *P Dados dos medicamentos fornecidos para o sistema de automa\u00e7\u00e3o na fun\u00e7\u00e3o de consulta e dados dos medicamentos vendidos da rede selecionada para a fun\u00e7\u00e3o de venda. Podem ser retornados (pela fun\u00e7\u00e3o de consulta) ou informados (para a fun\u00e7\u00e3o de venda) at\u00e9 o n\u00famero de medicamentos informado no campo QuantidadeMedicamentos.\u2022 * o tamanho deste buffer deve ser calculado da seguinte forma: QuantidadeMedicamentos * 142\u2022 142 = tamanho da estrutura de dados para um medicamentoEspecifica\u00e7\u00e3o de alguns campos :\u2022 Campo IDCRM_CRO = [ 0 ] CRM [ 1 ] CRO\u2022 Campo TipoMedicamento =\u2022 [ 01 ] Medicamento\u2022 [ 02 ] Manipula\u00e7\u00e3o\u2022 [ 03 ] Manip. Especial\u2022 [ 04 ] Perfumaria\u2022 Campo CondicaoVenda =\u2022 [ 0 ] obrigat\u00f3rio utilizar pre\u00e7o f\u00e1brica\u2022 [ 1 ] permite vender com pre\u00e7o inferior\u2022 Campo IndicadorVenda =\u2022 [ 0 ] produto venda cart\u00e3o\u2022 [ 1 ] produto venda vista\u2022 Campo TipoEmbalagem = unit\u00e1rio ou parcial\u2022 Campo Controle = campo para uso restrito\u2022 Campo UsoContinuo = [ S , N ]Observa\u00e7\u00f5es :\u2022 [ 1 ] os campos Reembolso e Comiss\u00e3o foram inclu\u00eddos poiss\u00e3o retornados pela VidaLink\u2022 [ 2 ] o campo UsoContinuo \u00e9 utilizado pela PreSaude\u2022 [ 3 ] no campo QtdAutorizadaSolicitada deve ser informado a quantidade solicitada para a PrevSaude ou quantidadeautorizada para as demais PBMs. Reservado 128P Campo reservadoTransacaoAberturaVendaPBM_TeleMarketing : esta fun\u00e7\u00e3o retornar\u00e1 neste par\u00e2metro o n\u00famero da autoriza\u00e7\u00e3o para esta transa\u00e7\u00e3o. Tamanho de 12 bytes. Confirmacao 01A Indica se a transa\u00e7\u00e3o de venda de produtos PBM deve ser confirmada ou n\u00e3o.\u2022 [ S ] Confirmar a opera\u00e7\u00e3o\u2022 [ N ] N\u00e3o confirmar a opera\u00e7\u00e3o NumeroControle 06 N NSU (n\u00famero seq\u00fcencial \u00fanico) NumeroControleRede 12 N NSU da Rede Autorizadora (n\u00famero seq\u00fcencial \u00fanico retornado pela rede que aprovou a venda) MensagemOperador 64 P Mensagem retornada pelo D-TEF indicando o motivo da recusa da transa\u00e7\u00e3o. Deve ser apresentada ao operador quando a transa\u00e7\u00e3o for rejeitada 02 I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>Obs.: todos campos que cont\u00e9m diversos par\u00e2metros devem ser passados conforme seus respectivos tamanhos. Os campos num\u00e9ricos devem vir com zeros \u00e0 esquerda (sem ponto ou v\u00edrgula), enquanto que os alfanum\u00e9ricos devem vir com espa\u00e7os \u00e0 direita.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Apresentar ao usu\u00e1rio o conte\u00fado do campo MotivoRejeicao (retornado pela operadora). No campo MensagemOperador cont\u00e9m a mensagem retornada pelo D-TEF.</p> <p>Observa\u00e7\u00e3o : Para cada conjunto de chamadas as fun\u00e7\u00f5es de TeleMarketing ( ConsultaParametrosPBM_TeleMarketing , ConsultaProdutosPBM_TeleMarketing, TransacaoVendaPBM_TeleMarketing, TransacaoAberturaVendaPBM_Telemarketing, TransacaoVendaProdutoPBM_TeleMarketing, TransacaoFechamentoVendaPBM_TeleMarketing ) deve ser informado um n\u00famero de PDV diferente (obedecendo a faixa de PDVs definida na especifica\u00e7\u00e3o dos par\u00e2metros). Isto \u00e9 necess\u00e1rio para que o D-TEF possa diferenciar as transa\u00e7\u00f5es que est\u00e3o ocorrendo simultaneamente. Um exemplo de ocorr\u00eancia desta situa\u00e7\u00e3o \u00e9 na utiliza\u00e7\u00e3o desta fun\u00e7\u00e3o atrav\u00e9s de um servidor Web, que pode ter v\u00e1rios usu\u00e1rios realizando acesso simult\u00e2neo.</p> <p>Observa\u00e7\u00e3o para transa\u00e7\u00f5es de pr\u00e9-venda SevenPDV : a autoriza\u00e7\u00e3o das redes tratadas pela PBM SevenPDV deve seguir o seguinte fluxo de chamadas de fun\u00e7\u00f5es:</p> <p>TransacaoAberturaVendaPBM_TeleMarketing : fun\u00e7\u00e3o para abrir a venda. Se no retorno a fun\u00e7\u00e3o indicar que devem ser pedidos dados complementares, dever\u00e1 ser analisado o campo de retorno pInfoDadosComplementares para buscar a defini\u00e7\u00e3o dos campos a serem coletados. A seguir, a fun\u00e7\u00e3o TransacaoAberturaVendaPBM_TeleMarketing dever\u00e1 ser chamada novamente com a informa\u00e7\u00e3o dos dados complementares. Caso a tela de coleta dos dados complementares do portador for exibida mas o operador n\u00e3o entrou com os dados, a palavra VAZIO dever\u00e1 ser informada no campo pDadosComplementares .</p> <p>TransacaoVendaProdutoPBM_TeleMarketing : transa\u00e7\u00e3o para incluir o produto na autoriza\u00e7\u00e3o que est\u00e1 sendo feita simultaneamente \u00e0 venda. Na estrutura do medicamento, dever\u00e3o ser informados os campos Codigo , PrecoMaxConsumidor , PrecoUnitarioVendaCons , QuantidadeAutorizada e TipoEmbalagem . Os campos retornados na estrutura de medicamento s\u00e3o retornados os campos QuantidadeAutorizada , PrecoMaxConsumidor , PrecoUnitarioVendaCons , PrecoRepasseVarejo , Desconto e MotivoRejeicao .</p> <p>TransacaoFechamentoVendaPBM_TeleMarketing : fun\u00e7\u00e3o para finalizar a venda PBM. Se a venda foi finalizada com sucesso, dever\u00e1 passar o par\u00e2metro pConfirma\u00e7ao com o valor \"S\". Neste caso, ao final da execu\u00e7\u00e3o da fun\u00e7\u00e3o ser\u00e1 disponibilizado o comprovante da opera\u00e7\u00e3o para ser impresso. Se a venda n\u00e3o deve ser finalizada, passar no par\u00e2metro o valor \"N\".</p> <p>Observa\u00e7\u00e3o : para transa\u00e7\u00f5es de telemarketing em ambientes com m\u00faltiplas threads simult\u00e2neas, dever\u00e1 ser utilizada a DLL DPOSDRVTM.DLL.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/","title":"Administrativas","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#reimpressao-cupom","title":"Reimpress\u00e3o Cupom","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoReimpressaoCupom()\n</code></pre> <p>As solicita\u00e7\u00f5es de transa\u00e7\u00e3o de Reimpress\u00e3o de Cupom \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoReimpressaoCupom.</p> <p>Caso a fun\u00e7\u00e3o seja executada com sucesso, ser\u00e1 disponibilizado no diret\u00f3rio parametrizado (diret\u00f3rio de cupons) um arquivo denominado ULTIMO.PRN contendo o cupom da \u00faltima transa\u00e7\u00e3o de venda efetuada com sucesso.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>O campo est\u00e1 abaixo caracterizado.</p> Campo Tamanho Descri\u00e7\u00e3o 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#funcao-para-reimpressao-completa-do-cupom","title":"Fun\u00e7\u00e3o para Reimpress\u00e3o Completa do Cupom","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Administrativas/#resumo-vendas","title":"Resumo Vendas","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoResumoVendas(char *pNumeroControle)\n</code></pre> <p>Para a transa\u00e7\u00e3o acima, pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao, assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/","title":"Cancelamento Transa\u00e7\u00e3o","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-pagamento","title":"Cancelamento Pagamento","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPagamento(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-pagamento-completa","title":"Cancelamento Pagamento Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCancelamentoPagamentoCompleta(char *pValorTransacao, char *pNumeroCupomVenda,\nchar *pNumeroControle, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>A fun\u00e7\u00e3o TransacaoCancelamentoPagamentoCompleta permite a realiza\u00e7\u00e3o do cancelamento de uma transa\u00e7\u00e3o de cart\u00e3o, com a diferen\u00e7a de permitir que o PDV informe o valor da transa\u00e7\u00e3o, n\u00famero do cupom, e se o operador pode alterar o NSU da transa\u00e7\u00e3o ou n\u00e3o. Para as transa\u00e7\u00f5es acima que necessitam de confirma\u00e7\u00e3o (Cancelamento de Pagamento, Pr\u00e9-Autoriza\u00e7\u00e3o, Consulta de Parcelas, Resumo de Vendas, Saque e Consulta Private Label), pode-se utilizar a fun\u00e7\u00e3o ConfirmaCartaoCredito . Ap\u00f3s a execu\u00e7\u00e3o desta, deve-se chamar a fun\u00e7\u00e3o FinalizaTransacao , assim como \u00e9 feito nas transa\u00e7\u00f5es de cart\u00f5es de d\u00e9bito, cr\u00e9dito e voucher.</p> <p>A fun\u00e7\u00e3o TransacaoCancelamentoPagamentoCompleta permite a realiza\u00e7\u00e3o do cancelamento de uma transa\u00e7\u00e3o de cart\u00e3o, com a diferen\u00e7a de permitir que o PDV informe o valor da transa\u00e7\u00e3o, n\u00famero do cupom, e se o operador pode alterar o NSU da transa\u00e7\u00e3o ou n\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) PermiteAlteracao 01A [ S ] Permite alterar valores informados (exceto ValorTransacao) [ N ] N\u00e3o permite alterar valores informados Reservado 158A [ Especifica\u00e7\u00e3o \u2013 TransacaoCancelamentoPagamento ]\u2022 [ 1..1 ] Valor\u2022 - [ 0 ] indica cancelamento de pagamento feito com Cart\u00e3o;\u2022 - [ 1 ] indica cancelamento de pagamento feito com Crach\u00e1;\u2022 - [ 2 ] indica cancelamento de pagamento d\u00e9bito Wappa;\u2022 - [ 3 ] indica cancelamento de pagamento feito com cart\u00e3o Qualidade\u2022 - [ 4 ] indica cancelamento de pagamento feito com cart\u00e3o MettaCard\u2022 - [ 5 ] indica cancelamento de pagamento feito com cart\u00e3o Ecopag\u2022 - [ Q ] indica cancelamento de pagamento feito com QR Code\u2022 [ 2..9 ] Data da transa\u00e7\u00e3o a ser cancelada, no formato AAAAMMDD\u2022 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CancelamentoTransacao/#cancelamento-corban","title":"Cancelamento Corban","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/","title":"Cart\u00e3o Frota","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#cartao-frota","title":"Cart\u00e3o Frota","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoFrota(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#cartao-frota-completa","title":"Cart\u00e3o Frota Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoFrotaCompleta(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pTipoProduto, char *pCodigoVeiculo, char *pCodigoCondutor, char *pQuilometragem, char *pDadosServicos, char *pPermiteAlteracao, char *pReservado)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#confirmacao-cartao-frota","title":"Confirma\u00e7\u00e3o Cart\u00e3o Frota","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoFrota(char *pNumeroControle)\n</code></pre>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/CartaoFrota/#especificacao-cartao-frota","title":"Especifica\u00e7\u00e3o Cart\u00e3o Frota","text":"<p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoProduto 01N [ 0 ] VCE [ 1 ] Pr\u00e9-Pago(MaxiFrota) [ 2 ] P\u00f3s-Pago(MaxiFrota). Deve ser informado zero '0' para as demais redes CodigoVeiculo 20N C\u00f3digo do ve\u00edculo (n\u00e3o utilizado para rede Ticket e TicketLog, informar zeros '0') CodigoCondutor 15A C\u00f3digo do condutor (3ia de 2 a 11 d\u00edgitos) Quilometragem 10N Od\u00f4metro do ve\u00edculo (Policard e 3ia m\u00e1ximo de 8 d\u00edgitos) DadosServicos*este par\u00e2metro \u00e9 limitado em 20 registros para os layouts 2 e 4 e 31 registros para os demais* os dados dos servi\u00e7os devem ser informados conforme a especifica\u00e7\u00e3o ao lado (de acordo com o tipo e tamanho especificado) Dados dos servi\u00e7os fornecidos pela automa\u00e7\u00e3o e que devem ser enviados \u00e0 rede administradora (se esta exigir). Tabelas de especifica\u00e7\u00e3o a seguir.Clique aqui para visualizar as tabelas PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 255A \u2022 [1..11] CPF\u2022 [12..20] N\u00famero da Ordem Servi\u00e7o\u2022 [21..24] Placa do ve\u00edculo. (Utilizado na rede Ticket, nas demais redes informar zeros '0').\u2022 [25..33] Hor\u00edmetro ( Utilizado na rede Ticket e TicketLog.Enviar zeros '0' se transa\u00e7\u00e3o n\u00e3o utilizar este campo)\u2022 [34..34] Produto frota (Utilizado na rede Fit Card. Enviar zeros '0' se n\u00e3o utilizado)\u2022 [35..35] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim), n\u00e3o utilizado TicketLog.\u2022 [36..38] C\u00f3digo Funcionario BRPREMIA, n\u00e3o utilizado TicketLog.\u2022 [39..45] Placa completa do ve\u00edculo no formato  sem separa\u00e7\u00e3o entre letras e numeros. Quando for informada uma placa v\u00e1lida a informa\u00e7\u00e3o [21..24] ser\u00e1 ignorada.\u2022 [46..50] C\u00f3digo da Rede, onde: 137-FitCard e 10000-Outras. (Rede TicketLog). Campo num\u00e9rico)\u2022 [51..60] Identifica\u00e7\u00e3o do ve\u00edculo na frota. (Campo num\u00e9rico)\u2022 [61..68] N\u00famero de registro do funcion\u00e1rio. (Campo num\u00e9rico)\u2022 [69..69] Tipo de operacao. 1 - Compra; 2 - Consulta Saldo; 3 - Recarga Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o autorizada <p>DadosServicos - Especifica\u00e7\u00e3o</p> Campo Tamanho Descri\u00e7\u00e3o C\u00f3digoServi\u00e7o 03N 3 inteiros ValorUnit\u00e1rio 08N 6 Inteiros,2 Decimais Quantidade 08N 5 Inteiros,3 Decimais ValorTotal 12N 10 inteiros,2 decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 1 (Ex: Rede3ia)</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@1] Tipo 1 C\u00f3digoServi\u00e7o 12N 12 inteiros Quantidade 08N 5 Inteiros, 3 Decimais ValorTotal 09N 7 inteiros, 2 decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 2 (Ex: RedeTicket)</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@2] Tipo 2 RamoMercadoria 04N 4 Inteiros TipoMercadoria 04N 4 Inteiros C\u00f3digoMercadoria 05N 5 Inteiros Descri\u00e7\u00e3o Mercadoria 30A 30 caracteres (com espa\u00e7os a direita) Valor Unit\u00e1rio 08N 5 inteiros,2 Decimais Quantidade 08N 5 inteiros,2 Decimais Valor Total da mercadoria 12N 10 inteiros, 2 decimais Valor Desconto 12N 10 inteiros, 2 decimais Significado Campo Desconto 12N 0 = Valor em moeda,1 = Valor em percentagem (%) Valor Total com desconto 12N 10 inteiros, 2 Decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 3 (Ex:Rede MaisAceito):</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@3] Tipo 3 C\u00f3digoServi\u00e7o 09N 3 bytes(c\u00f3d.grupo) 6 bytes (c\u00f3d.produto) Quantidade 08N 5 Inteiros,2 Decimais ValorTotal 10N 8 inteiros,2 Decimais <p>DadosServicos - Especifica\u00e7\u00e3o Alternativa 4 (Ex:Rede TicketLog):</p> Campo Tamanho Descri\u00e7\u00e3o Especifica\u00e7\u00e3o 02A [@4] Tipo 4 RamoMercadoria 04N 1-Abastecimento, 2-Troca de \u00d3leo,3-Servi\u00e7os Diversos TipoMercadoria 04N Para combustiveis informar o c\u00f3digo do tipo, ex.: 1 - gasolina comum, 2 - gasolina aditivada, 3 - diesel. Para   os demais produtos informar '0000' C\u00f3digoMercadoriaServico 12N C\u00f3digo referente ao produto vendido Quantidade 08N 5 Inteiros,3 Decimais ValorTotal 10N 10 inteiros,2 Decimais <p>OBS. 1: Os dados num\u00e9ricos devem ser preenchidos com zeros a esquerda</p> <p>OBS. 2: Nas transa\u00e7\u00f5es TicketLog, se forem informados mais produtos que a rede solicitar, a transa\u00e7\u00e3o ser\u00e1 cancelada e retornara um erro.</p> <p>Exemplo para Rede Ticket:</p> <p>\u2022 Transa\u00e7\u00e3o de 3,00 reais com Desconto em Moeda de 1 real:</p> <p>\u2022 Especifica\u00e7\u00e3o: @2</p> <p>\u2022 Ramo Mercadoria: 0001</p> <p>\u2022 Tipo Mercadoria: 0001</p> <p>\u2022 C\u00f3digo Mercadoria: 00103</p> <p>\u2022 Descri\u00e7\u00e3o Mercadoria: Gasolina Premium</p> <p>\u2022 Valor Unit\u00e1rio: 00001000</p> <p>\u2022 Quantidade: 00003000</p> <p>\u2022 Valor Total Mercadoria 0000000300</p> <p>\u2022 Valor Desconto 0000000100</p> <p>\u2022 Significado do campo 0</p> <p>\u2022 Valor Total com Desconto 0000000200</p> <p>\u2022 Transa\u00e7\u00e3o de 3,00 reais com Desconto em Percentual de 10%:</p> <p>\u2022 Especifica\u00e7\u00e3o: @2</p> <p>\u2022 Ramo Mercadoria: 0001</p> <p>\u2022 Tipo Mercadoria: 0001</p> <p>\u2022 C\u00f3digo Mercadoria: 00103</p> <p>\u2022 Descri\u00e7\u00e3o Mercadoria: Gasolina Premium</p> <p>\u2022 Valor Unit\u00e1rio: 00001000</p> <p>\u2022 Quantidade: 00003000</p> <p>\u2022 Valor Total Mercadoria 0000000300</p> <p>\u2022 Valor Desconto 0000001000</p> <p>\u2022 Significado do campo 1</p> <p>\u2022 Valor Total com Desconto 0000000270</p> <p>Status [ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>Status [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Obs: Para rede Ticket o campo ValorTransa\u00e7\u00e3o deve conter o valor total da transa\u00e7\u00e3o incluindo os descontos aplicados. No caso do exemplo acima da ticket o campo ValorTransacao deve ter valor de 2,00 reais.</p> <p>Os itens CPF e N\u00famero da Ordem de Servi\u00e7o do campo Reservado devem ser preenchidos quando for utilizada a Rede Policard.</p> <p>No campo reservado as informa\u00e7\u00f5es n\u00e3o dispon\u00edveis devem ser preechidas com brancos ou zeros de acordo com o seu tipo de dado.</p> <p>Detalhamento do campo DadosServi\u00e7o para Rede Redecard .</p> <p>O campo C\u00f3digoServi\u00e7o poder\u00e1 ser:</p> <p>1-Abastecimento, 2-Troca de \u00d3leo, 3-Lavagem, 4-Ped\u00e1gio, 5-Outros.</p> <p>O Campo Quantidade representar\u00e1, quando for o caso, os Litros.</p> <p>Detalhamento do campo DadosServi\u00e7o para Rede Policard .</p> <p>Existem tr\u00eas tipos poss\u00edveis e, para cada tipo, produtos que podem ser selecionados.</p> <p>Tipos: 01-Tipos de Combust\u00edveis 02-Tipos de Servi\u00e7o 03-Manuten\u00e7\u00e3o (sem produtos).</p> <p>Tabela de Produtos:</p> 01 Tipos de Combust\u00edveis: 02 Tipos de Servi\u00e7o 01 - Gasolina Comum 01 - Troca de \u00f3leo 02 - Gasolina Aditivada 02 - Filtro de Ar 03 - \u00c1lcool 03 - Filtro de \u00f3leo 04 - Diesel Comum 04 - Filtro de combust\u00edvel 05 - Diesel Aditivado 05 - Flu\u00eddo de Freio 06 - GNV 06 - Flu\u00eddo de Radiador 07 - GLP 07 - Extintor 08 - Lavagem Expressa 09 - Lavagem Completa 10 - Conserto de pneu 11 \u2013 Montagem/desmonte Pneu 12 - Balanceamento 13 - Geometria 14 - Graxa 15 - Querosene 16 \u2013 Outros servi\u00e7os <p>A montagem da estrutura DadosServi\u00e7os deve ser feita da seguinte maneira:</p> <p>O campo C\u00f3digoServi\u00e7o ter\u00e1 o c\u00f3digo do tipo e do produto. Ex: 102, onde 1 indica Tipo de Combust\u00edvel e 02 indica Gasolina Aditivada.</p> <p>O campo ValorUnit\u00e1rio e Valortotal ter\u00e3o valor zero.</p> <p>O campo Quantidade indicar\u00e1 Litros (para caso 01-Tipo de Combust\u00edveis) ou Quantidade (para caso 02-Tipos de Servi\u00e7o).</p> <p>Se for escolhido o tipo 03-Manuten\u00e7\u00e3o deve ser colocado em C\u00f3digoServi\u00e7o o valor 300 e os demais campos zerados. Neste tipo deve-se preencher o campo N\u00famero da Ordem Servi\u00e7o do campo reservado.</p> <p>Detalhamento do campo DadosServico para Rede Ticket .</p> <p>Segue abaixo os registros da tabela da Ticket com Ramo, Tipo e C\u00f3digo da Mercadoria. Devem ser utilizados apenas os campos C\u00f3digo e Mercadoria para passar respectivamente nos campos \u201cC\u00f3digo Mercadoria\u201d e \u201cDescri\u00e7\u00e3o Mercadoria\u201d da estrutura DadosServico.</p> C\u00f3digo Ramo Tipo Nome do Tipo C\u00f3d. Mercadoria 1 POSTO DE COMBUST 1 COMBUSTIVEL 00101 GASOLINA COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00102 GASOLINA ADITIV 1 POSTO DE COMBUST 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00104 ETANOL COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00106 DIESEL COMUM 1 POSTO DE COMBUST 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00108 GAS NATURAL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00109 BIODIESEL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00110 QUEROSENE 1 POSTO DE COMBUST 1 COMBUSTIVEL 00111 METANOL 1 POSTO DE COMBUST 1 COMBUSTIVEL 00112 DIESEL MARITIMO 1 POSTO DE COMBUST 1 COMBUSTIVEL 00113 DIESEL S50 1 POSTO DE COMBUST 1 COMBUSTIVEL 00114 GLP 1 POSTO DE COMBUST 1 COMBUSTIVEL 00115 DIESEL BS 500 1 POSTO DE COMBUST 1 COMBUSTIVEL 00116 DIESEL S 10 1 POSTO DE COMBUST 2 LIMPEZA 00133 LAVAGEM SIMPLES 1 POSTO DE COMBUST 2 LIMPEZA 00134 LAVAGEM COMPLETA 1 POSTO DE COMBUST 2 LIMPEZA 00135 LAVAGEM ESPECIAL 1 POSTO DE COMBUST 2 LIMPEZA 00136 POLIMENTO CERA 1 POSTO DE COMBUST 2 LIMPEZA 00137 POLIMENTO MASSA 1 POSTO DE COMBUST 2 LIMPEZA 00138 CRISTALIZACAO 1 POSTO DE COMBUST 2 LIMPEZA 00139 OUTRO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00155 OUTROS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 1 POSTO DE COMBUST 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 1 POSTO DE COMBUST 4 FILTROS 00156 TR FILTRO OLEO 1 POSTO DE COMBUST 4 FILTROS 00157 TROCA FILTRO AR 1 POSTO DE COMBUST 4 FILTROS 00158 TR FILTRO COMB 1 POSTO DE COMBUST 4 FILTROS 00159 OUTROS 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00160 TROCA BATERIA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00161 TROCA CORREIA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 1 POSTO DE COMBUST 5 EQUIP ELETRICOS 00164 OUTROS 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00166 TROCA PALHETA 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00167 CHAVEIRO 1 POSTO DE COMBUST 6 EQUIP DIVERSOS 00168 OUTROS 1 POSTO DE COMBUST 7 BORRACHARIA 00169 TROCA PNEU 1 POSTO DE COMBUST 7 BORRACHARIA 00170 CONSERTO PNEU 1 POSTO DE COMBUST 7 BORRACHARIA 00171 CALIBRAGEM NITRO 1 POSTO DE COMBUST 7 BORRACHARIA 00172 TROCA CAMARA 1 POSTO DE COMBUST 7 BORRACHARIA 00173 CONSERTO CAMARA 1 POSTO DE COMBUST 7 BORRACHARIA 00174 TROCA VALVULA 1 POSTO DE COMBUST 7 BORRACHARIA 00175 CONSERTO DE RODA 1 POSTO DE COMBUST 7 BORRACHARIA 00176 OUTROS 2 LAVA RAPIDO 2 LIMPEZA 00133 LAVAGEM SIMPLES 2 LAVA RAPIDO 2 LIMPEZA 00134 LAVAGEM COMPLETA 2 LAVA RAPIDO 2 LIMPEZA 00135 LAVAGEM ESPECIAL 2 LAVA RAPIDO 2 LIMPEZA 00136 POLIMENTO CERA 2 LAVA RAPIDO 2 LIMPEZA 00137 POLIMENTO MASSA 2 LAVA RAPIDO 2 LIMPEZA 00138 CRISTALIZACAO 2 LAVA RAPIDO 2 LIMPEZA 00139 OUTRO 3 MANUT E PECAS 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 4 BORRACHARIA 7 BORRACHARIA 00169 TROCA PNEU 4 BORRACHARIA 7 BORRACHARIA 00170 CONSERTO PNEU 4 BORRACHARIA 7 BORRACHARIA 00171 CALIBRAGEM NITRO 4 BORRACHARIA 7 BORRACHARIA 00172 TROCA CAMARA 4 BORRACHARIA 7 BORRACHARIA 00173 CONSERTO CAMARA 4 BORRACHARIA 7 BORRACHARIA 00174 TROCA VALVULA 4 BORRACHARIA 7 BORRACHARIA 00175 CONSERTO DE RODA 4 BORRACHARIA 7 BORRACHARIA 00176 OUTROS 5 HOTEL 9 HOTEL 00178 DIARIA 5 HOTEL 9 HOTEL 00179 OUTROS 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00180 HORA 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00181 DIARIA 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00182 MENSALIDADE 6 ESTACIONAMENTO 10 ESTACIONAMENTO 00183 OUTROS 7 EST INT POSTO 1 COMBUSTIVEL 00101 GASOLINA COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00102 GASOLINA ADITIV 7 EST INT POSTO 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 7 EST INT POSTO 1 COMBUSTIVEL 00104 ETANOL COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 7 EST INT POSTO 1 COMBUSTIVEL 00106 DIESEL COMUM 7 EST INT POSTO 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 7 EST INT POSTO 1 COMBUSTIVEL 00108 GAS NATURAL 7 EST INT POSTO 1 COMBUSTIVEL 00109 BIODIESEL 7 EST INT POSTO 1 COMBUSTIVEL 00110 QUEROSENE 7 EST INT POSTO 1 COMBUSTIVEL 00111 METANOL 7 EST INT POSTO 1 COMBUSTIVEL 00112 DIESEL MARITIMO 7 EST INT POSTO 1 COMBUSTIVEL 00113 DIESEL S50 7 EST INT POSTO 1 COMBUSTIVEL 00114 GLP 7 EST INT POSTO 1 COMBUSTIVEL 00115 DIESEL BS 500 7 EST INT POSTO 1 COMBUSTIVEL 00116 DIESEL S 10 7 EST INT POSTO 2 LIMPEZA 00133 LAVAGEM SIMPLES 7 EST INT POSTO 2 LIMPEZA 00134 LAVAGEM COMPLETA 7 EST INT POSTO 2 LIMPEZA 00135 LAVAGEM ESPECIAL 7 EST INT POSTO 2 LIMPEZA 00136 POLIMENTO CERA 7 EST INT POSTO 2 LIMPEZA 00137 POLIMENTO MASSA 7 EST INT POSTO 2 LIMPEZA 00139 OUTRO 7 EST INT POSTO 2 LIMPEZA 00138 CRISTALIZACAO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 7 EST INT POSTO 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 7 EST INT POSTO 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 7 EST INT POSTO 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 7 EST INT POSTO 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 7 EST INT POSTO 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 7 EST INT POSTO 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 7 EST INT POSTO 3 ADIT E LUBRIFIC 00155 OUTROS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 7 EST INT POSTO 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 7 EST INT POSTO 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 7 EST INT POSTO 4 FILTROS 00156 TR FILTRO OLEO 7 EST INT POSTO 4 FILTROS 00157 TROCA FILTRO AR 7 EST INT POSTO 4 FILTROS 00158 TR FILTRO COMB 7 EST INT POSTO 4 FILTROS 00159 OUTROS 7 EST INT POSTO 5 EQUIP ELETRICOS 00160 TROCA BATERIA 7 EST INT POSTO 5 EQUIP ELETRICOS 00161 TROCA CORREIA 7 EST INT POSTO 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 7 EST INT POSTO 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 7 EST INT POSTO 5 EQUIP ELETRICOS 00164 OUTROS 7 EST INT POSTO 6 EQUIP ELETRICOS 00165 EXTINTOR INCEN 7 EST INT POSTO 6 EQUIP ELETRICOS 00166 TROCA PALHETA 7 EST INT POSTO 6 EQUIP ELETRICOS 00167 CHAVEIRO 7 EST INT POSTO 6 EQUIP ELETRICOS 00168 OUTROS 8 EST INT OFICINA 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 9 EST INT ALMOXARI 11 ALMOXARIFADO 00184 ALMOXARIFADO 10 EST INT OUTROS 12 OUTROS 00185 OUTROS 10 EST INT OUTROS 15 LUBRIFICANTES 00189 15W40 10 EST INT OUTROS 15 LUBRIFICANTES 00190 85W140 10 EST INT OUTROS 15 LUBRIFICANTES 00191 AT 10 EST INT OUTROS 15 LUBRIFICANTES 00192 FLUIDO FREIO 10 EST INT OUTROS 15 LUBRIFICANTES 00193 FTA 10 EST INT OUTROS 15 LUBRIFICANTES 00194 H220S 10 EST INT OUTROS 15 LUBRIFICANTES 00195 LUBR VL 10 EST INT OUTROS 15 LUBRIFICANTES 00196 M40 10 EST INT OUTROS 15 LUBRIFICANTES 00197 PAROIL 10 EST INT OUTROS 15 LUBRIFICANTES 00198 S68 10 EST INT OUTROS 15 LUBRIFICANTES 00199 S150 10 EST INT OUTROS 15 LUBRIFICANTES 00200 S460 10 EST INT OUTROS 15 LUBRIFICANTES 00201 SAE80 10 EST INT OUTROS 15 LUBRIFICANTES 00202 SAE90 10 EST INT OUTROS 15 LUBRIFICANTES 00203 SAE90LS 10 EST INT OUTROS 15 LUBRIFICANTES 00204 T68 10 EST INT OUTROS 15 LUBRIFICANTES 00205 TC50 10 EST INT OUTROS 15 LUBRIFICANTES 00206 WBF100 10 EST INT OUTROS 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 10 EST INT OUTROS 16 GRAXA 00208 GRAXA 10 EST INT OUTROS 17 EMULSSAO 00209 EMULSSAO IMPR 10 EST INT OUTROS 17 EMULSSAO 00210 EMULSSAO RR 10 EST INT OUTROS 18 CAP 00211 CAP 30 45 10 EST INT OUTROS 18 CAP 00212 CAP POL 10 EST INT OUTROS 18 CAP 00213 CAP OUTROS 12 TAXI 1 COMBUSTIVEL 00101 GASOLINA COMUM 12 TAXI 1 COMBUSTIVEL 00102 GASOLINA ADITIV 12 TAXI 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 12 TAXI 1 COMBUSTIVEL 00104 ETANOL COMUM 12 TAXI 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 12 TAXI 1 COMBUSTIVEL 00106 DIESEL COMUM 12 TAXI 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 12 TAXI 1 COMBUSTIVEL 00108 GAS NATURAL 12 TAXI 1 COMBUSTIVEL 00109 BIODIESEL 12 TAXI 1 COMBUSTIVEL 00110 QUEROSENE 12 TAXI 1 COMBUSTIVEL 00111 METANOL 12 TAXI 1 COMBUSTIVEL 00112 DIESEL MARITIMO 12 TAXI 1 COMBUSTIVEL 00113 DIESEL S50 12 TAXI 1 COMBUSTIVEL 00114 GLP 12 TAXI 1 COMBUSTIVEL 00115 DIESEL BS 500 12 TAXI 1 COMBUSTIVEL 00116 DIESEL S 10 12 TAXI 2 LIMPEZA 00133 LAVAGEM SIMPLES 12 TAXI 2 LIMPEZA 00134 LAVAGEM COMPLETA 12 TAXI 2 LIMPEZA 00135 LAVAGEM ESPECIAL 12 TAXI 2 LIMPEZA 00136 POLIMENTO CERA 12 TAXI 2 LIMPEZA 00137 POLIMENTO MASSA 12 TAXI 2 LIMPEZA 00138 CRISTALIZACAO 12 TAXI 2 LIMPEZA 00139 OUTRO 12 TAXI 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 12 TAXI 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 12 TAXI 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 12 TAXI 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 12 TAXI 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 12 TAXI 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 12 TAXI 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 12 TAXI 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 12 TAXI 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 12 TAXI 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 12 TAXI 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 12 TAXI 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 12 TAXI 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 12 TAXI 3 ADIT E LUBRIFIC 00155 OUTROS 12 TAXI 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 12 TAXI 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 12 TAXI 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 12 TAXI 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 12 TAXI 4 FILTROS 00156 TR FILTRO OLEO 12 TAXI 4 FILTROS 00157 TROCA FILTRO AR 12 TAXI 4 FILTROS 00158 TR FILTRO COMB 12 TAXI 4 FILTROS 00159 OUTROS 12 TAXI 5 EQUIP ELETRICOS 00160 TROCA BATERIA 12 TAXI 5 EQUIP ELETRICOS 00161 TROCA CORREIA 12 TAXI 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 12 TAXI 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 12 TAXI 5 EQUIP ELETRICOS 00164 OUTROS 12 TAXI 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 12 TAXI 6 EQUIP DIVERSOS 00166 TROCA PALHETA 12 TAXI 6 EQUIP DIVERSOS 00167 CHAVEIRO 12 TAXI 6 EQUIP DIVERSOS 00168 OUTROS 12 TAXI 7 BORRACHARIA 00169 TROCA PNEU 12 TAXI 7 BORRACHARIA 00170 CONSERTO PNEU 12 TAXI 7 BORRACHARIA 00171 CALIBRAGEM NITRO 12 TAXI 7 BORRACHARIA 00172 TROCA CAMARA 12 TAXI 7 BORRACHARIA 00173 CONSERTO CAMARA 12 TAXI 7 BORRACHARIA 00174 TROCA VALVULA 12 TAXI 7 BORRACHARIA 00175 CONSERTO DE RODA 12 TAXI 7 BORRACHARIA 00176 OUTROS 12 TAXI 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 12 TAXI 9 HOTEL 00178 DIARIA 12 TAXI 9 HOTEL 00179 OUTROS 12 TAXI 10 ESTACIONAMENTO 00180 HORA 12 TAXI 10 ESTACIONAMENTO 00181 DIARIA 12 TAXI 10 ESTACIONAMENTO 00182 MENSALIDADE 12 TAXI 10 ESTACIONAMENTO 00183 OUTROS 12 TAXI 11 ALMOXARIFADO 00184 ALMOXARIFADO 12 TAXI 12 OUTROS 00185 OUTROS 12 TAXI 13 TAXI 00186 TAXI 13 ASSISTENCIA 1 COMBUSTIVEL 00101 GASOLINA COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00102 GASOLINA ADITIV 13 ASSISTENCIA 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 13 ASSISTENCIA 1 COMBUSTIVEL 00104 ETANOL COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 13 ASSISTENCIA 1 COMBUSTIVEL 00106 DIESEL COMUM 13 ASSISTENCIA 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 13 ASSISTENCIA 1 COMBUSTIVEL 00108 GAS NATURAL 13 ASSISTENCIA 1 COMBUSTIVEL 00109 BIODIESEL 13 ASSISTENCIA 1 COMBUSTIVEL 00110 QUEROSENE 13 ASSISTENCIA 1 COMBUSTIVEL 00111 METANOL 13 ASSISTENCIA 1 COMBUSTIVEL 00112 DIESEL MARITIMO 13 ASSISTENCIA 1 COMBUSTIVEL 00113 DIESEL S50 13 ASSISTENCIA 1 COMBUSTIVEL 00114 GLP 13 ASSISTENCIA 1 COMBUSTIVEL 00115 DIESEL BS 500 13 ASSISTENCIA 1 COMBUSTIVEL 00116 DIESEL S 10 13 ASSISTENCIA 2 LIMPEZA 00133 LAVAGEM SIMPLES 13 ASSISTENCIA 2 LIMPEZA 00134 LAVAGEM COMPLETA 13 ASSISTENCIA 2 LIMPEZA 00135 LAVAGEM ESPECIAL 13 ASSISTENCIA 2 LIMPEZA 00136 POLIMENTO CERA 13 ASSISTENCIA 2 LIMPEZA 00137 POLIMENTO MASSA 13 ASSISTENCIA 2 LIMPEZA 00138 CRISTALIZACAO 13 ASSISTENCIA 2 LIMPEZA 00139 OUTRO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00155 OUTROS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 13 ASSISTENCIA 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 13 ASSISTENCIA 4 FILTROS 00156 TR FILTRO OLEO 13 ASSISTENCIA 4 FILTROS 00157 TROCA FILTRO AR 13 ASSISTENCIA 4 FILTROS 00158 TR FILTRO COMB 13 ASSISTENCIA 4 FILTROS 00159 OUTROS 13 ASSISTENCIA 5 EQUIP ELETRICOS 00160 TROCA BATERIA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00161 TROCA CORREIA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 13 ASSISTENCIA 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 13 ASSISTENCIA 5 EQUIP ELETRICOS 00164 OUTROS 13 ASSISTENCIA 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 13 ASSISTENCIA 6 EQUIP DIVERSOS 00166 TROCA PALHETA 13 ASSISTENCIA 6 EQUIP DIVERSOS 00167 CHAVEIRO 13 ASSISTENCIA 6 EQUIP DIVERSOS 00168 OUTROS 13 ASSISTENCIA 7 BORRACHARIA 00169 TROCA PNEU 13 ASSISTENCIA 7 BORRACHARIA 00170 CONSERTO PNEU 13 ASSISTENCIA 7 BORRACHARIA 00171 CALIBRAGEM NITRO 13 ASSISTENCIA 7 BORRACHARIA 00172 TROCA CAMARA 13 ASSISTENCIA 7 BORRACHARIA 00173 CONSERTO CAMARA 13 ASSISTENCIA 7 BORRACHARIA 00174 TROCA VALVULA 13 ASSISTENCIA 7 BORRACHARIA 00175 CONSERTO DE RODA 13 ASSISTENCIA 7 BORRACHARIA 00176 OUTROS 13 ASSISTENCIA 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 13 ASSISTENCIA 9 HOTEL 00178 DIARIA 13 ASSISTENCIA 9 HOTEL 00179 OUTROS 13 ASSISTENCIA 10 ESTACIONAMENTO 00180 HORA 13 ASSISTENCIA 10 ESTACIONAMENTO 00181 DIARIA 13 ASSISTENCIA 10 ESTACIONAMENTO 00182 MENSALIDADE 13 ASSISTENCIA 10 ESTACIONAMENTO 00183 OUTROS 13 ASSISTENCIA 11 ALMOXARIFADO 00184 ALMOXARIFADO 13 ASSISTENCIA 12 OUTROS 00185 OUTROS 13 ASSISTENCIA 13 TAXI 00186 TAXI 13 ASSISTENCIA 14 ASSISTENCIA 00188 ASSISTEN CIA 15 CENTRAL DE SERV 1 COMBUSTIVEL 00101 GASOLINA COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00102 GASOLINA ADITIV 15 CENTRAL DE SERV 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00104 ETANOL COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00106 DIESEL COMUM 15 CENTRAL DE SERV 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00108 GAS NATURAL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00109 BIODIESEL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00110 QUEROSENE 15 CENTRAL DE SERV 1 COMBUSTIVEL 00111 METANOL 15 CENTRAL DE SERV 1 COMBUSTIVEL 00112 DIESEL MARITIMO 15 CENTRAL DE SERV 1 COMBUSTIVEL 00113 DIESEL S50 15 CENTRAL DE SERV 1 COMBUSTIVEL 00114 GLP 15 CENTRAL DE SERV 1 COMBUSTIVEL 00115 DIESEL BS 500 15 CENTRAL DE SERV 1 COMBUSTIVEL 00116 DIESEL S 10 15 CENTRAL DE SERV 2 LIMPEZA 00133 LAVAGEM SIMPLES 15 CENTRAL DE SERV 2 LIMPEZA 00134 LAVAGEM COMPLETA 15 CENTRAL DE SERV 2 LIMPEZA 00135 LAVAGEM ESPECIAL 15 CENTRAL DE SERV 2 LIMPEZA 00136 POLIMENTO CERA 15 CENTRAL DE SERV 2 LIMPEZA 00137 POLIMENTO MASSA 15 CENTRAL DE SERV 2 LIMPEZA 00138 CRISTALIZACAO 15 CENTRAL DE SERV 2 LIMPEZA 00139 OUTRO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00155 OUTROS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 15 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 15 CENTRAL DE SERV 4 FILTROS 00156 TR FILTRO OLEO 15 CENTRAL DE SERV 4 FILTROS 00157 TROCA FILTRO AR 15 CENTRAL DE SERV 4 FILTROS 00158 TR FILTRO COMB 15 CENTRAL DE SERV 4 FILTROS 00159 OUTROS 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00160 TROCA BATERIA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00161 TROCA CORREIA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 15 CENTRAL DE SERV 5 EQUIP ELETRICOS 00164 OUTROS 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00166 TROCA PALHETA 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00167 CHAVEIRO 15 CENTRAL DE SERV 6 EQUIP DIVERSOS 00168 OUTROS 15 CENTRAL DE SERV 7 BORRACHARIA 00169 TROCA PNEU 15 CENTRAL DE SERV 7 BORRACHARIA 00170 CONSERTO PNEU 15 CENTRAL DE SERV 7 BORRACHARIA 00171 CALIBRAGEM NITRO 15 CENTRAL DE SERV 7 BORRACHARIA 00172 TROCA CAMARA 15 CENTRAL DE SERV 7 BORRACHARIA 00173 CONSERTO CAMARA 15 CENTRAL DE SERV 7 BORRACHARIA 00174 TROCA VALVULA 15 CENTRAL DE SERV 7 BORRACHARIA 00175 CONSERTO DE RODA 15 CENTRAL DE SERV 7 BORRACHARIA 00176 OUTROS 15 CENTRAL DE SERV 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 15 CENTRAL DE SERV 9 HOTEL 00178 DIARIA 15 CENTRAL DE SERV 9 HOTEL 00179 OUTROS 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00180 HORA 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00181 DIARIA 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00182 MENSALIDADE 15 CENTRAL DE SERV 10 ESTACIONAMENTO 00183 OUTROS 15 CENTRAL DE SERV 11 ALMOXARIFADO 00184 ALMOXARIFADO 15 CENTRAL DE SERV 12 OUTROS 00185 OUTROS 15 CENTRAL DE SERV 13 TAXI 00186 TAXI 15 CENTRAL DE SERV 14 ASSISTENCIA 00188 ASSISTENCIA 15 CENTRAL DE SERV 15 LUBRIFICANTES 00189 15W40 15 CENTRAL DE SERV 15 LUBRIFICANTES 00190 85W140 15 CENTRAL DE SERV 15 LUBRIFICANTES 00191 AT 15 CENTRAL DE SERV 15 LUBRIFICANTES 00192 FLUIDO FREIO 15 CENTRAL DE SERV 15 LUBRIFICANTES 00193 FTA 15 CENTRAL DE SERV 15 LUBRIFICANTES 00194 H220S 15 CENTRAL DE SERV 15 LUBRIFICANTES 00195 LUBR VL 15 CENTRAL DE SERV 15 LUBRIFICANTES 00196 M40 15 CENTRAL DE SERV 15 LUBRIFICANTES 00197 PAROIL 15 CENTRAL DE SERV 15 LUBRIFICANTES 00198 S68 15 CENTRAL DE SERV 15 LUBRIFICANTES 00199 S150 15 CENTRAL DE SERV 15 LUBRIFICANTES 00200 S460 15 CENTRAL DE SERV 15 LUBRIFICANTES 00201 SAE80 15 CENTRAL DE SERV 15 LUBRIFICANTES 00202 SAE90 15 CENTRAL DE SERV 15 LUBRIFICANTES 00203 SAE90LS 15 CENTRAL DE SERV 15 LUBRIFICANTES 00204 T68 15 CENTRAL DE SERV 15 LUBRIFICANTES 00205 TC50 15 CENTRAL DE SERV 15 LUBRIFICANTES 00206 WBF100 15 CENTRAL DE SERV 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 15 CENTRAL DE SERV 16 GRAXA 00208 GRAXA 15 CENTRAL DE SERV 17 EMULSSAO 00209 EMULSSAO IMPR 15 CENTRAL DE SERV 17 EMULSSAO 00210 EMULSSAO RR 15 CENTRAL DE SERV 18 CAP 00211 CAP 30 45 15 CENTRAL DE SERV 18 CAP 00212 CAP POL 15 CENTRAL DE SERV 18 CAP 00213 CAP OUTROS 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00215 REBOQUE 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00216 SOCORRO MECANICO 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00217 CHAVEIRO 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00218 TRANSPORTE ALTER 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00219 VEICULO RESERVA 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00220 LEVA E TRAZ 15 CENTRAL DE SERV 19 CENTRAL DE SERV 00221 OUTROS SERVICOS 16 CENTRAL DE SERV 1 COMBUSTIVEL 00101 GASOLINA COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00102 GASOLINA ADITIV 16 CENTRAL DE SERV 1 COMBUSTIVEL 00103 GASOLINA PREMIUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00104 ETANOL COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00105 ETANOL ADITIVADO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00106 DIESEL COMUM 16 CENTRAL DE SERV 1 COMBUSTIVEL 00107 DIESEL ADITIVADO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00108 GAS NATURAL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00109 BIODIESEL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00110 QUEROSENE 16 CENTRAL DE SERV 1 COMBUSTIVEL 00111 METANOL 16 CENTRAL DE SERV 1 COMBUSTIVEL 00112 DIESEL MARITIMO 16 CENTRAL DE SERV 1 COMBUSTIVEL 00113 DIESEL S50 16 CENTRAL DE SERV 1 COMBUSTIVEL 00114 GLP 16 CENTRAL DE SERV 1 COMBUSTIVEL 00115 DIESEL BS 500 16 CENTRAL DE SERV 1 COMBUSTIVEL 00116 DIESEL S 10 16 CENTRAL DE SERV 2 LIMPEZA 00133 LAVAGEM SIMPLES 16 CENTRAL DE SERV 2 LIMPEZA 00134 LAVAGEM COMPLETA 16 CENTRAL DE SERV 2 LIMPEZA 00135 LAVAGEM ESPECIAL 16 CENTRAL DE SERV 2 LIMPEZA 00136 POLIMENTO CERA 16 CENTRAL DE SERV 2 LIMPEZA 00137 POLIMENTO MASSA 16 CENTRAL DE SERV 2 LIMPEZA 00138 CRISTALIZACAO 16 CENTRAL DE SERV 2 LIMPEZA 00139 OUTRO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00140 TROCA OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00141 COMPL OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00142 ADIT OLEO MOTOR 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00143 TR OLEO TRANSMIS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00144 COMPL OLEO TRANS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00145 TR OLEO DIFERENC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00146 COMPL OLEO DIFER 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00147 TROCA OLEO DIREC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00148 COMPL OLEO DIREC 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00149 TR FLUIDO FREIO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00150 COMP FLUID FREIO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00151 TROCA ADIT RAD 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00152 COMPL AD RAD 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00153 ADITIVO COMBUST 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00154 ENGRAXAMENTO 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00155 OUTROS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00214 ARLA A GRANEL 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00222 OLEO DOIS TEMPOS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00223 ARLA 20 LTS 16 CENTRAL DE SERV 3 ADIT E LUBRIFIC 00224 ARLA 10 LTS 16 CENTRAL DE SERV 4 FILTROS 00156 TR FILTRO OLEO 16 CENTRAL DE SERV 4 FILTROS 00157 TROCA FILTRO AR 16 CENTRAL DE SERV 4 FILTROS 00158 TR FILTRO COMB 16 CENTRAL DE SERV 4 FILTROS 00159 OUTROS 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00160 TROCA BATERIA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00161 TROCA CORREIA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00162 TROCA LAMPADA 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00163 TROCA FUSIVEL 16 CENTRAL DE SERV 5 EQUIP ELETRICOS 00164 OUTROS 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00165 EXTINTOR INCEN 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00166 TROCA PALHETA 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00167 CHAVEIRO 16 CENTRAL DE SERV 6 EQUIP DIVERSOS 00168 OUTROS 16 CENTRAL DE SERV 7 BORRACHARIA 00169 TROCA PNEU 16 CENTRAL DE SERV 7 BORRACHARIA 00170 CONSERTO PNEU 16 CENTRAL DE SERV 7 BORRACHARIA 00171 CALIBRAGEM NITRO 16 CENTRAL DE SERV 7 BORRACHARIA 00172 TROCA CAMARA 16 CENTRAL DE SERV 7 BORRACHARIA 00173 CONSERTO CAMARA 16 CENTRAL DE SERV 7 BORRACHARIA 00174 TROCA VALVULA 16 CENTRAL DE SERV 7 BORRACHARIA 00175 CONSERTO DE RODA 16 CENTRAL DE SERV 7 BORRACHARIA 00176 OUTROS 16 CENTRAL DE SERV 8 PECAS E SERVICOS 00177 PECAS E SERVICOS 16 CENTRAL DE SERV 9 HOTEL 00178 DIARIA 16 CENTRAL DE SERV 9 HOTEL 00179 OUTROS 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00180 HORA 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00181 DIARIA 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00182 MENSALIDADE 16 CENTRAL DE SERV 10 ESTACIONAMENTO 00183 OUTROS 16 CENTRAL DE SERV 11 ALMOXARIFADO 00184 ALMOXARIFADO 16 CENTRAL DE SERV 12 OUTROS 00185 OUTROS 16 CENTRAL DE SERV 13 TAXI 00186 TAXI 16 CENTRAL DE SERV 14 ASSISTENCIA 00188 ASSISTENCIA 16 CENTRAL DE SERV 15 LUBRIFICANTES 00189 15W40 16 CENTRAL DE SERV 15 LUBRIFICANTES 00190 85W140 16 CENTRAL DE SERV 15 LUBRIFICANTES 00191 AT 16 CENTRAL DE SERV 15 LUBRIFICANTES 00192 FLUIDO FREIO 16 CENTRAL DE SERV 15 LUBRIFICANTES 00193 FTA 16 CENTRAL DE SERV 15 LUBRIFICANTES 00194 H220S 16 CENTRAL DE SERV 15 LUBRIFICANTES 00195 LUBR VL 16 CENTRAL DE SERV 15 LUBRIFICANTES 00196 M40 16 CENTRAL DE SERV 15 LUBRIFICANTES 00197 PAROIL 16 CENTRAL DE SERV 15 LUBRIFICANTES 00198 S68 16 CENTRAL DE SERV 15 LUBRIFICANTES 00199 S150 16 CENTRAL DE SERV 15 LUBRIFICANTES 00200 S460 16 CENTRAL DE SERV 15 LUBRIFICANTES 00201 SAE80 16 CENTRAL DE SERV 15 LUBRIFICANTES 00202 SAE90 16 CENTRAL DE SERV 15 LUBRIFICANTES 00203 SAE90LS 16 CENTRAL DE SERV 15 LUBRIFICANTES 00204 T68 16 CENTRAL DE SERV 15 LUBRIFICANTES 00205 TC50 16 CENTRAL DE SERV 15 LUBRIFICANTES 00206 WBF100 16 CENTRAL DE SERV 15 LUBRIFICANTES 00207 ADITIVO RADIADOR 16 CENTRAL DE SERV 16 GRAXA 00208 GRAXA 16 CENTRAL DE SERV 17 EMULSSAO 00209 EMULSSAO IMPR 16 CENTRAL DE SERV 17 EMULSSAO 00210 EMULSSAO RR 16 CENTRAL DE SERV 18 CAP 00211 CAP 30 45 16 CENTRAL DE SERV 18 CAP 00212 CAP POL 16 CENTRAL DE SERV 18 CAP 00213 CAP OUTROS 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00215 REBOQUE 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00216 SOCORRO MECANICO 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00217 CHAVEIRO 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00218 TRANSPORTE ALTER 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00219 VEICULO RESERVA 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00220 LEVA E TRAZ 16 CENTRAL DE SERV 19 CENTRAL DE SERV 00221 OUTROS SERVICOS"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/","title":"Cr\u00e9dito","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito","title":"Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCredito(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>Se a rede autorizadora permitir e se estiver configurada no D-TEF a impress\u00e3o de cupom reduzido, al\u00e9m do arquivo acima ser\u00e1 liberado um arquivo com o comprovante reduzido no formato RNNNNNN.PPP, onde NNNNNN \u00e9 o NumeroControle e PPP \u00e9 o n\u00famero do terminal configurado. Assim, o comprovante reduzido dever\u00e1 ser impresso no espa\u00e7o destinado \u00e0 mensagem promocional do cupom fiscal e o comprovante normal continuar\u00e1 a ser impresso no cupom vinculado</p> <p>Os campos est\u00e3o abaixo caracterizados:</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito-completa","title":"Cr\u00e9dito Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoCompleta(char *pValorTransacao, char *pNumeroCupom,\nchar *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pValorParcela, char *pValorTaxaServico, char *pPermiteAlteracao,\nchar *pReservado)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoPrivateLabelCompleta(char *pValorTransacao, char *pNumeroCupom,\nchar *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pValorEntrada, char *pValorTaxaServico, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o de cr\u00e9dito ou private label, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de cr\u00e9dito completa e transa\u00e7\u00e3o com cart\u00e3o private label completa, atrav\u00e9s da(s) chamada(s) \u00e0(s) fun\u00e7\u00e3o(\u00f5es) TransacaoCartaoCreditoCompleta e TransacaoCartaoPrivateLabelCompleta. Os par\u00e2metros opcionais destas fun\u00e7\u00f5es s\u00e3o os seguintes:</p> <p>TipoOperacao</p> <p>NumeroParcelas</p> <p>ValorParcela</p> <p>ValorEntrada</p> <p>ValorTaxaServico</p> <p>PermiteAlteracao</p> <p>Reservado</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#credito-split-completa","title":"Cr\u00e9dito Split Completa","text":"<p>Para realizar uma transa\u00e7\u00e3o de SPLIT Cr\u00e9dito utilizar o m\u00e9todo descrito abaixo. Ele tem a mesma parametriza\u00e7\u00e3o e regra de entrada da transa\u00e7\u00e3o de Cr\u00e9dito Completa, todavia recebe a mais os dados de SPLIT de pagamento.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoCreditoCompletaSplit(char *pValorTransacao, char *pNumeroCupom,\nchar *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pValorParcela, char *pValorTaxaServico, char *pPermiteAlteracao, char *pReservado, char *pQuantidadeItensSplit, char *pItensSplit, char *pQuantidadeRecebedoresSplit, char *pRecebedoresSplit)\n</code></pre> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 Vista\u2022 [ FL ] Financiamento Lojista\u2022 [ FA ] Financiamento Administradora NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) ValorParcela 12N 10 inteiros, 2 decimais ValorEntrada (somente transacao PrivateLabel) 12N 10 inteiros, 2 decimais ValorTaxaServico 12N 10 inteiros, 2 decimais. PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 161A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..7 ] Plano de pagamento utilizado no PDV\u2022 [ 8..8 ] Valor [ 0 ] indica pagamento com Cart\u00e3o de Cr\u00e9dito;[ 1 ] indica pagamento com Crach\u00e1. [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ] indica pagamento com cart\u00e3o MettaCard\u2022 [ 9..9 ] Flag indicando se h\u00e1 dados de cart\u00e3o (Crach\u00e1) [ 0 ]N\u00e3o [ 1 ]Sim[10] Op\u00e7\u00e3o para Pagamento de fatura \u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura \u2022 1 -&gt; C\u00f3digo de Barras digitado \u2022 2 -&gt; C\u00f3digo de Barras lido \u00f3ticamente\u2022 3 -&gt; CPF (11 caracteres)\u2022 4 -&gt; Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5 -&gt; Outros(at\u00e9 40 caracteres)\u2022 [11..12] Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [13..59] Dados do pagamento de fatura\u2022 [60..126] Uso restrito.\u2022 [ 127..138 ] Valor da taxa de embarque\u2022 [ 139..139 ] Tipo de Venda (0-Normal; 1-Promocional)\u2022 [ 140..140 ] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim)\u2022 [ 141..143 ] C\u00f3digo Funcionario BRPREMIA\u2022 [ 144..154 ] CPF Cliente\u2022 [ 155..156 ] Quantidade de ciclos a pular\u2022 [157..161] C\u00f3digo da tabela dos planos CDC[Especifica\u00e7\u00e3o do Retorno]C\u00f3digos poss\u00edveis:\u2022 [ 01 ] Dados Correspondente Banc\u00e1rio\u2022 [ 02 ] Dados Correspondente Banc\u00e1rio\u2022 [ 03 ] Dados Correspondente Banc\u00e1rio\u2022 [ 04 ] Dados Correspondente Banc\u00e1rio\u2022 [ 05 ] Dados Venda Crach\u00e1\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio\u2022 [ Especifica\u00e7\u00e3o dos Dados Venda Crach\u00e1 ]\u2022 [ 01..09 ] CodigoAutorizacao\u2022 [ 10..59 ] NomeFuncionario\u2022 [ 60..71 ] ValorDesconto\u2022 [ 72..76 ] PercentualDesconto QuantidadeItensSplit(opcional, utilizar 0 caso n\u00e3o tenha itens) 03N 3 inteiros, informando a quantidade de itens enviados. ItensSplit Clique aqui para visualizar a tabela Quantidade Recebedores Split 03N 3 inteiros, informando a quantidade de recebedores enviados RecebedoresSplit Clique aqui para visualizar a tabela Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>ItensSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais Descri\u00e7\u00e3o 20A 20 caracteres (com espa\u00e7os a direita) Quantidade 05N Quantidade vendida do item informado, 5 Inteiros C\u00f3digo 13A C\u00f3digo do produto, 13 caracteres. <p>RecebedoresSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais CNPJ 14N 14 inteiros Tipo* 01N [0] Valor Bruto [1] Porcentagem <p>* O tipo bruto indica que o dado informado no campo \"Valor\" da mesma estrutura representa o valor real que o CNPJ receber\u00e1, e o tipo porcentagem indica que o dado informado para aquele CNPJ \u00e9 um valor percentual, portando, o CNPJ receber\u00e1 x% do valor total.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Credito/#confirmacao-credito","title":"Confirma\u00e7\u00e3o Cr\u00e9dito","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoCredito(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de cr\u00e9dito \u00e9 realizada atrav\u00e9s da chamada a fun\u00e7\u00e3o ConfirmaCartaoCredito.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Cabe ao sistema de automa\u00e7\u00e3o decidir a a\u00e7\u00e3o a ser tomada. A forma de pagamento deve ter sido aceita como v\u00e1lida, pelo sistema de automa\u00e7\u00e3o, por\u00e9m a transa\u00e7\u00e3o n\u00e3o ser\u00e1 confirmada com a institui\u00e7\u00e3o financeira.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/","title":"D\u00e9bito","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito","title":"D\u00e9bito","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebito(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <ul> <li>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</li> <li>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</li> </ul>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito-completa","title":"D\u00e9bito Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebitoCompleta(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pSequenciaParcela, char *pDataDebito, char *pValorParcela, char *pValorTaxaServico, char *pPermiteAlteracao, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o de d\u00e9bito, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de d\u00e9bito completa, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoDebitoCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>TipoOperacao</p> <p>NumeroParcelas</p> <p>SequenciaParcela</p> <p>DataDebito</p> <p>ValorParcela</p> <p>ValorTaxaServico</p> <p>PermiteAlteracao</p> <p>Reservado</p> <p>Nas transa\u00e7\u00f5es de d\u00e9bito parcelado, \u00e9 poss\u00edvel se especificar o valor e a data de cada parcela. Neste caso, a fun\u00e7\u00e3o deve ser chamada tantas vezes quantas for o n\u00famero de parcelas. Em cada uma dessas chamadas, o par\u00e2metro SequenciaParcela dever\u00e1 indicar o n\u00famero da parcela em quest\u00e3o. Numa outra situa\u00e7\u00e3o, se os valores das parcelas n\u00e3o forem especificados, dever\u00e1 ser passado o valor \u201c00\u201d no par\u00e2metro SequenciaParcela, indicando que os valores e as datas das parcelas ser\u00e3o calculados automaticamente pela rede autorizadora.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#debito-completa-split","title":"D\u00e9bito Completa Split","text":"<p>Para realizar uma transa\u00e7\u00e3o de Split D\u00e9bito utilizar o m\u00e9todo descrito abaixo. Ele tem a mesma parametriza\u00e7\u00e3o e regra de entrada da transa\u00e7\u00e3o de D\u00e9bito Completa, todavia recebe a mais os dados de Split de pagamento.</p> <pre><code>int DIRETIVA_CALLBACK TransacaoCartaoDebitoCompletaSplit(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pTipoOperacao, char *pNumeroParcelas, char *pSequenciaParcela, char *pDataDebito, char *pValorParcela,\nchar *pValorTaxaServico, char *pPermiteAlteracao, char *pReservado, char *pQuantidadeItensSplit, char *pItensSplit, char *pQuantidadeRecebedoresSplit, char *pRecebedoresSplit)\n</code></pre> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) TipoOperacao 02A \u2022 [ AV ] \u00c0 Vista \u2022 [ PS ] Parcelada (sem juros) \u2022 [ PC ] Parcelada (com juros)\u2022 [ PD ] Pr\u00e9-datada\u2022 [ PE ] Parcelado  com entrada\u2022 [ PM ] Parcelado sem entrada NumeroParcelas 02N N\u00famero de parcelas (00 \u2013 99) SequenciaParcela 02N N\u00famero da parcela DataDebito 08N &lt;ddmmaaaa&gt; Data da parcela (transa\u00e7\u00e3o parcelada) ou Datade d\u00e9bito (transa\u00e7\u00e3o pr\u00e9-datada) ValorParcela 12N 10 inteiros, 2 decimais. Se o campo TipoOpera\u00e7\u00e3o for [ PE ] e o campo SequenciaParcela for igual a 1, este valor corresponder\u00e1 ao valor de entrada. ValorTaxaServico 12N 10 inteiros, 2 decimais PermiteAlteracao 01A \u2022 [ S ] Permite alterar valores informados (exceto ValorTransacao)\u2022 [ N ] N\u00e3o Permite alterar valores informados Reservado 148A [ Especifica\u00e7\u00e3o ]\u2022 [ 1..1 ] Uso restrito. Fixo \u201c0\u201d\u2022 [ 2..4 ] Uso restrito. Fixo \u201c000\u201d\u2022 [ 5..5 ] [ 0 ] Sem Garantia [ 1 ] Com Garantia\u2022 [ 6..17 ] Valor da taxa de embarque\u2022 [ 18..29 ] Valor do saque\u2022 [ 30..30 ] [ 3 ] indica pagamento com cart\u00e3o Qualidade [ 4 ]indica pagamento com cart\u00e3o MettaCard\u2022 [ 31..70 ] Descri\u00e7\u00e3o do produto (somente para transa\u00e7\u00f5es Cielo). Para transa\u00e7\u00f5es de Pagamento de fatura informar os valores \"0079,0763,0764,\" e preencher valores n\u00e3o utilizados com 0 ou espa\u00e7os em branco.\u2022 [71] Op\u00e7\u00e3o para pagamento de faturaC\u00f3digos poss\u00edveis para a adquirente Getnetlac e Safra:\u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1 -&gt; Indica que \u00e9 um pagamento de faturaC\u00f3digos poss\u00edveis para a adquirente REDE:\u2022 0 -&gt; Indica que n\u00e3o \u00e9 pagamento de fatura\u2022 1 -&gt; C\u00f3digo de Barras digitado\u2022 2 -&gt; C\u00f3digo de Barras lido \u00f3ticamente\u2022 3 -&gt; CPF (11 caracteres)\u2022 4 -&gt; Cart\u00e3o (n\u00e3o deve passar o n\u00famero do cart\u00e3o, colocar tamanho dos dados zerado)\u2022 5 -&gt; Outros(at\u00e9 40 caracteres)Os bytes de 72 a 120 somente ser\u00e3o processados enecessarios para a adquirente REDE:\u2022 [72..73]Tamanho dos dados da op\u00e7\u00e3o de pagamento de fatura\u2022 [74..120] Dados de pagamento de fatura\u2022 [121..121] Indicativo de parametriza\u00e7\u00e3o para CPF E COD funcionario para br premia (0-N\u00e3o; 1-Sim)\u2022 [122..124] C\u00f3digo Funcionario BRPREMIA\u2022 [125..135] CPF Cliente[Especifica\u00e7\u00e3o do Retorno] C\u00f3digos poss\u00edveis:\u2022 [ 01 ] Uso restrito\u2022 [ 02 ] Uso restrito\u2022 [ 03 ] Uso restrito\u2022 [ 04 ] Uso restrito\u2022 [ 05 ] Reservado\u2022 [ 06 ] Dados Correspondente Banc\u00e1rio\u2022 [ 07 ] Dados Correspondente Banc\u00e1rio QuantidadeItensSplit(opcional, utilizar 0 caso n\u00e3o tenha itens) 03N 3 inteiros, informando a quantidade de itens enviados. ItensSplit Clique aqui para visualizar a tabela Quantidade Recebedores Split 03N 3 inteiros, informando a quantidade de recebedores enviados RecebedoresSplit Clique aqui para visualizar a tabela Status 02I \u2022 [ 00 ] Transa\u00e7\u00e3o autorizada\u2022 [ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>ItensSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais Descri\u00e7\u00e3o 20A 20 caracteres (com espa\u00e7os a direita) Quantidade 5N Quantidade vendida do item informado, 5 Inteiros C\u00f3digo 13A C\u00f3digo do produto, 13 caracteres. <p>RecebedoresSplit</p> Campo Tamanho Descri\u00e7\u00e3o Valor 12N 10 inteiros, 2 decimais CNPJ 14N 14 inteiros Tipo 01N [0] Valor Bruto [1] Porcentagem <p>* O tipo bruto indica que o dado informado no campo \"Valor\" da mesma estrutura representa o valor real que o CNPJ receber\u00e1, e o tipo porcentagem indica que o dado informado para aquele CNPJ \u00e9 um valor percentual, portando, o CNPJ receber\u00e1 x% do valor total.</p> <p>Status [ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>Status [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Debito/#confirmacao-debito","title":"Confirma\u00e7\u00e3o D\u00e9bito","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoDebito(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de d\u00e9bito \u00e9 realizada atrav\u00e9s da chamada \u00e0s fun\u00e7\u00f5es ConfirmaCartaoDebito.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o, indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/FinalizacaoVendaouRecebimento/","title":"Finaliza\u00e7\u00e3o de Venda ou Recebimento","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/FinalizacaoVendaouRecebimento/#finalizacao-de-venda-ou-recebimento","title":"Finaliza\u00e7\u00e3o de Venda ou Recebimento","text":"<pre><code>int DIRETIVA_CALLBACK FinalizaTransacao()\n</code></pre> <p>A finaliza\u00e7\u00e3o da opera\u00e7\u00e3o de venda ou de recebimento \u00e9 realizada atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o FinalizaTransacao. Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o. O funcionamento desta opera\u00e7\u00e3o depende do modo de desfazimento configurado atrav\u00e9s da fun\u00e7\u00e3o ConfiguraModoDesfazimento. Caso o modo de desfazimento n\u00e3o seja definido, o client assume o modo antigo de opera\u00e7\u00e3o, ou seja, vai realizar o desfazimento das transa\u00e7\u00f5es n\u00e3o confirmadas. Se for definido o modo expl\u00edcito as transa\u00e7\u00f5es ser\u00e3o desfeitas somente se for chamada a fun\u00e7\u00e3o DesfazCartao.</p> <p>O campo est\u00e1 abaixo caracterizado.</p> Campo Tamanho Descri\u00e7\u00e3o 02I \u2022 [ 00 ]  Finaliza\u00e7\u00e3o completada com sucesso\u2022 [ 11 ] Finaliza\u00e7\u00e3o N\u00c3O completada com sucesso <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o,, por\u00e9m o processo de confirma\u00e7\u00e3o da transa\u00e7\u00e3o junto \u00e0 institui\u00e7\u00e3o financeira apresentou falha. Neste caso, a transa\u00e7\u00e3o ficar\u00e1 pendente e dever\u00e1 ser tratada por meio da aplica\u00e7\u00e3o de procedimentos administrativos.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacao/","title":"LOG da \u00daltima Transa\u00e7\u00e3o","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/LogUltimaTransacaoTeleMarketing/","title":"LOG da \u00daltima Transa\u00e7\u00e3o Tele-Marketing","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/","title":"QR Code","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/QRCode/#qr-code","title":"QR Code","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoQRCode(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pReservado)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/","title":"Voucher","text":""},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#voucher","title":"Voucher","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoVoucher(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle)\n</code></pre> <p>[ 00 ] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. [ 11 ] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema de automa\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores, pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendo v\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#voucher-completa","title":"Voucher Completa","text":"<pre><code>int DIRETIVA_CALLBACK TransacaoCartaoVoucherCompleta(char *pValorTransacao, char *pNumeroCupom, char *pNumeroControle, char *pReservado)\n</code></pre> <p>Quando a automa\u00e7\u00e3o comercial necessitar de detalhes mais precisos da transa\u00e7\u00e3o, de cart\u00e3o Voucher, pode ser usada a solicita\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o Voucher, atrav\u00e9s da chamada \u00e0 fun\u00e7\u00e3o TransacaoCartaoVoucherCompleta. Os par\u00e2metros opcionais dessa fun\u00e7\u00e3o s\u00e3o os seguintes:</p> <p>Reservado (*)</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> Campo Tamanho Descri\u00e7\u00e3o ValorTransacao 12N \u2022 10 inteiros, 2 decimais NumeroCupom 06N N\u00famero do cupom (fiscal ou n\u00e3o fiscal) NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) Reservado 187A Especifica\u00e7\u00e3o\u2022 1..1 S aceita pagamento parcial com saldo que resta no cart\u00e3o N n\u00e3o aceita pagamento parcial 02I [ 00 ] Transa\u00e7\u00e3oautorizada[ 11 ] Transa\u00e7\u00e3o n\u00e3o efetuada <p>[00] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> <p>[11] indica que existiramrestri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. O sistema deautoma\u00e7\u00e3o deve retornar \u00e0 rotina de recebimento de valores,pois a transa\u00e7\u00e3o solicitada n\u00e3o foi autorizada, n\u00e3o sendov\u00e1lida como forma de pagamento.</p>"},{"location":"pages/MetodosAPIDesktop/TransacoesPrincipais/Voucher/#confirmacao-voucher","title":"Confirma\u00e7\u00e3o Voucher","text":"<pre><code>int DIRETIVA_CALLBACK ConfirmaCartaoVoucher(char *pNumeroControle)\n</code></pre> <pre><code>int DIRETIVA_CALLBACK TransacaoConfirmacaoPreAutorizacao(char *pNumeroControle)\n</code></pre> <p>A confirma\u00e7\u00e3o de transa\u00e7\u00e3o com cart\u00e3o de voucher \u00e9 realizada atrav\u00e9s da chamada a fun\u00e7\u00e3o ConfirmaCartaoVoucher.</p> <p>Na resposta da chamada \u00e0 fun\u00e7\u00e3o ser\u00e1 devolvido o , indicando o resultado da transa\u00e7\u00e3o.</p> <p>Os campos est\u00e3o abaixo caracterizados.</p> <p>[00] indica que n\u00e3o existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o.</p> Campo Tamanho Descri\u00e7\u00e3o NumeroControle 06N NSU (n\u00famero seq\u00fcencial \u00fanico) 02I [ 00 ] Confirma\u00e7\u00e3o aceita[ 11 ] Confirma\u00e7\u00e3o N\u00c3O aceita <p>[11] indica que existiram restri\u00e7\u00f5es para a efetiva\u00e7\u00e3o da transa\u00e7\u00e3o. Cabe ao sistema de automa\u00e7\u00e3o decidir a a\u00e7\u00e3o a ser tomada. A forma de pagamento deve ter sido aceita como v\u00e1lida, pelo sistema de automa\u00e7\u00e3o, por\u00e9m a transa\u00e7\u00e3o n\u00e3o ser\u00e1 confirmada com a institui\u00e7\u00e3o financeira.</p> <p>Fluxo de Confirmacao e Desfazimento</p>"},{"location":"pages/ModelosDeIntegracao/GerenciadorPadrao/","title":"Gerenciador Padr\u00e3o","text":""},{"location":"pages/ModelosDeIntegracao/GerenciadorPadrao/#introducao","title":"Introdu\u00e7\u00e3o","text":"<p>Este material foi preparado para descrever a integra\u00e7\u00e3o da solu\u00e7\u00e3o de Automa\u00e7\u00e3o Comercial com as fun\u00e7\u00f5es requeridas pela Troca de arquivos. O modelo proposto para esta integra\u00e7\u00e3o prev\u00ea os seguintes componentes:</p> <pre><code>\u2981 Aplicativo de Automa\u00e7\u00e3o Comercial\n\n\u2981 Gerenciador Padr\u00e3o: M\u00f3dulo que ir\u00e1 selecionar qual o M\u00f3dulo TEF a ser utilizado na transa\u00e7\u00e3o.\n\n\u2981 M\u00f3dulo TEF: Componente que interage com o usu\u00e1rio para coleta de dados da transa\u00e7\u00e3o a ser \nexecutada e comunica\u00e7\u00e3o com o Autorizador. Cada Rede possui um M\u00f3dulo TEF pr\u00f3prio. \n</code></pre> <p>O Gerenciador Padr\u00e3o cont\u00e9m um m\u00f3dulo execut\u00e1vel desenvolvido para plataforma Windows. O acionamento deste  m\u00f3dulo ser\u00e1 realizado pela Automa\u00e7\u00e3o Comercial atrav\u00e9s de Troca de arquivos texto contendo os par\u00e2metros da  transa\u00e7\u00e3o(ver diagrama abaixo).</p> <p></p>"},{"location":"pages/ModelosDeIntegracao/GerenciadorPadrao/#informacoes-tecnicas","title":"Informa\u00e7\u00f5es T\u00e9cnicas","text":""},{"location":"pages/ModelosDeIntegracao/GerenciadorPadrao/#comunicacao-entre-a-troca-de-arquivos-e-a-automacao-comercial","title":"Comunica\u00e7\u00e3o entre a Troca de arquivos e a Automa\u00e7\u00e3o Comercial","text":"<p>O Aplicativo de Automa\u00e7\u00e3o Comercial ser\u00e1 respons\u00e1vel por executar todas as tarefas pertinentes \u00e0 venda e a legisla\u00e7\u00e3o ECF, incluindo a impress\u00e3o do cupom fiscal e do cupom TEF. Ao t\u00e9rmino da venda, se a forma de pagamento escolhida utilizar a Troca de arquivos, a Automa\u00e7\u00e3o Comercial acionar\u00e1 o Gerenciador Padr\u00e3o (por meio de grava\u00e7\u00e3o de um arquivo) que, por sua vez, acionar\u00e1 o M\u00f3dulo TEF correspondente. A troca de informa\u00e7\u00f5es entre os sistemas \u00e9 feita por meio de troca de mensagens padr\u00e3o. Esta modalidade foi definida para permitir maior independ\u00eancia entre os sistemas.</p> <p>Apresentamos a seguir o fluxo simplificado de dados entre os m\u00f3dulos que comp\u00f5e esta solu\u00e7\u00e3o e a descri\u00e7\u00e3o detalhada das tarefas a serem executadas pelo Aplicativo de Automa\u00e7\u00e3o no uso das fun\u00e7\u00f5es de TEF.</p> <p> </p> Fluxo de comunica\u00e7\u00e3o da Solu\u00e7\u00e3o TEF e Automa\u00e7\u00e3o Comercial <p>OBS: Para a transa\u00e7\u00e3o \u201cATV\u201d o fluxo ser\u00e1 encerrado na etapa 2, outras transa\u00e7\u00f5es que n\u00e3o exijam impress\u00e3o de cupom TEF, o fluxo \u00e9 encerrado na etapa 4. Caso contr\u00e1rio, vai at\u00e9 a etapa 6.</p> <p>N\u00e3o h\u00e1 como identificar apenas atrav\u00e9s do tipo de transa\u00e7\u00e3o, se haver\u00e1 ou n\u00e3o a impress\u00e3o de cupom TEF. O Aplicativo de Automa\u00e7\u00e3o Comercial dever\u00e1 sempre verificar todas as informa\u00e7\u00f5es existentes no arquivo recebido na ETAPA 4 \u2013 Conforme tabela do item 4.3.</p> <p>A estrutura de Troca de arquivos prev\u00ea a utiliza\u00e7\u00e3o de 2 diret\u00f3rios: C:\\TEF_DIAL\\REQ e C:\\TEF_DIAL\\RESP.</p> <p>Diret\u00f3rio de envio dos dados:</p> <pre><code>\u2981 Utilizado pela Automa\u00e7\u00e3o Comercial para enviar os dados da transa\u00e7\u00e3o para o Gerenciador Padr\u00e3o.\n\n\u2981 A automa\u00e7\u00e3o Comercial gera um arquivo para **cada envio** de mensagem.\n\n\u2981 O Gerenciador Padr\u00e3o utiliza o arquivo recebido e o exclui ap\u00f3s sua utiliza\u00e7\u00e3o.\n</code></pre> <p>Nome do diret\u00f3rio: C:\\TEF_DIAL\\REQ</p> <p>Nome do arquivo (para as etapas 1 e 5 do gr\u00e1fico anterior): IntPos.001</p> <pre><code>OBS: Criar o arquivo com o nome IntPos.tmp e em seguida renome\u00e1-lo para IntPos.001\n</code></pre> <p>Diret\u00f3rio de retorno dos dados:</p> <pre><code>\u2981 Utilizado pela Automa\u00e7\u00e3o Comercial para receber os dados do Gerenciador Padr\u00e3o.\n\n\u2981 Gerenciador Padr\u00e3o gera um arquivo de resposta conforme fluxo.\n\n\u2981 Automa\u00e7\u00e3o Comercial utiliza o arquivo de resposta e o exclui ap\u00f3s sua utiliza\u00e7\u00e3o.\n\n\u2981 O arquivo de resposta cont\u00e9m indica\u00e7\u00e3o do aceite ou recusa do pedido efetuado pelo envio.\n</code></pre> <p>Nome do diret\u00f3rio: C:\\TEF_DIAL\\RESP</p> <p>Nome do arquivo (para as etapas 2 e 6 do gr\u00e1fico anterior): IntPos.Sts</p> <p>Nome do arquivo (para as demais etapas do gr\u00e1fico anterior): IntPos.001</p> <p>Como vimos, os softwares de Automa\u00e7\u00e3o Comercial e Gerenciador Padr\u00e3o funcionam simultaneamente como tarefas do Windows, sendo que a Automa\u00e7\u00e3o Comercial aciona o Gerenciador Padr\u00e3o por meio do envio de arquivos de solicita\u00e7\u00e3o conforme layout definido adiante.</p> <p>A Solu\u00e7\u00e3o TEF Discado integrada a Automa\u00e7\u00e3o Comercial atua da seguinte forma:</p> <pre><code>\u2981 Automa\u00e7\u00e3o Comercial, no t\u00e9rmino da  opera\u00e7\u00e3o comercial, gera o arquivo\nC:\\TEF_DIAL\\REQ\\IntPos.001 nos padr\u00f5es estabelecidos; (ETAPA 1)\n\n\u2981 O Gerenciador Padr\u00e3o avisa a Automa\u00e7\u00e3o Comercial que recebeu o arquivo \ne que est\u00e1 processando, gerando o arquivo C:\\TEF_DIAL\\RESP\\IntPos.Sts.\n\nObs.: Se a Automa\u00e7\u00e3o Comercial n\u00e3o receber este arquivo em at\u00e9 7 segundos, \nsignifica que o Gerenciador Padr\u00e3o n\u00e3o est\u00e1 ativo; (ETAPA 2)\n\n\u2981 O Gerenciador Padr\u00e3o maximiza uma tela para sele\u00e7\u00e3o da Rede desejada; (ETAPA 3)\n\n\u2981 Gerenciador Padr\u00e3o executa a transa\u00e7\u00e3o solicitada (ETAPA 3) e envia sua resposta\npara a Automa\u00e7\u00e3o Comercial: C:\\TEF_DIAL\\RESP \\IntPos.001; (ETAPA 4)\n\n\u2981 Caso haja cupom TEF a ser impresso, a Automa\u00e7\u00e3o Comercial deve imprimi-lo e em seguida\nretornar status da impress\u00e3o para o Gerenciador Padr\u00e3o: C:\\TEF_DIAL\\REQ\\IntPos.001. No caso\nde uma transa\u00e7\u00e3o de venda, se o valor da transa\u00e7\u00e3o n\u00e3o completar o valor total da venda, \na Automa\u00e7\u00e3o Comercial dever\u00e1 permitir ao usu\u00e1rio completar o pagamento com outras \nformas (dinheiro, cheque, etc) e imprimir o comprovante de TEF. (ETAPA 5)\n\n\u2981 Gerenciador Padr\u00e3o confirma recebimento do status da impress\u00e3o para a \nAutoma\u00e7\u00e3o Comercial: C:\\TEF_DIAL\\RESP \\IntPos.Sts. (ETAPA 6)\n</code></pre>"},{"location":"pages/ModelosDeIntegracao/GerenciadorPadrao/#procedimentos-para-a-transacao-tef","title":"Procedimentos para a transa\u00e7\u00e3o TEF:","text":"<p>A seguir o fluxo a ser obedecido quando da transa\u00e7\u00e3o TEF:</p> <p> </p> Procedimentos para Transa\u00e7\u00e3o TEF <p> </p> Procedimentos para Transa\u00e7\u00e3o TEF <p>Observa\u00e7\u00f5es:</p> <ol> <li> <p>Ap\u00f3s resposta do Operador para reiniciar a impress\u00e3o dos comprovantes do TEF, dever\u00e1 seguir as orienta\u00e7\u00f5es previstas na legisla\u00e7\u00e3o em vigor. Exemplos: Leitura X, Relat\u00f3rio Gerencial, etc.</p> </li> <li> <p>Caso ocorra queda de energia durante a impress\u00e3o do cupom, a Automa\u00e7\u00e3o Comercial dever\u00e1 automaticamente enviar uma transa\u00e7\u00e3o  \u2018NCN\u2019 apresentando a mensagem:</p> <pre><code>Cancela a Transa\u00e7\u00e3o:\nRede:\nNSU:\nValor:\n</code></pre> </li> <li> <p>Quando apresentar mensagem de n\u00e3o confirma\u00e7\u00e3o, apresentar os campos Doc. No (campo 12) e rede (campo 10) obrigatoriamente, o campo valor (campo 3) dever\u00e1 ser apresentado somente se estiver presente  ou com valor diferente de zero no arquivo Intpos.001 do diret\u00f3rio Resp. O campo valor tamb\u00e9m dever\u00e1 ser formatado como moeda.</p> </li> <li> <p>O n\u00famero de vias impressas do cupom poder\u00e1 ser parametrizado. Quando forem impressas 2 ou mais vias, a Automa\u00e7\u00e3o Comercial poder\u00e1 parar a impress\u00e3o por 5 segundos, entre as vias, para que seja destacado o cupom. Para o processo de certifica\u00e7\u00e3o, os testes ser\u00e3o realizados com a emiss\u00e3o de 2 vias.</p> <p>Sugest\u00e3o: Entre cada uma das vias deixar um espa\u00e7o de at\u00e9 5 linhas para destacar a via do cliente e a do estabelecimento.</p> </li> <li> <p>A verifica\u00e7\u00e3o da impress\u00e3o correta do comprovante deve ser feita pela automa\u00e7\u00e3o, n\u00e3o deixar o usu\u00e1rio informar se o mesmo foi impresso corretamente.</p> </li> <li> <p>Nunca imprimir leitura X entre as vias do comprovante TEF.</p> </li> <li> <p>Mensagem do Campo 30</p> <p>Esta deve ser apresentada pela Automa\u00e7\u00e3o Comercial quando seu conte\u00fado for diferente de vazio.</p> <p>Se vazio n\u00e3o poder\u00e1 ser apresentado o Message Box .</p> <p>Cuidados: <pre><code>\u2981 Quando existir linhas a serem impressas, a mensagem do campo 30 deve ser exibida\nparalelamente a impress\u00e3o. O box referente a essa mensagem, n\u00e3o poder\u00e1 aguardar um\nOk do usu\u00e1rio para come\u00e7ar a imprimir. Deixar a mensagem no m\u00ednimo por 5 segundos \nou durante toda a impress\u00e3o do cupom TEF. \n\n\u2981 Quando n\u00e3o houver linhas para serem impressas a mensagem deve ficar aguardando uma\nconfirma\u00e7\u00e3o (OK) do usu\u00e1rio.\n</code></pre></p> </li> <li> <p>Verifique tamb\u00e9m o documento  \u201cCuidados para  Certifica\u00e7\u00e3o \u201c, para maiores informa\u00e7\u00f5es.</p> </li> </ol>"},{"location":"pages/ModelosDeIntegracao/GerenciadorPadrao/#troca-de-arquivos","title":"Troca de arquivos","text":"<p>A CIELO criou a plataforma \u201cPremia\u201d para gerenciamento de campanhas de fideliza\u00e7\u00e3o para estabelecimentos  e emissores de cart\u00e3o, oferecendo funcionalidades de ac\u00famulo de pontos, resgate de pr\u00eamios e premia\u00e7\u00e3o  instant\u00e2nea. </p> <p>Estas funcionalidades j\u00e1 s\u00e3o contempladas por todas as solu\u00e7\u00f5es de captura da rede CIELO. No entanto, no  caso das solu\u00e7\u00f5es de Troca de arquivos, alguns ajustes s\u00e3o necess\u00e1rios nos aplicativos de Automa\u00e7\u00e3o  Comercial, n\u00e3o previstos na especifica\u00e7\u00e3o de integra\u00e7\u00e3o original.</p> <p>Clique aqui para ver o Layout de Mensagens de Comunica\u00e7\u00e3o.</p> <p>Clique aqui para ver outras considera\u00e7\u00f5es.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/","title":"Integra\u00e7\u00e3o API Desktop","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#integracao-api-desktop","title":"Integra\u00e7\u00e3o API Desktop","text":"<p>Nessa se\u00e7\u00e3o ser\u00e1 descrito os modelos de integra\u00e7\u00e3o disponiveis para o formato API Desktop, ou seja, para consumo de uma biblioteca compartilhada (.DLL Windows e .so Linux)</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#windows","title":"Windows","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#terminal-service","title":"Terminal Service","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#linux","title":"Linux","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#embarcado-windows-e-linux","title":"Embarcado (Windows e Linux)","text":"<p>No modelo de utiliza\u00e7\u00e3o do Paykit embarcado, o processo de instala\u00e7\u00e3o bem como atualiza\u00e7\u00e3o de vers\u00e3o do Paykit \u00e9 de responsabilidade da automa\u00e7\u00e3o que est\u00e1 levando consigo o client, logo os m\u00e9todos de Configura CNPJ Estabelecimento, Configura Empresa Loja e PDV, Configura Comunica\u00e7\u00e3o TEF e Busca do Certificado s\u00e3o de implementa\u00e7\u00e3o obrigat\u00f3ria da automa\u00e7\u00e3o, pois, \u00e9 atrav\u00e9s desses m\u00e9todos que a configura\u00e7\u00e3o da instala\u00e7\u00e3o do client ser\u00e1 feita.</p> <p>Nesse tipo de instala\u00e7\u00e3o, a automa\u00e7\u00e3o ter\u00e1 a disposi\u00e7\u00e3o 2 pacotes compactados, sendo eles: (1) <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> e (2) <code>Qt_Files_ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code>, que s\u00e3o respectivamente o Paykit em si e a interface gr\u00e1fica \u00e0 qual fica crit\u00e9rio da automa\u00e7\u00e3o utilizar ou n\u00e3o nossas interfaces de comunica\u00e7\u00e3o com o usu\u00e1rio. Al\u00e9m do pacote, tamb\u00e9m ser\u00e1 disponibilizado um arquivo de configura\u00e7\u00e3o (<code>dposlocal.ini</code>) com algumas informa\u00e7\u00f5es que dever\u00e3o ser alteradas conforme orienta\u00e7\u00e3o abaixo.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#processo-de-instalacao-paykit-embarcado","title":"Processo de Instala\u00e7\u00e3o Paykit Embarcado","text":""},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#paykit","title":"Paykit","text":"<p>Para instalar o pacote <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> o mesmo deve ser descompactado em qualquer pasta do sistema operacional do PDV e sua estrutura de pastas deve ser preservada. O arquivo <code>dposlocal.ini</code> caso disponibilizado de forma separada, deve ser inserido dentro da pasta <code>bin</code> do local descompactado. Alguns conte\u00fados das chaves do arquivo <code>ini</code> estar\u00e3o com o conte\u00fado <code>{app}</code> e nesse caso essa informa\u00e7\u00e3o deve ser substitu\u00edda para o path \u00e0 qual foi descompactado o arquivo <code>.zip</code>.</p> <p>Exemplo:</p> <ol> <li> <p>Uma vez descompactado o <code>ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> no path <code>C:\\Users\\Linx\\Downloads\\Paykit</code>.</p> </li> <li> <p>A chave <code>DIRETORIOBASE={app}\\bin</code> ser\u00e1 alterada.</p> </li> <li> <p>Novo valor: <code>DIRETORIOBASE=C:\\Users\\Linx\\Downloads\\Paykit\\bin</code></p> </li> </ol> <p>A utiliza\u00e7\u00e3o do <code>dposlocal.ini</code> caracteriza uma instala\u00e7\u00e3o embarcada, logo n\u00e3o deve haver nenhum outro arquivo de configura\u00e7\u00e3o no PDV para n\u00e3o gerar conflitos.</p> <p>ATEN\u00c7\u00c3O!!</p> <p>O arquivo <code>dposlocal.ini</code> se localiza na pasta <code>bin</code>, logo, numa eventual atualiza\u00e7\u00e3o das bibliotecas do Paykit, somente os arquivos disponibilizados (arquivo.dll, arquivo.so, etc) devem ser substitu\u00eddos para que a configura\u00e7\u00e3o n\u00e3o se perca em um procedimento de atualiza\u00e7\u00e3o.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#interface-grafica","title":"Interface Gr\u00e1fica","text":"<p>O pacote de interface gr\u00e1fica \u00e9 opcional e somente necessita ser utilizado nos casos onde a automa\u00e7\u00e3o opta por utilizar as pr\u00f3prias telas do Paykit para interfaceamento com o usu\u00e1rio. Para a utiliza\u00e7\u00e3o do pacote <code>Qt_Files_ClientLinxTEF_&lt;VERS\u00c3O&gt;_&lt;ARCH&gt;.zip</code> basta descompacta-lo em qualquer lugar do PDV (preferencialmente na pasta <code>bin</code> c\u00edtada no t\u00f3pico anterior), configurar a vari\u00e1vel de PATH do sistema para a pasta <code>bin</code> do Paykit e alterar no <code>dposlocal.ini</code> a se\u00e7\u00e3o/chave <code>[CONFIG] QTDIRETORIOBASE=</code> para o respectivo diret\u00f3rio onde foi descompactado o pacote.</p> <p>Exemplo:  <pre><code>[CONFIG]\nQTDIRETORIOBASE=C:\\Users\\Linx\\Downloads\\Paykit\\bin\\QTApplication\n</code></pre></p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoAPIDesktop/#coleta-de-logs","title":"Coleta de logs","text":"<p>A coleta de logs no caso do client embarcado tem que ser feito de forma manual e pode ser feito pela pr\u00f3pria automa\u00e7\u00e3o ou suporte Linx. Os arquivos de logs que s\u00e3o gerados pelo Paykit s\u00e3o salvos no path configurado na se\u00e7\u00e3o/chave <code>[CONFIG]INTERNO</code> configurada no <code>dposlocal.ini</code>. Caso os path n\u00e3o tenham sido customizados pela automa\u00e7\u00e3o os arquivos por padr\u00e3o ser\u00e3o encontrados em: <code>&lt;PATH_DESCOMPACTA\u00c7\u00c3O_PAYKIT&gt;/Interno</code>, e s\u00e3o caracterizados pelos artefatos com a extens\u00e3o <code>.dbg</code>, <code>.LOG</code> e <code>.err</code>.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoSemTelas/","title":"Integra\u00e7\u00e3o sem telas","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/ModelosDeIntegracao/IntegracaoWeb/","title":"IntegracaoWeb","text":"<p>Alguns itens nesta se\u00e7\u00e3o est\u00e3o temporariamente vazios, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/CancelamentoDireta/","title":"Transa\u00e7\u00e3o de Cancelamento Direta (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/CartaoDeCreditoDireta/","title":"Transa\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/ConfirmacaoPreAutorizacaoDireta/","title":"Transa\u00e7\u00e3o de Confirma\u00e7\u00e3o Pre-Autoriza\u00e7\u00e3o Direta (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/ConsultaAVS/","title":"Transa\u00e7\u00e3o de Consulta AVS (Tele-Marketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/OutrasFuncoesTeleMarketing/","title":"Outras Fun\u00e7\u00f5es de Tele-Marketing","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"},{"location":"pages/TransacoesTeleMarketing/PreAutorizacaoCartaoDeCreditoDireta/","title":"Transa\u00e7\u00e3o de Pr\u00e9-Autoriza\u00e7\u00e3o de Cart\u00e3o de Cr\u00e9dito Direta (Tele-Maketing)","text":"<p>Esta se\u00e7\u00e3o est\u00e1 temporariamente vazia, consulte a documenta\u00e7\u00e3o clicando aqui.</p>"}]}